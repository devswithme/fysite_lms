"use client";
// Workaround for react-datepicker and other cjs dependencies potentially inserting require("react") statements
import * as requireReact from 'react';
import * as requireReactDom from 'react-dom';

function require(m) {
 if (m === 'react') return requireReact;
 if (m === 'react-dom') return requireReactDom;
 throw new Error(`Unknown module ${m}`);
}
// Workaround end

import{a as ug,b as W,c as dg,d as Ft,e as lP,f as cP,g as mg,h as uP,i as dP}from"./chunk-5EP6VERX.js";import{a as bt,b as uc,c as cg,d as N,e as Ta,f as $y,g as ky,h as gi,i as nm,j as aP,k as jy,l as mP,m as fP,n as pP}from"./chunk-TIQCV7VX.js";import{c as tn,d as Ly,e as hi}from"./chunk-5LKBKI4T.js";var Xy=tn(Rt=>{"use strict";function gg(t,e){var o=t.length;t.push(e);e:for(;0<o;){var n=o-1>>>1,r=t[n];if(0<sm(r,e))t[n]=e,t[o]=r,o=n;else break e}}function on(t){return t.length===0?null:t[0]}function am(t){if(t.length===0)return null;var e=t[0],o=t.pop();if(o!==e){t[0]=o;e:for(var n=0,r=t.length,s=r>>>1;n<s;){var i=2*(n+1)-1,l=t[i],a=i+1,c=t[a];if(0>sm(l,o))a<r&&0>sm(c,l)?(t[n]=c,t[a]=o,n=a):(t[n]=l,t[i]=o,n=i);else if(a<r&&0>sm(c,o))t[n]=c,t[a]=o,n=a;else break e}}return e}function sm(t,e){var o=t.sortIndex-e.sortIndex;return o!==0?o:t.id-e.id}Rt.unstable_now=void 0;typeof performance=="object"&&typeof performance.now=="function"?(By=performance,Rt.unstable_now=function(){return By.now()}):(fg=Date,My=fg.now(),Rt.unstable_now=function(){return fg.now()-My});var By,fg,My,_n=[],Ps=[],hP=1,$r=null,Vo=3,lm=!1,bi=!1,mc=!1,Gy=typeof setTimeout=="function"?setTimeout:null,zy=typeof clearTimeout=="function"?clearTimeout:null,Oy=typeof setImmediate<"u"?setImmediate:null;function im(t){for(var e=on(Ps);e!==null;){if(e.callback===null)am(Ps);else if(e.startTime<=t)am(Ps),e.sortIndex=e.expirationTime,gg(_n,e);else break;e=on(Ps)}}function bg(t){if(mc=!1,im(t),!bi)if(on(_n)!==null)bi=!0,vg();else{var e=on(Ps);e!==null&&Cg(bg,e.startTime-t)}}var cm=!1,fc=-1,Wy=5,Hy=-1;function Uy(){return!(Rt.unstable_now()-Hy<Wy)}function pg(){if(cm){var t=Rt.unstable_now();Hy=t;var e=!0;try{e:{bi=!1,mc&&(mc=!1,zy(fc),fc=-1),lm=!0;var o=Vo;try{t:{for(im(t),$r=on(_n);$r!==null&&!($r.expirationTime>t&&Uy());){var n=$r.callback;if(typeof n=="function"){$r.callback=null,Vo=$r.priorityLevel;var r=n($r.expirationTime<=t);if(t=Rt.unstable_now(),typeof r=="function"){$r.callback=r,im(t),e=!0;break t}$r===on(_n)&&am(_n),im(t)}else am(_n);$r=on(_n)}if($r!==null)e=!0;else{var s=on(Ps);s!==null&&Cg(bg,s.startTime-t),e=!1}}break e}finally{$r=null,Vo=o,lm=!1}e=void 0}}finally{e?dc():cm=!1}}}var dc;typeof Oy=="function"?dc=function(){Oy(pg)}:typeof MessageChannel<"u"?(hg=new MessageChannel,Vy=hg.port2,hg.port1.onmessage=pg,dc=function(){Vy.postMessage(null)}):dc=function(){Gy(pg,0)};var hg,Vy;function vg(){cm||(cm=!0,dc())}function Cg(t,e){fc=Gy(function(){t(Rt.unstable_now())},e)}Rt.unstable_IdlePriority=5;Rt.unstable_ImmediatePriority=1;Rt.unstable_LowPriority=4;Rt.unstable_NormalPriority=3;Rt.unstable_Profiling=null;Rt.unstable_UserBlockingPriority=2;Rt.unstable_cancelCallback=function(t){t.callback=null};Rt.unstable_continueExecution=function(){bi||lm||(bi=!0,vg())};Rt.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Wy=0<t?Math.floor(1e3/t):5};Rt.unstable_getCurrentPriorityLevel=function(){return Vo};Rt.unstable_getFirstCallbackNode=function(){return on(_n)};Rt.unstable_next=function(t){switch(Vo){case 1:case 2:case 3:var e=3;break;default:e=Vo}var o=Vo;Vo=e;try{return t()}finally{Vo=o}};Rt.unstable_pauseExecution=function(){};Rt.unstable_requestPaint=function(){};Rt.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var o=Vo;Vo=t;try{return e()}finally{Vo=o}};Rt.unstable_scheduleCallback=function(t,e,o){var n=Rt.unstable_now();switch(typeof o=="object"&&o!==null?(o=o.delay,o=typeof o=="number"&&0<o?n+o:n):o=n,t){case 1:var r=-1;break;case 2:r=250;break;case 5:r=1073741823;break;case 4:r=1e4;break;default:r=5e3}return r=o+r,t={id:hP++,callback:e,priorityLevel:t,startTime:o,expirationTime:r,sortIndex:-1},o>n?(t.sortIndex=o,gg(Ps,t),on(_n)===null&&t===on(Ps)&&(mc?(zy(fc),fc=-1):mc=!0,Cg(bg,o-n))):(t.sortIndex=r,gg(_n,t),bi||lm||(bi=!0,vg())),t};Rt.unstable_shouldYield=Uy;Rt.unstable_wrapCallback=function(t){var e=Vo;return function(){var o=Vo;Vo=e;try{return t.apply(this,arguments)}finally{Vo=o}}}});var Yy=tn((MK,Zy)=>{"use strict";Zy.exports=Xy()});var tS=tn(yt=>{"use strict";var Do=typeof Symbol=="function"&&Symbol.for,X1=Do?Symbol.for("react.element"):60103,Z1=Do?Symbol.for("react.portal"):60106,If=Do?Symbol.for("react.fragment"):60107,_f=Do?Symbol.for("react.strict_mode"):60108,Df=Do?Symbol.for("react.profiler"):60114,Tf=Do?Symbol.for("react.provider"):60109,Ff=Do?Symbol.for("react.context"):60110,Y1=Do?Symbol.for("react.async_mode"):60111,Rf=Do?Symbol.for("react.concurrent_mode"):60111,Af=Do?Symbol.for("react.forward_ref"):60112,Pf=Do?Symbol.for("react.suspense"):60113,yk=Do?Symbol.for("react.suspense_list"):60120,Ef=Do?Symbol.for("react.memo"):60115,Nf=Do?Symbol.for("react.lazy"):60116,xk=Do?Symbol.for("react.block"):60121,wk=Do?Symbol.for("react.fundamental"):60117,Sk=Do?Symbol.for("react.responder"):60118,Ik=Do?Symbol.for("react.scope"):60119;function Sr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case X1:switch(t=t.type,t){case Y1:case Rf:case If:case Df:case _f:case Pf:return t;default:switch(t=t&&t.$$typeof,t){case Ff:case Af:case Nf:case Ef:case Tf:return t;default:return e}}case Z1:return e}}}function eS(t){return Sr(t)===Rf}yt.AsyncMode=Y1;yt.ConcurrentMode=Rf;yt.ContextConsumer=Ff;yt.ContextProvider=Tf;yt.Element=X1;yt.ForwardRef=Af;yt.Fragment=If;yt.Lazy=Nf;yt.Memo=Ef;yt.Portal=Z1;yt.Profiler=Df;yt.StrictMode=_f;yt.Suspense=Pf;yt.isAsyncMode=function(t){return eS(t)||Sr(t)===Y1};yt.isConcurrentMode=eS;yt.isContextConsumer=function(t){return Sr(t)===Ff};yt.isContextProvider=function(t){return Sr(t)===Tf};yt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===X1};yt.isForwardRef=function(t){return Sr(t)===Af};yt.isFragment=function(t){return Sr(t)===If};yt.isLazy=function(t){return Sr(t)===Nf};yt.isMemo=function(t){return Sr(t)===Ef};yt.isPortal=function(t){return Sr(t)===Z1};yt.isProfiler=function(t){return Sr(t)===Df};yt.isStrictMode=function(t){return Sr(t)===_f};yt.isSuspense=function(t){return Sr(t)===Pf};yt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===If||t===Rf||t===Df||t===_f||t===Pf||t===yk||typeof t=="object"&&t!==null&&(t.$$typeof===Nf||t.$$typeof===Ef||t.$$typeof===Tf||t.$$typeof===Ff||t.$$typeof===Af||t.$$typeof===wk||t.$$typeof===Sk||t.$$typeof===Ik||t.$$typeof===xk)};yt.typeOf=Sr});var rS=tn((Ege,oS)=>{"use strict";oS.exports=tS()});var uS=tn((Nge,cS)=>{"use strict";var J1=rS(),_k={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Dk={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Tk={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},aS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},q1={};q1[J1.ForwardRef]=Tk;q1[J1.Memo]=aS;function nS(t){return J1.isMemo(t)?aS:q1[t.$$typeof]||_k}var Fk=Object.defineProperty,Rk=Object.getOwnPropertyNames,sS=Object.getOwnPropertySymbols,Ak=Object.getOwnPropertyDescriptor,Pk=Object.getPrototypeOf,iS=Object.prototype;function lS(t,e,o){if(typeof e!="string"){if(iS){var n=Pk(e);n&&n!==iS&&lS(t,n,o)}var r=Rk(e);sS&&(r=r.concat(sS(e)));for(var s=nS(t),i=nS(e),l=0;l<r.length;++l){var a=r[l];if(!Dk[a]&&!(o&&o[a])&&!(i&&i[a])&&!(s&&s[a])){var c=Ak(e,a);try{Fk(t,a,c)}catch{}}}}return t}cS.exports=lS});var Pb=tn((gCe,D_)=>{var Ab=Math.floor(Math.random()*16777215),x_=wt.index=parseInt(Math.random()*16777215,10),w_=(typeof process>"u"||typeof process.pid!="number"?Math.floor(Math.random()*1e5):process.pid)%65535,S_=(()=>{try{return _Buffer}catch{try{return Buffer}catch{return null}}})(),Yf=function(t){return!!(t!=null&&t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t))},__=[];for(ar=0;ar<256;ar++)__[ar]=(ar<=15?"0":"")+ar.toString(16);var ar,I_=new RegExp("^[0-9a-fA-F]{24}$"),fu=[];ar=0;for(;ar<10;)fu[48+ar]=ar++;for(;ar<16;)fu[55+ar]=fu[87+ar]=ar++;function wt(t){if(!(this instanceof wt))return new wt(t);if(t&&(t instanceof wt||t._bsontype==="ObjectID"))return t;if(this._bsontype="ObjectID",t==null||typeof t=="number"){this.id=this.generate(t);return}var e=wt.isValid(t);if(!e&&t!=null)throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(e&&typeof t=="string"&&t.length===24)return wt.createFromHexString(t);if(t!=null&&t.length===12)this.id=t;else{if(t!=null&&typeof t.toHexString=="function")return t;throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters")}}D_.exports=wt;wt.default=wt;wt.createFromTime=function(t){return t=parseInt(t,10)%4294967295,new wt(_M(8,t)+"0000000000000000")};wt.createFromHexString=function(t){if(typeof t>"u"||t!=null&&t.length!==24)throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");for(var e="",o=0;o<24;)e+=String.fromCharCode(fu[t.charCodeAt(o++)]<<4|fu[t.charCodeAt(o++)]);return new wt(e)};wt.isValid=function(t){return t==null?!1:typeof t=="number"?!0:typeof t=="string"?t.length===12||t.length===24&&I_.test(t):t instanceof wt?!0:Yf(t)?wt.isValid(t.toString("hex")):typeof t.toHexString=="function"&&S_&&(t.id instanceof S_||typeof t.id=="string")?t.id.length===12||t.id.length===24&&I_.test(t.id):!1};wt.prototype={constructor:wt,toHexString:function(){if(!this.id||!this.id.length)throw new Error("invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is ["+JSON.stringify(this.id)+"]");if(this.id.length===24)return this.id;if(Yf(this.id))return this.id.toString("hex");for(var t="",e=0;e<this.id.length;e++)t+=__[this.id.charCodeAt(e)];return t},equals:function(t){return t instanceof wt?this.toString()===t.toString():typeof t=="string"&&wt.isValid(t)&&t.length===12&&Yf(this.id)?t===this.id.toString("binary"):typeof t=="string"&&wt.isValid(t)&&t.length===24?t.toLowerCase()===this.toHexString():typeof t=="string"&&wt.isValid(t)&&t.length===12?t===this.id:t!=null&&(t instanceof wt||t.toHexString)?t.toHexString()===this.toHexString():!1},getTimestamp:function(){var t=new Date,e;return Yf(this.id)?e=this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24:e=this.id.charCodeAt(3)|this.id.charCodeAt(2)<<8|this.id.charCodeAt(1)<<16|this.id.charCodeAt(0)<<24,t.setTime(Math.floor(e)*1e3),t},generate:function(t){typeof t!="number"&&(t=~~(Date.now()/1e3)),t=parseInt(t,10)%4294967295;var e=IM();return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255,Ab>>16&255,Ab>>8&255,Ab&255,w_>>8&255,w_&255,e>>16&255,e>>8&255,e&255)}};function IM(){return x_=(x_+1)%16777215}function _M(t,e){return e=e.toString(16),e.length===t?e:"00000000".substring(e.length,t)+e}var DM=Symbol&&Symbol.for&&Symbol.for("nodejs.util.inspect.custom")||"inspect";wt.prototype[DM]=function(){return"ObjectID("+this+")"};wt.prototype.toJSON=wt.prototype.toHexString;wt.prototype.toString=wt.prototype.toHexString});var _v=tn((z4e,nD)=>{function Iv(t){return t===void 0}function _8(t){return t===null}function D8(t){return typeof t=="boolean"}function Cp(t){return t===Object(t)}function oD(t){return Array.isArray(t)}function T8(t){return t instanceof Date}function rD(t,e){return e?Cp(t)&&!Iv(t.uri):Cp(t)&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.slice=="function"}function F8(t,e){return rD(t,e)&&typeof t.name=="string"&&(Cp(t.lastModifiedDate)||typeof t.lastModified=="number")}function Ki(t){return Iv(t)?!1:t}function Sv(t,e,o,n){e=e||{},o=o||new FormData,e.indices=Ki(e.indices),e.nullsAsUndefineds=Ki(e.nullsAsUndefineds),e.booleansAsIntegers=Ki(e.booleansAsIntegers),e.allowEmptyArrays=Ki(e.allowEmptyArrays),e.noAttributesWithArrayNotation=Ki(e.noAttributesWithArrayNotation),e.noFilesWithArrayNotation=Ki(e.noFilesWithArrayNotation),e.dotsForObjectNotation=Ki(e.dotsForObjectNotation);let r=typeof o.getParts=="function";return Iv(t)||(_8(t)?e.nullsAsUndefineds||o.append(n,""):D8(t)?e.booleansAsIntegers?o.append(n,t?1:0):o.append(n,t):oD(t)?t.length?t.forEach((s,i)=>{let l=n+"["+(e.indices?i:"")+"]";(e.noAttributesWithArrayNotation||e.noFilesWithArrayNotation&&F8(s,r))&&(l=n),Sv(s,e,o,l)}):e.allowEmptyArrays&&o.append(e.noAttributesWithArrayNotation?n:n+"[]",""):T8(t)?o.append(n,t.toISOString()):Cp(t)&&!rD(t,r)?Object.keys(t).forEach(s=>{let i=t[s];if(oD(i))for(;s.length>2&&s.lastIndexOf("[]")===s.length-2;)s=s.substring(0,s.length-2);let l=n?e.dotsForObjectNotation?n+"."+s:n+"["+s+"]":s;Sv(i,e,o,l)}):o.append(n,t)),o}nD.exports={serialize:Sv}});var wF=tn((fMe,xF)=>{(function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e={rotl:function(o,n){return o<<n|o>>>32-n},rotr:function(o,n){return o<<32-n|o>>>n},endian:function(o){if(o.constructor==Number)return e.rotl(o,8)&16711935|e.rotl(o,24)&4278255360;for(var n=0;n<o.length;n++)o[n]=e.endian(o[n]);return o},randomBytes:function(o){for(var n=[];o>0;o--)n.push(Math.floor(Math.random()*256));return n},bytesToWords:function(o){for(var n=[],r=0,s=0;r<o.length;r++,s+=8)n[s>>>5]|=o[r]<<24-s%32;return n},wordsToBytes:function(o){for(var n=[],r=0;r<o.length*32;r+=8)n.push(o[r>>>5]>>>24-r%32&255);return n},bytesToHex:function(o){for(var n=[],r=0;r<o.length;r++)n.push((o[r]>>>4).toString(16)),n.push((o[r]&15).toString(16));return n.join("")},hexToBytes:function(o){for(var n=[],r=0;r<o.length;r+=2)n.push(parseInt(o.substr(r,2),16));return n},bytesToBase64:function(o){for(var n=[],r=0;r<o.length;r+=3)for(var s=o[r]<<16|o[r+1]<<8|o[r+2],i=0;i<4;i++)r*8+i*6<=o.length*8?n.push(t.charAt(s>>>6*(3-i)&63)):n.push("=");return n.join("")},base64ToBytes:function(o){o=o.replace(/[^A-Z0-9+\/]/ig,"");for(var n=[],r=0,s=0;r<o.length;s=++r%4)s!=0&&n.push((t.indexOf(o.charAt(r-1))&Math.pow(2,-2*s+8)-1)<<s*2|t.indexOf(o.charAt(r))>>>6-s*2);return n}};xF.exports=e})()});var w0=tn((pMe,SF)=>{var x0={utf8:{stringToBytes:function(t){return x0.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(x0.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],o=0;o<t.length;o++)e.push(t.charCodeAt(o)&255);return e},bytesToString:function(t){for(var e=[],o=0;o<t.length;o++)e.push(String.fromCharCode(t[o]));return e.join("")}}};SF.exports=x0});var DF=tn((hMe,_F)=>{_F.exports=function(t){return t!=null&&(IF(t)||EH(t)||!!t._isBuffer)};function IF(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function EH(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&IF(t.slice(0,0))}});var FF=tn((gMe,TF)=>{(function(){var t=wF(),e=w0().utf8,o=DF(),n=w0().bin,r=function(s,i){s.constructor==String?i&&i.encoding==="binary"?s=n.stringToBytes(s):s=e.stringToBytes(s):o(s)?s=Array.prototype.slice.call(s,0):!Array.isArray(s)&&s.constructor!==Uint8Array&&(s=s.toString());for(var l=t.bytesToWords(s),a=s.length*8,c=1732584193,u=-271733879,d=-1732584194,m=271733878,f=0;f<l.length;f++)l[f]=(l[f]<<8|l[f]>>>24)&16711935|(l[f]<<24|l[f]>>>8)&4278255360;l[a>>>5]|=128<<a%32,l[(a+64>>>9<<4)+14]=a;for(var h=r._ff,p=r._gg,g=r._hh,b=r._ii,f=0;f<l.length;f+=16){var C=c,v=u,y=d,x=m;c=h(c,u,d,m,l[f+0],7,-680876936),m=h(m,c,u,d,l[f+1],12,-389564586),d=h(d,m,c,u,l[f+2],17,606105819),u=h(u,d,m,c,l[f+3],22,-1044525330),c=h(c,u,d,m,l[f+4],7,-176418897),m=h(m,c,u,d,l[f+5],12,1200080426),d=h(d,m,c,u,l[f+6],17,-1473231341),u=h(u,d,m,c,l[f+7],22,-45705983),c=h(c,u,d,m,l[f+8],7,1770035416),m=h(m,c,u,d,l[f+9],12,-1958414417),d=h(d,m,c,u,l[f+10],17,-42063),u=h(u,d,m,c,l[f+11],22,-1990404162),c=h(c,u,d,m,l[f+12],7,1804603682),m=h(m,c,u,d,l[f+13],12,-40341101),d=h(d,m,c,u,l[f+14],17,-1502002290),u=h(u,d,m,c,l[f+15],22,1236535329),c=p(c,u,d,m,l[f+1],5,-165796510),m=p(m,c,u,d,l[f+6],9,-1069501632),d=p(d,m,c,u,l[f+11],14,643717713),u=p(u,d,m,c,l[f+0],20,-373897302),c=p(c,u,d,m,l[f+5],5,-701558691),m=p(m,c,u,d,l[f+10],9,38016083),d=p(d,m,c,u,l[f+15],14,-660478335),u=p(u,d,m,c,l[f+4],20,-405537848),c=p(c,u,d,m,l[f+9],5,568446438),m=p(m,c,u,d,l[f+14],9,-1019803690),d=p(d,m,c,u,l[f+3],14,-187363961),u=p(u,d,m,c,l[f+8],20,1163531501),c=p(c,u,d,m,l[f+13],5,-1444681467),m=p(m,c,u,d,l[f+2],9,-51403784),d=p(d,m,c,u,l[f+7],14,1735328473),u=p(u,d,m,c,l[f+12],20,-1926607734),c=g(c,u,d,m,l[f+5],4,-378558),m=g(m,c,u,d,l[f+8],11,-2022574463),d=g(d,m,c,u,l[f+11],16,1839030562),u=g(u,d,m,c,l[f+14],23,-35309556),c=g(c,u,d,m,l[f+1],4,-1530992060),m=g(m,c,u,d,l[f+4],11,1272893353),d=g(d,m,c,u,l[f+7],16,-155497632),u=g(u,d,m,c,l[f+10],23,-1094730640),c=g(c,u,d,m,l[f+13],4,681279174),m=g(m,c,u,d,l[f+0],11,-358537222),d=g(d,m,c,u,l[f+3],16,-722521979),u=g(u,d,m,c,l[f+6],23,76029189),c=g(c,u,d,m,l[f+9],4,-640364487),m=g(m,c,u,d,l[f+12],11,-421815835),d=g(d,m,c,u,l[f+15],16,530742520),u=g(u,d,m,c,l[f+2],23,-995338651),c=b(c,u,d,m,l[f+0],6,-198630844),m=b(m,c,u,d,l[f+7],10,1126891415),d=b(d,m,c,u,l[f+14],15,-1416354905),u=b(u,d,m,c,l[f+5],21,-57434055),c=b(c,u,d,m,l[f+12],6,1700485571),m=b(m,c,u,d,l[f+3],10,-1894986606),d=b(d,m,c,u,l[f+10],15,-1051523),u=b(u,d,m,c,l[f+1],21,-2054922799),c=b(c,u,d,m,l[f+8],6,1873313359),m=b(m,c,u,d,l[f+15],10,-30611744),d=b(d,m,c,u,l[f+6],15,-1560198380),u=b(u,d,m,c,l[f+13],21,1309151649),c=b(c,u,d,m,l[f+4],6,-145523070),m=b(m,c,u,d,l[f+11],10,-1120210379),d=b(d,m,c,u,l[f+2],15,718787259),u=b(u,d,m,c,l[f+9],21,-343485551),c=c+C>>>0,u=u+v>>>0,d=d+y>>>0,m=m+x>>>0}return t.endian([c,u,d,m])};r._ff=function(s,i,l,a,c,u,d){var m=s+(i&l|~i&a)+(c>>>0)+d;return(m<<u|m>>>32-u)+i},r._gg=function(s,i,l,a,c,u,d){var m=s+(i&a|l&~a)+(c>>>0)+d;return(m<<u|m>>>32-u)+i},r._hh=function(s,i,l,a,c,u,d){var m=s+(i^l^a)+(c>>>0)+d;return(m<<u|m>>>32-u)+i},r._ii=function(s,i,l,a,c,u,d){var m=s+(l^(i|~a))+(c>>>0)+d;return(m<<u|m>>>32-u)+i},r._blocksize=16,r._digestsize=16,TF.exports=function(s,i){if(s==null)throw new Error("Illegal argument "+s);var l=t.wordsToBytes(r(s,i));return i&&i.asBytes?l:i&&i.asString?n.bytesToString(l):t.bytesToHex(l)}})()});import{jsx as Dg}from"react/jsx-runtime";import"react";function ue({CustomComponent:t,Fallback:e}){return t!==void 0?t:e}import{c as FP}from"react/compiler-runtime";import{jsx as RP}from"react/jsx-runtime";import Ky from"react";import{createContext as Es,use as Ns}from"react";var pc=hi(Yy(),1);import{createElement as gP,createContext as bP,useContext as vP,useEffect as CP,useLayoutEffect as yP,useReducer as xP,useRef as yg,useState as wP}from"react";var um=Symbol(),SP=Symbol(),IP=typeof window>"u"||/ServerSideRendering/.test(window.navigator&&window.navigator.userAgent),Jy=IP?CP:yP,_P=pc.unstable_runWithPriority?t=>{try{(0,pc.unstable_runWithPriority)(pc.unstable_NormalPriority,t)}catch(e){if(e.message==="Not implemented.")t();else throw e}}:t=>t(),DP=t=>({value:o,children:n})=>{let r=yg(o),s=yg(0),[i,l]=wP(null);i&&(i(o),l(null));let a=yg();if(!a.current){let c=new Set,u=(d,m)=>{s.current+=1;let f={n:s.current};m?.suspense&&(f.n*=-1,f.p=new Promise(h=>{l(()=>p=>{f.v=p,delete f.p,h(p)})})),c.forEach(h=>h(f)),d()};a.current={[um]:{v:r,n:s,l:c,u}}}return Jy(()=>{r.current=o,s.current+=1,_P(()=>{a.current[um].l.forEach(c=>{c({n:s.current,v:o})})})},[o]),gP(t,{value:a.current},n)},TP=t=>t;function qy(t){let e=bP({[um]:{v:{current:t},n:{current:-1},l:new Set,u:o=>o()}});return e[SP]=e.Provider,e.Provider=DP(e.Provider),delete e.Consumer,e}function xg(t,e){let o=vP(t)[um],{v:{current:n},n:{current:r},l:s}=o,i=e(n),[l,a]=xP((c,u)=>{if(!u)return[n,i];if("p"in u)throw u.p;if(u.n===r)return Object.is(c[1],i)?c:[n,i];try{if("v"in u){if(Object.is(c[0],u.v))return c;let d=e(u.v);return Object.is(c[1],d)?c:[u.v,d]}}catch{}return[...c]},[n,i]);return Object.is(l[1],i)||a(),Jy(()=>(s.add(a),()=>{s.delete(a)}),[s]),l[1]}function Qy(t){return xg(t,TP)}var dm=Es({}),mm=Es({}),fm=Es({}),pm=Es(!1),hm=Es(!1),wg=Es(!1),gm=Es(!1),Sg=Es(!1),hc=qy([{},()=>null]),Ve=()=>Ns(dm),Fa=()=>Ns(mm),bm=()=>Ns(fm),fo=()=>Ns(pm),kr=()=>Ns(hm),Ig=()=>Ns(wg),So=()=>Ns(gm),vi=()=>Ns(Sg),Lt=t=>xg(hc,t),Ls=()=>Qy(hc);var ex=Ky.createContext({data:{},path:"",rowNumber:void 0}),_g=t=>{let e=FP(6),{children:o,path:n,rowNumber:r}=t,{getDataByPath:s,getSiblingData:i}=bm(),l;if(e[0]!==o||e[1]!==s||e[2]!==i||e[3]!==n||e[4]!==r){let a=i(n),u=s(n)||a;l=RP(ex,{value:{data:u,path:n,rowNumber:r},children:o}),e[0]=o,e[1]=s,e[2]=i,e[3]=n,e[4]=r,e[5]=l}else l=e[5];return l},AP=()=>Ky.use(ex);var PP="row-label",Zn=t=>{let{className:e,CustomComponent:o,label:n,path:r,rowNumber:s}=t;return Dg(_g,{path:r,rowNumber:s,children:Dg(ue,{CustomComponent:o,Fallback:typeof n=="string"?Dg("span",{className:[PP,e].filter(Boolean).join(" "),style:{pointerEvents:"none"},children:n}):n})})};import{c as cW}from"react/compiler-runtime";import{jsx as bo,jsxs as li}from"react/jsx-runtime";import{getTranslation as i0}from"@payloadcms/translations";import uW,{Fragment as dW}from"react";import Fe,{forwardRef as EP,isValidElement as Tg}from"react";import NP from"react-dom";import nr from"react";import tx from"react";import zP from"react";var LP=t=>{switch(t){case"success":return jP;case"info":return MP;case"warning":return BP;case"error":return OP;default:return null}},$P=Array(12).fill(0),kP=({visible:t,className:e})=>nr.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},nr.createElement("div",{className:"sonner-spinner"},$P.map((o,n)=>nr.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),jP=nr.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},nr.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),BP=nr.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},nr.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),MP=nr.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},nr.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),OP=nr.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},nr.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),VP=nr.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},nr.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),nr.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),GP=()=>{let[t,e]=tx.useState(document.hidden);return tx.useEffect(()=>{let o=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",o),()=>window.removeEventListener("visibilitychange",o)},[]),t},Fg=1,WP=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:o,...n}=t,r=typeof t?.id=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Fg++,s=this.toasts.find(l=>l.id===r),i=t.dismissible===void 0?!0:t.dismissible;return s?this.toasts=this.toasts.map(l=>l.id===r?(this.publish({...l,...t,id:r,title:o}),{...l,...t,id:r,dismissible:i,title:o}):l):this.addToast({title:o,...n,dismissible:i,id:r}),r},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(o=>o({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let o;e.loading!==void 0&&(o=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),r=o!==void 0,s,i=n.then(async a=>{if(s=["resolve",a],zP.isValidElement(a))r=!1,this.create({id:o,type:"default",message:a});else if(UP(a)&&!a.ok){r=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${a.status}`):e.error,u=typeof e.description=="function"?await e.description(`HTTP error! status: ${a.status}`):e.description;this.create({id:o,type:"error",message:c,description:u})}else if(e.success!==void 0){r=!1;let c=typeof e.success=="function"?await e.success(a):e.success,u=typeof e.description=="function"?await e.description(a):e.description;this.create({id:o,type:"success",message:c,description:u})}}).catch(async a=>{if(s=["reject",a],e.error!==void 0){r=!1;let c=typeof e.error=="function"?await e.error(a):e.error,u=typeof e.description=="function"?await e.description(a):e.description;this.create({id:o,type:"error",message:c,description:u})}}).finally(()=>{var a;r&&(this.dismiss(o),o=void 0),(a=e.finally)==null||a.call(e)}),l=()=>new Promise((a,c)=>i.then(()=>s[0]==="reject"?c(s[1]):a(s[1])).catch(c));return typeof o!="string"&&typeof o!="number"?{unwrap:l}:Object.assign(o,{unwrap:l})},this.custom=(t,e)=>{let o=e?.id||Fg++;return this.create({jsx:t(o),id:o,...e}),o},this.subscribers=[],this.toasts=[]}},hr=new WP,HP=(t,e)=>{let o=e?.id||Fg++;return hr.addToast({title:t,...e,id:o}),o},UP=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",XP=HP,ZP=()=>hr.toasts,K=Object.assign(XP,{success:hr.success,info:hr.info,warning:hr.warning,error:hr.error,custom:hr.custom,message:hr.message,promise:hr.promise,dismiss:hr.dismiss,loading:hr.loading},{getHistory:ZP});function YP(t,{insertAt:e}={}){if(!t||typeof document>"u")return;let o=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&o.firstChild?o.insertBefore(n,o.firstChild):o.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}YP(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function vm(t){return t.label!==void 0}var JP=3,qP="32px",QP="16px",ox=4e3,KP=356,eE=14,tE=20,oE=200;function rn(...t){return t.filter(Boolean).join(" ")}function rE(t){let[e,o]=t.split("-"),n=[];return e&&n.push(e),o&&n.push(o),n}var nE=t=>{var e,o,n,r,s,i,l,a,c,u,d;let{invert:m,toast:f,unstyled:h,interacting:p,setHeights:g,visibleToasts:b,heights:C,index:v,toasts:y,expanded:x,removeToast:w,defaultRichColors:S,closeButton:T,style:I,cancelButtonStyle:R,actionButtonStyle:F,className:_="",descriptionClassName:D="",duration:A,position:L,gap:E,loadingIcon:k,expandByDefault:B,classNames:$,icons:P,closeButtonAriaLabel:M="Close toast",pauseWhenPageIsHidden:j}=t,[O,G]=Fe.useState(null),[V,z]=Fe.useState(null),[X,Q]=Fe.useState(!1),[U,ee]=Fe.useState(!1),[J,re]=Fe.useState(!1),[ie,le]=Fe.useState(!1),[Z,pe]=Fe.useState(!1),[be,Ae]=Fe.useState(0),[ge,Te]=Fe.useState(0),Y=Fe.useRef(f.duration||A||ox),de=Fe.useRef(null),H=Fe.useRef(null),q=v===0,ne=v+1<=b,te=f.type,ce=f.dismissible!==!1,he=f.className||"",$e=f.descriptionClassName||"",me=Fe.useMemo(()=>C.findIndex(se=>se.toastId===f.id)||0,[C,f.id]),ye=Fe.useMemo(()=>{var se;return(se=f.closeButton)!=null?se:T},[f.closeButton,T]),Be=Fe.useMemo(()=>f.duration||A||ox,[f.duration,A]),Oe=Fe.useRef(0),ke=Fe.useRef(0),He=Fe.useRef(0),at=Fe.useRef(null),[ht,Ke]=L.split("-"),Dt=Fe.useMemo(()=>C.reduce((se,Ce,fe)=>fe>=me?se:se+Ce.height,0),[C,me]),dt=GP(),no=f.invert||m,gt=te==="loading";ke.current=Fe.useMemo(()=>me*E+Dt,[me,Dt]),Fe.useEffect(()=>{Y.current=Be},[Be]),Fe.useEffect(()=>{Q(!0)},[]),Fe.useEffect(()=>{let se=H.current;if(se){let Ce=se.getBoundingClientRect().height;return Te(Ce),g(fe=>[{toastId:f.id,height:Ce,position:f.position},...fe]),()=>g(fe=>fe.filter(Se=>Se.toastId!==f.id))}},[g,f.id]),Fe.useLayoutEffect(()=>{if(!X)return;let se=H.current,Ce=se.style.height;se.style.height="auto";let fe=se.getBoundingClientRect().height;se.style.height=Ce,Te(fe),g(Se=>Se.find(we=>we.toastId===f.id)?Se.map(we=>we.toastId===f.id?{...we,height:fe}:we):[{toastId:f.id,height:fe,position:f.position},...Se])},[X,f.title,f.description,g,f.id]);let so=Fe.useCallback(()=>{ee(!0),Ae(ke.current),g(se=>se.filter(Ce=>Ce.toastId!==f.id)),setTimeout(()=>{w(f)},oE)},[f,w,g,ke]);Fe.useEffect(()=>{if(f.promise&&te==="loading"||f.duration===1/0||f.type==="loading")return;let se;return x||p||j&&dt?(()=>{if(He.current<Oe.current){let Ce=new Date().getTime()-Oe.current;Y.current=Y.current-Ce}He.current=new Date().getTime()})():Y.current!==1/0&&(Oe.current=new Date().getTime(),se=setTimeout(()=>{var Ce;(Ce=f.onAutoClose)==null||Ce.call(f,f),so()},Y.current)),()=>clearTimeout(se)},[x,p,f,te,j,dt,so]),Fe.useEffect(()=>{f.delete&&so()},[so,f.delete]);function Co(){var se,Ce,fe;return P!=null&&P.loading?Fe.createElement("div",{className:rn($?.loader,(se=f?.classNames)==null?void 0:se.loader,"sonner-loader"),"data-visible":te==="loading"},P.loading):k?Fe.createElement("div",{className:rn($?.loader,(Ce=f?.classNames)==null?void 0:Ce.loader,"sonner-loader"),"data-visible":te==="loading"},k):Fe.createElement(kP,{className:rn($?.loader,(fe=f?.classNames)==null?void 0:fe.loader),visible:te==="loading"})}return Fe.createElement("li",{tabIndex:0,ref:H,className:rn(_,he,$?.toast,(e=f?.classNames)==null?void 0:e.toast,$?.default,$?.[te],(o=f?.classNames)==null?void 0:o[te]),"data-sonner-toast":"","data-rich-colors":(n=f.richColors)!=null?n:S,"data-styled":!(f.jsx||f.unstyled||h),"data-mounted":X,"data-promise":!!f.promise,"data-swiped":Z,"data-removed":U,"data-visible":ne,"data-y-position":ht,"data-x-position":Ke,"data-index":v,"data-front":q,"data-swiping":J,"data-dismissible":ce,"data-type":te,"data-invert":no,"data-swipe-out":ie,"data-swipe-direction":V,"data-expanded":!!(x||B&&X),style:{"--index":v,"--toasts-before":v,"--z-index":y.length-v,"--offset":`${U?be:ke.current}px`,"--initial-height":B?"auto":`${ge}px`,...I,...f.style},onPointerDown:se=>{gt||!ce||(de.current=new Date,Ae(ke.current),se.target.setPointerCapture(se.pointerId),se.target.tagName!=="BUTTON"&&(re(!0),at.current={x:se.clientX,y:se.clientY}))},onPointerUp:()=>{var se,Ce,fe,Se;if(ie||!ce)return;at.current=null;let we=Number(((se=H.current)==null?void 0:se.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Me=Number(((Ce=H.current)==null?void 0:Ce.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ze=new Date().getTime()-((fe=de.current)==null?void 0:fe.getTime()),Je=O==="x"?we:Me,Ye=Math.abs(Je)/Ze;if(Math.abs(Je)>=tE||Ye>.11){Ae(ke.current),(Se=f.onDismiss)==null||Se.call(f,f),z(O==="x"?we>0?"right":"left":Me>0?"down":"up"),so(),le(!0),pe(!1);return}re(!1),G(null)},onPointerMove:se=>{var Ce,fe,Se,we;if(!at.current||!ce||((Ce=window.getSelection())==null?void 0:Ce.toString().length)>0)return;let Me=se.clientY-at.current.y,Ze=se.clientX-at.current.x,Je=(fe=t.swipeDirections)!=null?fe:rE(L);!O&&(Math.abs(Ze)>1||Math.abs(Me)>1)&&G(Math.abs(Ze)>Math.abs(Me)?"x":"y");let Ye={x:0,y:0};O==="y"?(Je.includes("top")||Je.includes("bottom"))&&(Je.includes("top")&&Me<0||Je.includes("bottom")&&Me>0)&&(Ye.y=Me):O==="x"&&(Je.includes("left")||Je.includes("right"))&&(Je.includes("left")&&Ze<0||Je.includes("right")&&Ze>0)&&(Ye.x=Ze),(Math.abs(Ye.x)>0||Math.abs(Ye.y)>0)&&pe(!0),(Se=H.current)==null||Se.style.setProperty("--swipe-amount-x",`${Ye.x}px`),(we=H.current)==null||we.style.setProperty("--swipe-amount-y",`${Ye.y}px`)}},ye&&!f.jsx?Fe.createElement("button",{"aria-label":M,"data-disabled":gt,"data-close-button":!0,onClick:gt||!ce?()=>{}:()=>{var se;so(),(se=f.onDismiss)==null||se.call(f,f)},className:rn($?.closeButton,(r=f?.classNames)==null?void 0:r.closeButton)},(s=P?.close)!=null?s:VP):null,f.jsx||Tg(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:Fe.createElement(Fe.Fragment,null,te||f.icon||f.promise?Fe.createElement("div",{"data-icon":"",className:rn($?.icon,(i=f?.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Co():null,f.type!=="loading"?f.icon||P?.[te]||LP(te):null):null,Fe.createElement("div",{"data-content":"",className:rn($?.content,(l=f?.classNames)==null?void 0:l.content)},Fe.createElement("div",{"data-title":"",className:rn($?.title,(a=f?.classNames)==null?void 0:a.title)},typeof f.title=="function"?f.title():f.title),f.description?Fe.createElement("div",{"data-description":"",className:rn(D,$e,$?.description,(c=f?.classNames)==null?void 0:c.description)},typeof f.description=="function"?f.description():f.description):null),Tg(f.cancel)?f.cancel:f.cancel&&vm(f.cancel)?Fe.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||R,onClick:se=>{var Ce,fe;vm(f.cancel)&&ce&&((fe=(Ce=f.cancel).onClick)==null||fe.call(Ce,se),so())},className:rn($?.cancelButton,(u=f?.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,Tg(f.action)?f.action:f.action&&vm(f.action)?Fe.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||F,onClick:se=>{var Ce,fe;vm(f.action)&&((fe=(Ce=f.action).onClick)==null||fe.call(Ce,se),!se.defaultPrevented&&so())},className:rn($?.actionButton,(d=f?.classNames)==null?void 0:d.actionButton)},f.action.label):null))};function rx(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function sE(t,e){let o={};return[t,e].forEach((n,r)=>{let s=r===1,i=s?"--mobile-offset":"--offset",l=s?QP:qP;function a(c){["top","right","bottom","left"].forEach(u=>{o[`${i}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof n=="number"||typeof n=="string"?a(n):typeof n=="object"?["top","right","bottom","left"].forEach(c=>{n[c]===void 0?o[`${i}-${c}`]=l:o[`${i}-${c}`]=typeof n[c]=="number"?`${n[c]}px`:n[c]}):a(l)}),o}var nx=EP(function(t,e){let{invert:o,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:l,offset:a,mobileOffset:c,theme:u="light",richColors:d,duration:m,style:f,visibleToasts:h=JP,toastOptions:p,dir:g=rx(),gap:b=eE,loadingIcon:C,icons:v,containerAriaLabel:y="Notifications",pauseWhenPageIsHidden:x}=t,[w,S]=Fe.useState([]),T=Fe.useMemo(()=>Array.from(new Set([n].concat(w.filter(j=>j.position).map(j=>j.position)))),[w,n]),[I,R]=Fe.useState([]),[F,_]=Fe.useState(!1),[D,A]=Fe.useState(!1),[L,E]=Fe.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),k=Fe.useRef(null),B=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=Fe.useRef(null),P=Fe.useRef(!1),M=Fe.useCallback(j=>{S(O=>{var G;return(G=O.find(V=>V.id===j.id))!=null&&G.delete||hr.dismiss(j.id),O.filter(({id:V})=>V!==j.id)})},[]);return Fe.useEffect(()=>hr.subscribe(j=>{if(j.dismiss){S(O=>O.map(G=>G.id===j.id?{...G,delete:!0}:G));return}setTimeout(()=>{NP.flushSync(()=>{S(O=>{let G=O.findIndex(V=>V.id===j.id);return G!==-1?[...O.slice(0,G),{...O[G],...j},...O.slice(G+1)]:[j,...O]})})})}),[]),Fe.useEffect(()=>{if(u!=="system"){E(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?E("dark"):E("light")),typeof window>"u")return;let j=window.matchMedia("(prefers-color-scheme: dark)");try{j.addEventListener("change",({matches:O})=>{E(O?"dark":"light")})}catch{j.addListener(({matches:G})=>{try{E(G?"dark":"light")}catch(V){console.error(V)}})}},[u]),Fe.useEffect(()=>{w.length<=1&&_(!1)},[w]),Fe.useEffect(()=>{let j=O=>{var G,V;r.every(z=>O[z]||O.code===z)&&(_(!0),(G=k.current)==null||G.focus()),O.code==="Escape"&&(document.activeElement===k.current||(V=k.current)!=null&&V.contains(document.activeElement))&&_(!1)};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[r]),Fe.useEffect(()=>{if(k.current)return()=>{$.current&&($.current.focus({preventScroll:!0}),$.current=null,P.current=!1)}},[k.current]),Fe.createElement("section",{ref:e,"aria-label":`${y} ${B}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((j,O)=>{var G;let[V,z]=j.split("-");return w.length?Fe.createElement("ol",{key:j,dir:g==="auto"?rx():g,tabIndex:-1,ref:k,className:l,"data-sonner-toaster":!0,"data-theme":L,"data-y-position":V,"data-lifted":F&&w.length>1&&!s,"data-x-position":z,style:{"--front-toast-height":`${((G=I[0])==null?void 0:G.height)||0}px`,"--width":`${KP}px`,"--gap":`${b}px`,...f,...sE(a,c)},onBlur:X=>{P.current&&!X.currentTarget.contains(X.relatedTarget)&&(P.current=!1,$.current&&($.current.focus({preventScroll:!0}),$.current=null))},onFocus:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||P.current||(P.current=!0,$.current=X.relatedTarget)},onMouseEnter:()=>_(!0),onMouseMove:()=>_(!0),onMouseLeave:()=>{D||_(!1)},onPointerDown:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||A(!0)},onPointerUp:()=>A(!1)},w.filter(X=>!X.position&&O===0||X.position===j).map((X,Q)=>{var U,ee;return Fe.createElement(nE,{key:X.id,icons:v,index:Q,toast:X,defaultRichColors:d,duration:(U=p?.duration)!=null?U:m,className:p?.className,descriptionClassName:p?.descriptionClassName,invert:o,visibleToasts:h,closeButton:(ee=p?.closeButton)!=null?ee:i,interacting:D,position:j,style:p?.style,unstyled:p?.unstyled,classNames:p?.classNames,cancelButtonStyle:p?.cancelButtonStyle,actionButtonStyle:p?.actionButtonStyle,removeToast:M,toasts:w.filter(J=>J.position==X.position),heights:I.filter(J=>J.position==X.position),setHeights:R,expandByDefault:s,gap:b,loadingIcon:C,expanded:F,pauseWhenPageIsHidden:x,swipeDirections:t.swipeDirections})})):null}))});import{jsx as Pg,jsxs as bE}from"react/jsx-runtime";import ux from"react";import{jsx as fE}from"react/jsx-runtime";import cx from"next/link.js";import{useRouter as pE}from"next/navigation.js";import"react";import{c as iE}from"react/compiler-runtime";import{jsx as aE}from"react/jsx-runtime";import Rg,{startTransition as lE,useEffect as cE,useOptimistic as uE,useRef as sx}from"react";var Ag=t=>{let e=iE(11),{children:o}=t,[n,r]=uE(!1),[s,i]=Rg.useState(0),l=sx(s),a=sx(null),c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c=()=>{a.current=setInterval(()=>{let g=l.current+(.93-l.current)*Math.random()*.2*Math.pow(Math.log(1+(1-l.current)*.75),.75);i(g),l.current=g},250)},e[0]=c):c=e[0];let u=c,d,m;e[1]!==n?(d=()=>{i(0),l.current=0,n?u():a.current&&clearInterval(a.current)},m=[n,u],e[1]=n,e[2]=d,e[3]=m):(d=e[2],m=e[3]),cE(d,m);let f;e[4]!==r?(f=g=>{lE(()=>{r(!0),typeof g=="function"&&g()})},e[4]=r,e[5]=f):f=e[5];let h=f,p;return e[6]!==o||e[7]!==n||e[8]!==h||e[9]!==s?(p=aE(ix,{value:{isTransitioning:n,startRouteTransition:h,transitionProgress:s},children:o}),e[6]=o,e[7]=n,e[8]=h,e[9]=s,e[10]=p):p=e[10],p},ix=Rg.createContext({isTransitioning:!1,startRouteTransition:()=>{},transitionProgress:0}),qe=()=>Rg.use(ix);var dE=/https?|ftp|gopher|file/;function ax(t){return typeof t=="string"||typeof t=="number"&&!isNaN(t)||typeof t=="boolean"?String(t):""}function mE(t){let e=new URLSearchParams;return Object.entries(t).forEach(([o,n])=>{Array.isArray(n)?n.forEach(r=>e.append(o,ax(r))):e.set(o,ax(n))}),e}function lx(t){let{auth:e}=t,{hostname:o}=t,n=t.protocol||"",r=t.pathname||"",s=t.hash||"",i=t.query||"",l=!1;e=e?encodeURIComponent(e).replace(/%3A/i,":")+"@":"",t.host?l=e+t.host:o&&(l=e+(~o.indexOf(":")?`[${o}]`:o),t.port&&(l+=":"+t.port)),i&&typeof i=="object"&&(i=String(mE(i)));let a=t.search||i&&`?${i}`||"";return n&&!n.endsWith(":")&&(n+=":"),t.slashes||(!n||dE.test(n))&&l!==!1?(l="//"+(l||""),r&&r[0]!=="/"&&(r="/"+r)):l||(l=""),s&&s[0]!=="#"&&(s="#"+s),a&&a[0]!=="?"&&(a="?"+a),r=r.replace(/[?#]/g,encodeURIComponent),a=a.replace("#","%23"),`${n}${l}${r}${a}${s}`}var hE=cx.default||cx;function gE(t){let o=t.currentTarget.getAttribute("target");return o&&o!=="_self"||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&t.nativeEvent.which===2}var Jt=({children:t,href:e,onClick:o,preventDefault:n=!0,ref:r,replace:s,scroll:i,...l})=>{let a=pE(),{startRouteTransition:c}=qe();return fE(hE,{href:e,onClick:u=>{gE(u)||(o&&o(u),n&&u.preventDefault(),c(()=>{let d=typeof e=="string"?e:lx(e);s?a.replace(d,{scroll:i}):a.push(d,{scroll:i})}))},ref:r,...l,children:t})};var Ci="banner",nn=({type:t="default",alignIcon:e="right",children:o,className:n,icon:r,onClick:s,to:i})=>{let l=[Ci,`${Ci}--type-${t}`,n&&n,i&&`${Ci}--has-link`,(i||s)&&`${Ci}--has-action`,r&&`${Ci}--has-icon`,r&&`${Ci}--align-icon-${e}`].filter(Boolean).join(" "),a="div";return s&&!i&&(a="button"),i&&(a=Jt),bE(a,{className:l,href:i||null,onClick:s,children:[r&&e==="left"&&Pg(ux.Fragment,{children:r}),Pg("span",{className:`${Ci}__content`,children:o}),r&&e==="right"&&Pg(ux.Fragment,{children:r})]})};import{jsx as br,jsxs as Im}from"react/jsx-runtime";import jE,{Fragment as BE,isValidElement as ME}from"react";import{jsx as dx}from"react/jsx-runtime";import"react";var We=({ariaLabel:t,className:e,direction:o,size:n})=>dx("svg",{"aria-label":t,className:["icon icon--chevron",e,n&&`icon--size-${n}`].filter(Boolean).join(" "),height:"100%",style:{transform:o==="left"?"rotate(90deg)":o==="right"?"rotate(-90deg)":o==="up"?"rotate(180deg)":void 0},viewBox:"0 0 20 20",width:"100%",xmlns:"http://www.w3.org/2000/svg",children:dx("path",{className:"stroke",d:"M14 8L10 12L6 8",strokeLinecap:"square"})});import{jsx as mx}from"react/jsx-runtime";import"react";var gr=({className:t})=>mx("svg",{className:[t,"icon icon--edit"].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:mx("path",{className:"stroke",d:"M9.68531 4.62938H5.2634C4.92833 4.62938 4.60698 4.76248 4.37004 4.99942C4.13311 5.23635 4 5.5577 4 5.89278V14.7366C4 15.0717 4.13311 15.393 4.37004 15.63C4.60698 15.8669 4.92833 16 5.2634 16H14.1072C14.4423 16 14.7636 15.8669 15.0006 15.63C15.2375 15.393 15.3706 15.0717 15.3706 14.7366V10.3147M13.7124 4.39249C13.9637 4.14118 14.3046 4 14.66 4C15.0154 4 15.3562 4.14118 15.6075 4.39249C15.8588 4.6438 16 4.98464 16 5.34004C16 5.69544 15.8588 6.03629 15.6075 6.28759L9.91399 11.9817C9.76399 12.1316 9.57868 12.2413 9.37515 12.3008L7.56027 12.8314C7.50591 12.8472 7.44829 12.8482 7.39344 12.8341C7.33859 12.8201 7.28853 12.7915 7.24849 12.7515C7.20845 12.7115 7.17991 12.6614 7.16586 12.6066C7.15181 12.5517 7.15276 12.4941 7.16861 12.4397L7.69924 10.6249C7.75896 10.4215 7.86888 10.2364 8.01888 10.0866L13.7124 4.39249Z",strokeLinecap:"square"})});import{jsx as fx}from"react/jsx-runtime";import"react";var Eg=()=>fx("svg",{"aria-hidden":"true",className:"graphic link icon icon--link",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:fx("path",{className:"stroke",d:"M7.99999 13.3333H6.66666C5.78261 13.3333 4.93476 12.9821 4.30964 12.357C3.68452 11.7319 3.33333 10.884 3.33333 9.99999C3.33333 9.11593 3.68452 8.26809 4.30964 7.64297C4.93476 7.01785 5.78261 6.66666 6.66666 6.66666H7.99999M12 6.66666H13.3333C14.2174 6.66666 15.0652 7.01785 15.6904 7.64297C16.3155 8.26809 16.6667 9.11593 16.6667 9.99999C16.6667 10.884 16.3155 11.7319 15.6904 12.357C15.0652 12.9821 14.2174 13.3333 13.3333 13.3333H12M7.33333 9.99999H12.6667",strokeLinecap:"square"})});import{jsx as px}from"react/jsx-runtime";import"react";var jr=()=>px("svg",{className:"icon icon--plus",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:px("path",{className:"stroke",d:"M5.33333 9.99998H14.6667M9.99999 5.33331V14.6666",strokeLinecap:"square"})});import{jsx as hx}from"react/jsx-runtime";import"react";var Ng=()=>hx("svg",{className:"icon icon--swap",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:hx("path",{className:"stroke",d:"M7.33334 4L4.66667 6.66667M4.66667 6.66667L7.33334 9.33333M4.66667 6.66667H15.3333M12.6667 16L15.3333 13.3333M15.3333 13.3333L12.6667 10.6667M15.3333 13.3333H4.66667",strokeLinecap:"square"})});import{jsx as yi,jsxs as jg}from"react/jsx-runtime";var ve={};Ly(ve,{Button:()=>$g,ButtonGroup:()=>Lg,Divider:()=>gx,GroupLabel:()=>Cm});import{jsx as ym}from"react/jsx-runtime";import"react";import{jsx as vE}from"react/jsx-runtime";import"react";var CE="popup-divider",gx=()=>vE("hr",{className:CE});import{jsx as yE}from"react/jsx-runtime";import"react";var xE="popup-list-group-label",Cm=({label:t})=>yE("p",{className:xE,children:t});var Ra="popup-button-list",Lg=({buttonSize:t="default",children:e,className:o,textAlign:n="left"})=>{let r=[Ra,o,`${Ra}__text-align--${n}`,`${Ra}__button-size--${t}`].filter(Boolean).join(" ");return ym("div",{className:r,children:e})},$g=({id:t,active:e,children:o,className:n,disabled:r,href:s,onClick:i})=>{let l=[`${Ra}__button`,r&&`${Ra}__disabled`,e&&`${Ra}__button--selected`,n].filter(Boolean).join(" ");if(!r){if(s)return ym(Jt,{className:l,href:s,id:t,onClick:a=>{i&&i(a)},prefetch:!1,children:o});if(i)return ym("button",{className:l,id:t,onClick:a=>{i&&i(a)},type:"button",children:o})}return ym("div",{className:l,id:t,children:o})};var $s={};Ly($s,{WindowInfo:()=>Cx,WindowInfoContext:()=>Aa,WindowInfoProvider:()=>wx,useWindowInfo:()=>Go,withWindowInfo:()=>Sx});import{useContext as SE}from"react";import{createContext as wE}from"react";var Aa=wE({});var Go=()=>SE(Aa);import bx,{Fragment as vx}from"react";var Cx=t=>{let{children:e}=t,o=Go();return e?typeof e=="function"?bx.createElement(vx,null,e(o)):bx.createElement(vx,null,e):null};import IE,{useCallback as yx,useEffect as xx,useReducer as _E,useRef as DE}from"react";var TE=(t,e)=>{let{payload:{breakpoints:o,animationRef:n}}=e;n.current=null;let{eventsFired:r}=t,{documentElement:{style:s,clientWidth:i,clientHeight:l}}=document,{innerWidth:a,innerHeight:c}=window,u=`${i/100}px`,d=`${l/100}px`,m=o?Object.keys(o).reduce((h,p)=>Object.assign(Object.assign({},h),{[p]:window.matchMedia(o[p]).matches}),{}):{},f={width:a,height:c,"--vw":u,"--vh":d,breakpoints:m,eventsFired:r+1};return s.setProperty("--vw",u),s.setProperty("--vh",d),f},wx=t=>{let{breakpoints:e,children:o}=t,n=DE(null),[r,s]=_E(TE,{width:void 0,height:void 0,"--vw":"","--vh":"",breakpoints:{},eventsFired:0}),i=yx(()=>{n.current&&cancelAnimationFrame(n.current),n.current=requestAnimationFrame(()=>s({type:"UPDATE",payload:{breakpoints:e,animationRef:n}}))},[e]),l=yx(()=>{setTimeout(()=>{i()},500)},[i]);return xx(()=>(window.addEventListener("resize",i),window.addEventListener("orientationchange",l),()=>{window.removeEventListener("resize",i),window.removeEventListener("orientationchange",l)}),[i,l]),xx(()=>{r.eventsFired===0&&s({type:"UPDATE",payload:{breakpoints:e,animationRef:n}})},[e,r]),IE.createElement(Aa.Provider,{value:Object.assign({},r)},o&&o)};import FE from"react";var Sx=t=>o=>{let n=Go();return FE.createElement(t,Object.assign({},o,{windowInfo:n}))};import NE,{useCallback as Dx,useEffect as xm,useRef as Tx,useState as Bg}from"react";import{c as RE}from"react/compiler-runtime";import{useEffect as AE,useRef as PE,useState as Ix}from"react";var Yn=(t,e)=>{let o=RE(14),n;o[0]!==t?(n=t===void 0?{}:t,o[0]=t,o[1]=n):n=o[1];let{root:r,rootMargin:s,threshold:i}=n,l=r===void 0?null:r,a=s===void 0?"0px":s,c=i===void 0?0:i,[u,d]=Ix(),[m,f]=Ix(null),h;o[2]!==e||o[3]!==l||o[4]!==a||o[5]!==c?(h=typeof window<"u"&&"IntersectionObserver"in window&&!e?new window.IntersectionObserver(v=>{let[y]=v;return d(y)},{root:l,rootMargin:a,threshold:c}):null,o[2]=e,o[3]=l,o[4]=a,o[5]=c,o[6]=h):h=o[6];let p=PE(h),g,b;o[7]!==e||o[8]!==m?(g=()=>{if(e)return;let{current:v}=p;return v.disconnect(),m&&v.observe(m),()=>v.disconnect()},b=[m,e],o[7]=e,o[8]=m,o[9]=g,o[10]=b):(g=o[9],b=o[10]),AE(g,b);let C;return o[11]!==u||o[12]!==m?(C=[f,u,m],o[11]=u,o[12]=m,o[13]=C):C=o[13],C};import{c as EE}from"react/compiler-runtime";import{jsx as _x}from"react/jsx-runtime";import"react";var gc="popup-button",kg=t=>{let e=EE(24),{active:o,button:n,buttonType:r,className:s,disabled:i,noBackground:l,setActive:a,size:c}=t,u=`${gc}--${r}`,d=!l&&`${gc}--background`,m=c&&`${gc}--size-${c}`,f=i&&`${gc}--disabled`,h;e[0]!==s||e[1]!==u||e[2]!==d||e[3]!==m||e[4]!==f?(h=[gc,s,u,d,m,f].filter(Boolean),e[0]=s,e[1]=u,e[2]=d,e[3]=m,e[4]=f,e[5]=h):h=e[5];let p=h.join(" "),g;e[6]!==o||e[7]!==a?(g=()=>{a(!o)},e[6]=o,e[7]=a,e[8]=g):g=e[8];let b=g;if(r==="none")return null;if(r==="custom"){let y;e[9]!==b?(y=w=>{w.key==="Enter"&&b()},e[9]=b,e[10]=y):y=e[10];let x;return e[11]!==n||e[12]!==p||e[13]!==b||e[14]!==y?(x=_x("div",{className:p,onClick:b,onKeyDown:y,role:"button",tabIndex:0,children:n}),e[11]=n,e[12]=p,e[13]=b,e[14]=y,e[15]=x):x=e[15],x}let C;e[16]!==b?(C=y=>{y.key==="Enter"&&b()},e[16]=b,e[17]=C):C=e[17];let v;return e[18]!==n||e[19]!==p||e[20]!==i||e[21]!==b||e[22]!==C?(v=_x("button",{className:p,disabled:i,onClick:b,onKeyDown:C,tabIndex:0,type:"button",children:n}),e[18]=n,e[19]=p,e[20]=i,e[21]=b,e[22]=C,e[23]=v):v=e[23],v};var sr="popup",lt=t=>{let{id:e,boundingRef:o,button:n,buttonClassName:r,buttonSize:s,buttonType:i="default",caret:l=!0,children:a,className:c,disabled:u,forceOpen:d,horizontalAlign:m="left",initActive:f=!1,noBackground:h,onToggleClose:p,onToggleOpen:g,render:b,showOnHover:C=!1,showScrollbar:v=!1,size:y="medium",verticalAlign:x="top"}=t,{height:w,width:S}=Go(),[T,I]=Yn({root:o?.current||null,rootMargin:"-100px 0px 0px 0px",threshold:1}),R=Tx(null),F=Tx(null),[_,D]=Bg(f),[A,L]=Bg(x),[E,k]=Bg(m),B=NE.useCallback(j=>{j&&typeof g=="function"&&g(!0),!j&&typeof p=="function"&&p(),D(j)},[p,g]),$=Dx(({horizontal:j=!1,vertical:O=!1})=>{if(R.current){let G=R.current.getBoundingClientRect(),{bottom:V,left:z,right:X,top:Q}=G,U=100,ee=document.documentElement.clientWidth,J=document.documentElement.clientHeight,re=0;o?.current&&({bottom:J,left:re,right:ee,top:U}=o.current.getBoundingClientRect()),j&&(X>ee&&z>re?k("right"):z<re&&X<ee&&k("left")),O&&(Q<U&&V<J?L("bottom"):V>J&&Q>U&&L("top"))}},[o]),P=Dx(j=>{R.current.contains(j.target)||F.current.contains(j.target)||B(!1)},[R,B]);xm(()=>{$({horizontal:!0})},[I,$,S]),xm(()=>{$({vertical:!0})},[I,$,w]),xm(()=>(_?document.addEventListener("mousedown",P):document.removeEventListener("mousedown",P),()=>{document.removeEventListener("mousedown",P)}),[_,P,g]),xm(()=>{B(d)},[d,B]);let M=[sr,c,`${sr}--size-${y}`,s&&`${sr}--button-size-${s}`,`${sr}--v-align-${A}`,`${sr}--h-align-${E}`,_&&`${sr}--active`,v&&`${sr}--show-scrollbar`].filter(Boolean).join(" ");return jg("div",{className:M,id:e,children:[yi("div",{className:`${sr}__trigger-wrap`,ref:F,children:C?yi("div",{className:`${sr}__on-hover-watch`,onMouseEnter:()=>B(!0),onMouseLeave:()=>B(!1),role:"button",tabIndex:0,children:yi(kg,{active:_,button:n,buttonType:i,className:r,disabled:u,noBackground:h,setActive:B,size:s})}):yi(kg,{active:_,button:n,buttonType:i,className:r,disabled:u,noBackground:h,setActive:B,size:s})}),jg("div",{className:`${sr}__content`,ref:R,children:[yi("div",{className:`${sr}__hide-scrollbar`,ref:T,children:yi("div",{className:`${sr}__scroll-container`,children:jg("div",{className:`${sr}__scroll-content`,children:[b&&b({close:()=>B(!1)}),a]})})}),l&&yi("div",{className:`${sr}__caret`})]})]})};import{c as LE}from"react/compiler-runtime";import{jsx as wm,jsxs as $E}from"react/jsx-runtime";import Mg,{useEffect as Fx}from"react";var Eo=t=>{let e=LE(26),{alignCaret:o,boundingRef:n,children:r,className:s,delay:i,position:l,show:a,staticPositioning:c}=t,u=o===void 0?"center":o,d=i===void 0?350:i,m=a===void 0?!0:a,f=c===void 0?!1:c,[h,p]=Mg.useState(m),[g,b]=Mg.useState("top"),C=kE,v=n?.current||null,y;e[0]!==v?(y={root:v,rootMargin:"-145px 0px 0px 100px",threshold:0},e[0]=v,e[1]=y):y=e[1];let[x,w]=Yn(y,f),S,T;e[2]!==d||e[3]!==m?(S=()=>{let _;return d&&m?_=setTimeout(()=>{p(m)},d):p(m),()=>{_&&clearTimeout(_)}},T=[m,d],e[2]=d,e[3]=m,e[4]=S,e[5]=T):(S=e[4],T=e[5]),Fx(S,T);let I;e[6]!==w?.isIntersecting||e[7]!==f?(I=()=>{f||b(w?.isIntersecting?"top":"bottom")},e[6]=w?.isIntersecting,e[7]=f,e[8]=I):I=e[8];let R;e[9]!==w||e[10]!==f?(R=[w,f],e[9]=w,e[10]=f,e[11]=R):R=e[11],Fx(I,R);let F;if(e[12]!==u||e[13]!==r||e[14]!==s||e[15]!==g||e[16]!==l||e[17]!==x||e[18]!==h||e[19]!==f){let _=h&&"tooltip--show",D=`tooltip--caret-${u}`,A=`tooltip--position-${l||g}`,L;e[21]!==s||e[22]!==_||e[23]!==D||e[24]!==A?(L=["tooltip",s,_,D,A].filter(Boolean),e[21]=s,e[22]=_,e[23]=D,e[24]=A,e[25]=L):L=e[25],F=$E(Mg.Fragment,{children:[!f&&wm("aside",{"aria-hidden":"true",className:["tooltip",s,`tooltip--caret-${u}`,"tooltip--position-top"].filter(Boolean).join(" "),ref:x,style:{opacity:"0"},children:wm("div",{className:"tooltip-content",children:r})}),wm("aside",{className:L.join(" "),title:C(r),children:wm("div",{className:"tooltip-content",children:r})})]}),e[12]=u,e[13]=r,e[14]=s,e[15]=g,e[16]=l,e[17]=x,e[18]=h,e[19]=f,e[20]=F}else F=e[20];return F};function kE(t){return typeof t=="string"?t:""}var OE={chevron:We,edit:gr,link:Eg,plus:jr,swap:Ng,x:bt},xo="btn",Sm=({children:t,icon:e,showTooltip:o,tooltip:n})=>{let r=OE[e];return Im(BE,{children:[n&&br(Eo,{className:`${xo}__tooltip`,show:o,children:n}),Im("span",{className:`${xo}__content`,children:[t&&br("span",{className:`${xo}__label`,children:t}),e&&Im("span",{className:`${xo}__icon`,children:[ME(e)&&e,r&&br(r,{})]})]})]})},oe=t=>{let{id:e,type:o="button","aria-label":n,buttonStyle:r="primary",children:s,className:i,disabled:l,el:a="button",enableSubMenu:c,icon:u,iconPosition:d="right",iconStyle:m="without-border",margin:f=!0,newTab:h,onClick:p,onMouseDown:g,ref:b,round:C,size:v="medium",SubMenuPopupContent:y,to:x,tooltip:w,url:S}=t,[T,I]=jE.useState(!1),R=[xo,i&&i,u&&`${xo}--icon`,m&&`${xo}--icon-style-${m}`,u&&!s&&`${xo}--icon-only`,v&&`${xo}--size-${v}`,u&&d&&`${xo}--icon-position-${d}`,w&&`${xo}--has-tooltip`,!y&&`${xo}--withoutPopup`,!f&&`${xo}--no-margin`].filter(Boolean).join(" ");function F(E){I(!1),o!=="submit"&&p&&E.preventDefault(),p&&p(E)}let _=[r&&`${xo}--style-${r}`,l&&`${xo}--disabled`,C&&`${xo}--round`,y?`${xo}--withPopup`:`${xo}--withoutPopup`].filter(Boolean).join(" "),D={id:e,type:o,"aria-disabled":l,"aria-label":n,className:y?R:[R,_].join(" "),disabled:l,onClick:l?void 0:F,onMouseDown:l?void 0:g,onPointerEnter:w?()=>I(!0):void 0,onPointerLeave:w?()=>I(!1):void 0,rel:h?"noopener noreferrer":void 0,target:h?"_blank":void 0,title:n},A,L;switch(a){case"anchor":A=br("a",{...D,href:l?void 0:S,ref:b,children:br(Sm,{icon:u,showTooltip:T,tooltip:w,children:s})});break;case"link":l&&(A=br("div",{...D,children:br(Sm,{icon:u,showTooltip:T,tooltip:w,children:s})})),A=br(Jt,{...D,href:x||S,prefetch:L,children:br(Sm,{icon:u,showTooltip:T,tooltip:w,children:s})});break;default:A=br(a,{ref:b,...D,children:br(Sm,{icon:u,showTooltip:T,tooltip:w,children:s})});break}return y?Im("div",{className:_,children:[A,br(lt,{button:br(We,{}),buttonSize:v,className:l&&!c?`${xo}--popup-disabled`:"",disabled:l&&!c,horizontalAlign:"right",id:`${e}-popup`,noBackground:!0,render:({close:E})=>y({close:()=>E()}),size:"large",verticalAlign:"bottom"})]}):A};import{fieldAffectsData as Rx,fieldHasSubFields as Ax}from"payload/shared";function Px({data:t,path:e,...o}){return typeof t>"u"||!e||!o.type?!1:o.type==="blocks"?VE({blocksFromClipboard:o.blocks,blocksFromConfig:o.schemaBlocks}):Og({fieldsFromClipboard:o.fields,fieldsFromConfig:o.schemaFields})}function Og({fieldsFromClipboard:t,fieldsFromConfig:e}){return!e||t.length!==e?.length?!1:t.every((o,n)=>{let r=e[n];if(o.type!==r.type||Rx(o)&&Rx(r)&&o.name!==r.name)return!1;let i=Ax(r),l=Ax(o);return l!==i?!1:l&&i?Og({fieldsFromClipboard:o.fields,fieldsFromConfig:r.fields}):!0})}function VE({blocksFromClipboard:t,blocksFromConfig:e}){let o=new Map(e?.map(r=>[r.slug,r]));if(!o.size)return!1;let n=new Set;for(let r of t){let s=r.slug;if(!n.has(s)){let i=o.get(s);if(!i||!Og({fieldsFromClipboard:r.fields,fieldsFromConfig:i.fields}))return!1;n.add(s)}}return!0}var Ex="_payloadClipboard";function Pa(t){let{getDataToCopy:e,t:o,...n}=t,r={data:e(),...n};try{return localStorage.setItem(Ex,JSON.stringify(r)),!0}catch{return o("error:unableToCopy")}}function Ea({onPaste:t,path:e,t:o,...n}){let r;try{let i=localStorage.getItem(Ex);if(!i)return o("error:invalidClipboardData");r=JSON.parse(i)}catch{return o("error:invalidClipboardData")}let s={...r,...n,fieldPath:e};return Px(s)?(t(r),!0):o("error:invalidClipboardData")}import{c as UE}from"react/compiler-runtime";import{jsx as La,jsxs as XE}from"react/jsx-runtime";import"react";import{jsx as Vg,jsxs as GE}from"react/jsx-runtime";import"react";var bc=({className:t})=>GE("svg",{className:["icon icon--more",t].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[Vg("path",{className:"fill",d:"M10 10.6666C10.3682 10.6666 10.6667 10.3682 10.6667 9.99998C10.6667 9.63179 10.3682 9.33331 10 9.33331C9.63182 9.33331 9.33334 9.63179 9.33334 9.99998C9.33334 10.3682 9.63182 10.6666 10 10.6666Z",strokeLinecap:"square"}),Vg("path",{className:"fill",d:"M14.6667 10.6666C15.0349 10.6666 15.3333 10.3682 15.3333 9.99998C15.3333 9.63179 15.0349 9.33331 14.6667 9.33331C14.2985 9.33331 14 9.63179 14 9.99998C14 10.3682 14.2985 10.6666 14.6667 10.6666Z",strokeLinecap:"square"}),Vg("path",{className:"fill",d:"M5.33334 10.6666C5.70153 10.6666 6.00001 10.3682 6.00001 9.99998C6.00001 9.63179 5.70153 9.33331 5.33334 9.33331C4.96515 9.33331 4.66667 9.63179 4.66667 9.99998C4.66667 10.3682 4.96515 10.6666 5.33334 10.6666Z",strokeLinecap:"square"})]});import{c as zE}from"react/compiler-runtime";import{jsx as Lx,jsxs as WE}from"react/jsx-runtime";import{Fragment as HE}from"react";import{jsx as Nx}from"react/jsx-runtime";import"react";var xi=()=>Nx("svg",{className:"icon icon--copy",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:Nx("path",{className:"stroke",d:"M4.66666 12.6667C3.93333 12.6667 3.33333 12.0667 3.33333 11.3333V4.66668C3.33333 3.93334 3.93333 3.33334 4.66666 3.33334H11.3333C12.0667 3.33334 12.6667 3.93334 12.6667 4.66668M8.66666 7.33334H15.3333C16.0697 7.33334 16.6667 7.9303 16.6667 8.66668V15.3333C16.6667 16.0697 16.0697 16.6667 15.3333 16.6667H8.66666C7.93028 16.6667 7.33333 16.0697 7.33333 15.3333V8.66668C7.33333 7.9303 7.93028 7.33334 8.66666 7.33334Z",strokeLinecap:"square"})});var Na=t=>{let e=zE(4),{isPaste:o,isRow:n}=t,{t:r}=N(),s;if(e[0]!==o||e[1]!==n||e[2]!==r){let i=r("general:copyField");!n&&o?i=r("general:pasteField"):n&&!o?i=r("general:copyRow"):n&&o&&(i=r("general:pasteRow")),s=WE(HE,{children:[o?Lx(gr,{}):Lx(xi,{})," ",i]}),e[0]=o,e[1]=n,e[2]=r,e[3]=s}else s=e[3];return s};var ZE="clipboard-action",_m=t=>{let e=UE(40),o,n,r,s,i,l,a,c,u,d;e[0]!==t?({allowCopy:o,allowPaste:n,className:r,copyClassName:s,disabled:i,isRow:l,onPaste:a,pasteClassName:c,path:u,...d}=t,e[0]=t,e[1]=o,e[2]=n,e[3]=r,e[4]=s,e[5]=i,e[6]=l,e[7]=a,e[8]=c,e[9]=u,e[10]=d):(o=e[1],n=e[2],r=e[3],s=e[4],i=e[5],l=e[6],a=e[7],c=e[8],u=e[9],d=e[10]);let{t:m}=N(),f;e[11]!==r?(f=[`${ZE}__popup`,r].filter(Boolean),e[11]=r,e[12]=f):f=e[12];let h=f.join(" "),p;e[13]!==u||e[14]!==d||e[15]!==m?(p=()=>{let y=Pa({path:u,t:m,...d});typeof y=="string"?K.error(y):K.success(m("general:copied"))},e[13]=u,e[14]=d,e[15]=m,e[16]=p):p=e[16];let g=p,b;e[17]!==a||e[18]!==u||e[19]!==d||e[20]!==m?(b=()=>{let y=Ea(d.type==="array"?{onPaste:a,path:u,schemaFields:d.fields,t:m}:{onPaste:a,path:u,schemaBlocks:d.blocks,t:m});typeof y=="string"&&K.error(y)},e[17]=a,e[18]=u,e[19]=d,e[20]=m,e[21]=b):b=e[21];let C=b;if(!n&&!o)return null;let v;if(e[22]!==o||e[23]!==n||e[24]!==h||e[25]!==s||e[26]!==i||e[27]!==g||e[28]!==C||e[29]!==l||e[30]!==c){let y;e[32]!==o||e[33]!==n||e[34]!==s||e[35]!==g||e[36]!==C||e[37]!==l||e[38]!==c?(y=x=>{let{close:w}=x;return XE(ve.ButtonGroup,{children:[La(ve.Button,{className:s,disabled:!o,onClick:()=>{g(),w()},children:La(Na,{isRow:l})}),La(ve.Button,{className:c,disabled:!n,onClick:()=>{C(),w()},children:La(Na,{isPaste:!0,isRow:l})})]})},e[32]=o,e[33]=n,e[34]=s,e[35]=g,e[36]=C,e[37]=l,e[38]=c,e[39]=y):y=e[39],v=La(lt,{button:La(bc,{}),className:h,disabled:i,horizontalAlign:"center",render:y,size:"large",verticalAlign:"bottom"}),e[22]=o,e[23]=n,e[24]=h,e[25]=s,e[26]=i,e[27]=g,e[28]=C,e[29]=l,e[30]=c,e[31]=v}else v=e[31];return v};function $a({formState:t,path:e,rowIndex:o}){let n={},r=typeof o!="number"?e:`${e}.${o}`;for(let s in t){if(!s.startsWith(r))continue;let{customComponents:i,validate:l,...a}=t[s];Array.isArray(a.rows)&&(a.rows=a.rows.map(c=>{if(!c||typeof c!="object")return c;let{customComponents:u,...d}=c;return d})),n[s]=a}return n}function ka({dataFromClipboard:t,formState:e,path:o,rowIndex:n}){let{type:r,data:s,path:i,rowIndex:l}=t,a=typeof l!="number",c=typeof n!="number",u=!a&&c,d=r==="array",m;a&&c?m=i:a?m=`${i}.${n}`:m=`${i}.${l}`;let f;if(c?u?f=`${o}.0`:f=o:f=`${o}.${n}`,u){let h=`${o}.0`,p=s[`${m}.id`].value,g=e[o].rows?.length;e[o].rows=[{...g&&d?e[o].rows[0]:{},id:p,isLoading:!1,lastRenderedPath:h}],e[o].value=1,e[o].initialValue=1,e[o].disableFormData=!0;for(let b in e)b!==o&&!b.startsWith(h)&&b.startsWith(o)&&delete e[b]}for(let h in s){if(!c&&h.endsWith(".id")||!h.startsWith(m))continue;let p=h.replace(m,f),g=d?e[p]?.customComponents:void 0,b=d?e[p]?.validate:void 0;e[p]={customComponents:g,validate:b,...s[h]}}return e}import{c as _N}from"react/compiler-runtime";import{jsx as DN}from"react/jsx-runtime";import{Fragment as TN}from"react";import{c as IN}from"react/compiler-runtime";import Gx,{useMemo as Tm,useRef as Wg,useEffect as Fm,useState as rN,useContext as nN}from"react";import{useDndContext as sN,getClientRect as iN,useDroppable as aN,useDraggable as lN,closestCorners as cN,getFirstCollision as uN,getScrollableAncestors as dN,KeyboardCode as ks}from"@dnd-kit/core";import{useMemo as $x,useLayoutEffect as YE,useEffect as JE,useRef as Loe,useCallback as $oe}from"react";function kx(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return $x(()=>n=>{e.forEach(r=>r(n))},e)}var qE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function QE(t){let e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function KE(t){return"nodeType"in t}function jx(t){var e,o;return t?QE(t)?t:KE(t)&&(e=(o=t.ownerDocument)==null?void 0:o.defaultView)!=null?e:window:window}var zg=qE?YE:JE;var Gg={};function Bx(t,e){return $x(()=>{if(e)return e;let o=Gg[t]==null?0:Gg[t]+1;return Gg[t]=o,t+"-"+o},[t,e])}function eN(t){return function(e){for(var o=arguments.length,n=new Array(o>1?o-1:0),r=1;r<o;r++)n[r-1]=arguments[r];return n.reduce((s,i)=>{let l=Object.entries(i);for(let[a,c]of l){let u=s[a];u!=null&&(s[a]=u+t*c)}return s},{...e})}}var Mx=eN(-1);function tN(t){return"clientX"in t&&"clientY"in t}function Ox(t){if(!t)return!1;let{KeyboardEvent:e}=jx(t.target);return e&&t instanceof e}function oN(t){if(!t)return!1;let{TouchEvent:e}=jx(t.target);return e&&t instanceof e}function Vx(t){if(oN(t)){if(t.touches&&t.touches.length){let{clientX:e,clientY:o}=t.touches[0];return{x:e,y:o}}else if(t.changedTouches&&t.changedTouches.length){let{clientX:e,clientY:o}=t.changedTouches[0];return{x:e,y:o}}}return tN(t)?{x:t.clientX,y:t.clientY}:null}var vc=Object.freeze({Translate:{toString(t){if(!t)return;let{x:e,y:o}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(o?Math.round(o):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;let{scaleX:e,scaleY:o}=t;return"scaleX("+e+") scaleY("+o+")"}},Transform:{toString(t){if(t)return[vc.Translate.toString(t),vc.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:o,easing:n}=t;return e+" "+o+"ms "+n}}});function Am(t,e,o){let n=t.slice();return n.splice(o<0?n.length+o:o,0,n.splice(e,1)[0]),n}function mN(t,e){return t.reduce((o,n,r)=>{let s=e.get(n);return s&&(o[r]=s),o},Array(t.length))}function Dm(t){return t!==null&&t>=0}function fN(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let o=0;o<t.length;o++)if(t[o]!==e[o])return!1;return!0}function pN(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}var zx=t=>{let{rects:e,activeIndex:o,overIndex:n,index:r}=t,s=Am(e,n,o),i=e[r],l=s[r];return!l||!i?null:{x:l.left-i.left,y:l.top-i.top,scaleX:l.width/i.width,scaleY:l.height/i.height}};var Wx="Sortable",Hx=Gx.createContext({activeIndex:-1,containerId:Wx,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:zx,disabled:{draggable:!1,droppable:!1}});function Ux(t){let{children:e,id:o,items:n,strategy:r=zx,disabled:s=!1}=t,{active:i,dragOverlay:l,droppableRects:a,over:c,measureDroppableContainers:u}=sN(),d=Bx(Wx,o),m=l.rect!==null,f=Tm(()=>n.map(w=>typeof w=="object"&&"id"in w?w.id:w),[n]),h=i!=null,p=i?f.indexOf(i.id):-1,g=c?f.indexOf(c.id):-1,b=Wg(f),C=!fN(f,b.current),v=g!==-1&&p===-1||C,y=pN(s);zg(()=>{C&&h&&u(f)},[C,f,h,u]),Fm(()=>{b.current=f},[f]);let x=Tm(()=>({activeIndex:p,containerId:d,disabled:y,disableTransforms:v,items:f,overIndex:g,useDragOverlay:m,sortedRects:mN(f,a),strategy:r}),[p,d,y.draggable,y.droppable,v,f,g,a,m,r]);return Gx.createElement(Hx.Provider,{value:x},e)}var hN=t=>{let{id:e,items:o,activeIndex:n,overIndex:r}=t;return Am(o,n,r).indexOf(e)},gN=t=>{let{containerId:e,isSorting:o,wasDragging:n,index:r,items:s,newIndex:i,previousItems:l,previousContainerId:a,transition:c}=t;return!c||!n||l!==s&&r===i?!1:o?!0:i!==r&&e===a},bN={duration:200,easing:"ease"},Xx="transform",vN=vc.Transition.toString({property:Xx,duration:0,easing:"linear"}),CN={roleDescription:"sortable"};function yN(t){let{disabled:e,index:o,node:n,rect:r}=t,[s,i]=rN(null),l=Wg(o);return zg(()=>{if(!e&&o!==l.current&&n.current){let a=r.current;if(a){let c=iN(n.current,{ignoreTransform:!0}),u={x:a.left-c.left,y:a.top-c.top,scaleX:a.width/c.width,scaleY:a.height/c.height};(u.x||u.y)&&i(u)}}o!==l.current&&(l.current=o)},[e,o,n,r]),Fm(()=>{s&&i(null)},[s]),s}function Zx(t){let{animateLayoutChanges:e=gN,attributes:o,disabled:n,data:r,getNewIndex:s=hN,id:i,strategy:l,resizeObserverConfig:a,transition:c=bN}=t,{items:u,containerId:d,activeIndex:m,disabled:f,disableTransforms:h,sortedRects:p,overIndex:g,useDragOverlay:b,strategy:C}=nN(Hx),v=xN(n,f),y=u.indexOf(i),x=Tm(()=>({sortable:{containerId:d,index:y,items:u},...r}),[d,r,y,u]),w=Tm(()=>u.slice(u.indexOf(i)),[u,i]),{rect:S,node:T,isOver:I,setNodeRef:R}=aN({id:i,data:x,disabled:v.droppable,resizeObserverConfig:{updateMeasurementsFor:w,...a}}),{active:F,activatorEvent:_,activeNodeRect:D,attributes:A,setNodeRef:L,listeners:E,isDragging:k,over:B,setActivatorNodeRef:$,transform:P}=lN({id:i,data:x,attributes:{...CN,...o},disabled:v.draggable}),M=kx(R,L),j=!!F,O=j&&!h&&Dm(m)&&Dm(g),G=!b&&k,V=G&&O?P:null,X=O?V??(l??C)({rects:p,activeNodeRect:D,activeIndex:m,overIndex:g,index:y}):null,Q=Dm(m)&&Dm(g)?s({id:i,items:u,activeIndex:m,overIndex:g}):y,U=F?.id,ee=Wg({activeId:U,items:u,newIndex:Q,containerId:d}),J=u!==ee.current.items,re=e({active:F,containerId:d,isDragging:k,isSorting:j,id:i,index:y,items:u,newIndex:ee.current.newIndex,previousItems:ee.current.items,previousContainerId:ee.current.containerId,transition:c,wasDragging:ee.current.activeId!=null}),ie=yN({disabled:!re,index:y,node:T,rect:S});return Fm(()=>{j&&ee.current.newIndex!==Q&&(ee.current.newIndex=Q),d!==ee.current.containerId&&(ee.current.containerId=d),u!==ee.current.items&&(ee.current.items=u)},[j,Q,d,u]),Fm(()=>{if(U===ee.current.activeId)return;if(U&&!ee.current.activeId){ee.current.activeId=U;return}let Z=setTimeout(()=>{ee.current.activeId=U},50);return()=>clearTimeout(Z)},[U]),{active:F,activeIndex:m,attributes:A,data:x,rect:S,index:y,newIndex:Q,items:u,isOver:I,isSorting:j,isDragging:k,listeners:E,node:T,overIndex:g,over:B,setNodeRef:M,setActivatorNodeRef:$,setDroppableNodeRef:R,setDraggableNodeRef:L,transform:ie??X,transition:le()};function le(){if(ie||J&&ee.current.newIndex===y)return vN;if(!(G&&!Ox(_)||!c)&&(j||re))return vc.Transition.toString({...c,property:Xx})}}function xN(t,e){var o,n;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(o=t?.draggable)!=null?o:e.draggable,droppable:(n=t?.droppable)!=null?n:e.droppable}}function Rm(t){if(!t)return!1;let e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}var wN=[ks.Down,ks.Right,ks.Up,ks.Left],Yx=(t,e)=>{let{context:{active:o,collisionRect:n,droppableRects:r,droppableContainers:s,over:i,scrollableAncestors:l}}=e;if(wN.includes(t.code)){if(t.preventDefault(),!o||!n)return;let a=[];s.getEnabled().forEach(d=>{if(!d||d!=null&&d.disabled)return;let m=r.get(d.id);if(m)switch(t.code){case ks.Down:n.top<m.top&&a.push(d);break;case ks.Up:n.top>m.top&&a.push(d);break;case ks.Left:n.left>m.left&&a.push(d);break;case ks.Right:n.left<m.left&&a.push(d);break}});let c=cN({active:o,collisionRect:n,droppableRects:r,droppableContainers:a,pointerCoordinates:null}),u=uN(c,"id");if(u===i?.id&&c.length>1&&(u=c[1].id),u!=null){let d=s.get(o.id),m=s.get(u),f=m?r.get(m.id):null,h=m?.node.current;if(h&&f&&d&&m){let g=dN(h).some((w,S)=>l[S]!==w),b=Jx(d,m),C=SN(d,m),v=g||!b?{x:0,y:0}:{x:C?n.width-f.width:0,y:C?n.height-f.height:0},y={x:f.left,y:f.top};return v.x&&v.y?y:Mx(y,v)}}}};function Jx(t,e){return!Rm(t)||!Rm(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function SN(t,e){return!Rm(t)||!Rm(e)||!Jx(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}var ja=t=>{let e=IN(17),{id:o,disabled:n}=t,r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={duration:250,easing:"cubic-bezier(0, 0.2, 0.2, 1)"},e[0]=r):r=e[0];let s;e[1]!==n||e[2]!==o?(s={id:o,disabled:n,transition:r},e[1]=n,e[2]=o,e[3]=s):s=e[3];let{attributes:i,isDragging:l,listeners:a,setNodeRef:c,transform:u,transition:d}=Zx(s),m=l?"grabbing":"grab",f;e[4]!==m||e[5]!==d?(f={cursor:m,transition:d},e[4]=m,e[5]=d,e[6]=f):f=e[6];let h;e[7]!==i||e[8]!==f?(h={...i,style:f},e[7]=i,e[8]=f,e[9]=h):h=e[9];let p=u&&`translate3d(${u.x}px, ${u.y}px, 0)`,g;return e[10]!==l||e[11]!==a||e[12]!==c||e[13]!==h||e[14]!==p||e[15]!==d?(g={attributes:h,isDragging:l,listeners:a,setNodeRef:c,transform:p,transition:d},e[10]=l,e[11]=a,e[12]=c,e[13]=h,e[14]=p,e[15]=d,e[16]=g):g=e[16],g};var Dn=t=>{let e=_N(12),{id:o,children:n,disabled:r}=t,s;e[0]!==r||e[1]!==o?(s={id:o,disabled:r},e[0]=r,e[1]=o,e[2]=s):s=e[2];let{attributes:i,isDragging:l,listeners:a,setNodeRef:c,transform:u,transition:d}=ja(s),m=l?"grabbing":"grab",f;return e[3]!==i||e[4]!==n||e[5]!==l||e[6]!==a||e[7]!==c||e[8]!==m||e[9]!==u||e[10]!==d?(f=DN(TN,{children:n({attributes:{...i,style:{cursor:m}},isDragging:l,listeners:a,setNodeRef:c,transform:u,transition:d})}),e[3]=i,e[4]=n,e[5]=l,e[6]=a,e[7]=c,e[8]=m,e[9]=u,e[10]=d,e[11]=f):f=e[11],f};import{c as FN}from"react/compiler-runtime";import{jsx as Hg}from"react/jsx-runtime";import{closestCenter as RN,DndContext as AN,KeyboardSensor as PN,PointerSensor as EN,useDroppable as NN,useSensor as qx,useSensors as LN}from"@dnd-kit/core";import{useId as $N}from"react";var Br=t=>{let e=FN(18),{children:o,className:n,ids:r,onDragEnd:s,onDragStart:i}=t,l=$N(),a;e[0]!==l?(a={id:l},e[0]=l,e[1]=a):a=e[1];let{setNodeRef:c}=NN(a),u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u={activationConstraint:{distance:5}},e[2]=u):u=e[2];let d;e[3]===Symbol.for("react.memo_cache_sentinel")?(d={coordinateGetter:Yx},e[3]=d):d=e[3];let m=LN(qx(EN,u),qx(PN,d)),f;e[4]!==r||e[5]!==s?(f=C=>{let{active:v,over:y}=C;C.activatorEvent.stopPropagation(),!(!v||!y)&&typeof s=="function"&&s({event:C,moveFromIndex:r.findIndex(x=>x===v.id),moveToIndex:r.findIndex(x=>x===y.id)})},e[4]=r,e[5]=s,e[6]=f):f=e[6];let h=f,p;e[7]!==i?(p=C=>{let{active:v}=C;v&&typeof i=="function"&&i({id:v.id,event:C})},e[7]=i,e[8]=p):p=e[8];let g=p,b;return e[9]!==o||e[10]!==n||e[11]!==h||e[12]!==g||e[13]!==l||e[14]!==r||e[15]!==m||e[16]!==c?(b=Hg(AN,{collisionDetection:RN,id:l,onDragEnd:h,onDragStart:g,sensors:m,children:Hg(Ux,{items:r,children:Hg("div",{className:n,ref:c,children:o})})}),e[9]=o,e[10]=n,e[11]=h,e[12]=g,e[13]=l,e[14]=r,e[15]=m,e[16]=c,e[17]=b):b=e[17],b};import{jsx as Qx,jsxs as kN}from"react/jsx-runtime";import"react";var Pm="error-pill",Io=t=>{let{className:e,count:o,i18n:n,withMessage:r}=t,s=!r&&o<99,i=[Pm,s&&`${Pm}--fixed-width`,e&&e].filter(Boolean).join(" ");return o===0?null:Qx("div",{className:i,children:kN("div",{className:`${Pm}__content`,children:[Qx("span",{className:`${Pm}__count`,children:o}),r&&` ${o>1?n.t("general:errors"):n.t("general:error")}`]})})};import{c as jN}from"react/compiler-runtime";import{jsx as BN}from"react/jsx-runtime";import{getTranslation as MN}from"@payloadcms/translations";import"react";var Kx="field-description",Xe=t=>{let e=jN(8),{className:o,description:n,marginPlacement:r,path:s}=t,{i18n:i}=N();if(n){let l=`field-description-${s?.replace(/\./g,"__")}`,a=r&&`${Kx}--margin-${r}`,c;e[0]!==o||e[1]!==l||e[2]!==a?(c=[Kx,o,l,a].filter(Boolean),e[0]=o,e[1]=l,e[2]=a,e[3]=c):c=e[3];let u=c.join(" "),d;return e[4]!==n||e[5]!==i||e[6]!==u?(d=BN("div",{className:u,children:MN(n,i)}),e[4]=n,e[5]=i,e[6]=u,e[7]=d):d=e[7],d}return null};import{c as ON}from"react/compiler-runtime";import{jsx as VN}from"react/jsx-runtime";import"react";var GN="field-error",Qe=t=>{let e=ON(7),{alignCaret:o,message:n,path:r,showError:s}=t,i=o===void 0?"right":o,l=fo(),a;e[0]!==r?(a=p=>{let[g]=p;return g&&g?.[r]||null},e[0]=r,e[1]=a):a=e[1];let c=Lt(a),u;e[2]!==c?(u=c||{},e[2]=c,e[3]=u):u=e[3];let{errorMessage:d,valid:m}=u,f=n||d;if((s||l&&m===!1)&&f?.length){let p;return e[4]!==i||e[5]!==f?(p=VN(Eo,{alignCaret:i,className:GN,delay:0,staticPositioning:!0,children:f}),e[4]=i,e[5]=f,e[6]=p):p=e[6],p}return null};import{c as nL}from"react/compiler-runtime";import{jsx as sL,jsxs as Vw}from"react/jsx-runtime";import{getTranslation as iL}from"@payloadcms/translations";import"react";import{c as zN}from"react/compiler-runtime";import{jsx as WN}from"react/jsx-runtime";import{createContext as HN,use as UN}from"react";var ew=HN(0),Jn=t=>{let e=zN(3),{children:o}=t,r=ct()+1,s;return e[0]!==o||e[1]!==r?(s=WN(ew,{value:r,children:o}),e[0]=o,e[1]=r,e[2]=s):s=e[2],s},ct=()=>UN(ew);import{c as q9}from"react/compiler-runtime";import{jsx as $w}from"react/jsx-runtime";import{useSearchParams as Q9}from"next/navigation.js";import K9,{createContext as jw,use as Bw,useEffect as kw,useRef as eL,useState as tL}from"react";var js=(t,e)=>!t?.locales||t.locales.length===0?null:t.locales.find(o=>o?.code===e);import{jsx as V9}from"react/jsx-runtime";import{jsx as e1}from"react/jsx-runtime";import{useRef as dw,useEffect as Ii,useState as t1}from"react";import i9 from"react-dom";function Pe(){return Pe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)({}).hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},Pe.apply(null,arguments)}function Ba(t,e){if(t==null)return{};var o={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.includes(n))continue;o[n]=t[n]}return o}function Ma(t,e){return Ma=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,n){return o.__proto__=n,o},Ma(t,e)}function Em(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Ma(t,e)}function Ug(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function Xg(t,e){t.classList?t.classList.add(e):Ug(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function tw(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Zg(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=tw(t.className,e):t.setAttribute("class",tw(t.className&&t.className.baseVal||"",e))}import rw from"react";import Lm from"react";import $m from"react-dom";var Yg={disabled:!1};import XN from"react";var Jg=XN.createContext(null);var Nm=function(e){return e.scrollTop};var Cc="unmounted",wi="exited",Si="entering",Va="entered",qg="exiting",qn=function(t){Em(e,t);function e(n,r){var s;s=t.call(this,n,r)||this;var i=r,l=i&&!i.isMounting?n.enter:n.appear,a;return s.appearStatus=null,n.in?l?(a=wi,s.appearStatus=Si):a=Va:n.unmountOnExit||n.mountOnEnter?a=Cc:a=wi,s.state={status:a},s.nextCallback=null,s}e.getDerivedStateFromProps=function(r,s){var i=r.in;return i&&s.status===Cc?{status:wi}:null};var o=e.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(r){var s=null;if(r!==this.props){var i=this.state.status;this.props.in?i!==Si&&i!==Va&&(s=Si):(i===Si||i===Va)&&(s=qg)}this.updateStatus(!1,s)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var r=this.props.timeout,s,i,l;return s=i=l=r,r!=null&&typeof r!="number"&&(s=r.exit,i=r.enter,l=r.appear!==void 0?r.appear:i),{exit:s,enter:i,appear:l}},o.updateStatus=function(r,s){if(r===void 0&&(r=!1),s!==null)if(this.cancelNextCallback(),s===Si){if(this.props.unmountOnExit||this.props.mountOnEnter){var i=this.props.nodeRef?this.props.nodeRef.current:$m.findDOMNode(this);i&&Nm(i)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===wi&&this.setState({status:Cc})},o.performEnter=function(r){var s=this,i=this.props.enter,l=this.context?this.context.isMounting:r,a=this.props.nodeRef?[l]:[$m.findDOMNode(this),l],c=a[0],u=a[1],d=this.getTimeouts(),m=l?d.appear:d.enter;if(!r&&!i||Yg.disabled){this.safeSetState({status:Va},function(){s.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:Si},function(){s.props.onEntering(c,u),s.onTransitionEnd(m,function(){s.safeSetState({status:Va},function(){s.props.onEntered(c,u)})})})},o.performExit=function(){var r=this,s=this.props.exit,i=this.getTimeouts(),l=this.props.nodeRef?void 0:$m.findDOMNode(this);if(!s||Yg.disabled){this.safeSetState({status:wi},function(){r.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:qg},function(){r.props.onExiting(l),r.onTransitionEnd(i.exit,function(){r.safeSetState({status:wi},function(){r.props.onExited(l)})})})},o.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(r,s){s=this.setNextCallback(s),this.setState(r,s)},o.setNextCallback=function(r){var s=this,i=!0;return this.nextCallback=function(l){i&&(i=!1,s.nextCallback=null,r(l))},this.nextCallback.cancel=function(){i=!1},this.nextCallback},o.onTransitionEnd=function(r,s){this.setNextCallback(s);var i=this.props.nodeRef?this.props.nodeRef.current:$m.findDOMNode(this),l=r==null&&!this.props.addEndListener;if(!i||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[i,this.nextCallback],c=a[0],u=a[1];this.props.addEndListener(c,u)}r!=null&&setTimeout(this.nextCallback,r)},o.render=function(){var r=this.state.status;if(r===Cc)return null;var s=this.props,i=s.children,l=s.in,a=s.mountOnEnter,c=s.unmountOnExit,u=s.appear,d=s.enter,m=s.exit,f=s.timeout,h=s.addEndListener,p=s.onEnter,g=s.onEntering,b=s.onEntered,C=s.onExit,v=s.onExiting,y=s.onExited,x=s.nodeRef,w=Ba(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Lm.createElement(Jg.Provider,{value:null},typeof i=="function"?i(r,w):Lm.cloneElement(Lm.Children.only(i),w))},e}(Lm.Component);qn.contextType=Jg;qn.propTypes={};function Oa(){}qn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Oa,onEntering:Oa,onEntered:Oa,onExit:Oa,onExiting:Oa,onExited:Oa};qn.UNMOUNTED=Cc;qn.EXITED=wi;qn.ENTERING=Si;qn.ENTERED=Va;qn.EXITING=qg;var ow=qn;var ZN=function(e,o){return e&&o&&o.split(" ").forEach(function(n){return Xg(e,n)})},Qg=function(e,o){return e&&o&&o.split(" ").forEach(function(n){return Zg(e,n)})},Kg=function(t){Em(e,t);function e(){for(var n,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s))||this,n.appliedClasses={appear:{},enter:{},exit:{}},n.onEnter=function(l,a){var c=n.resolveArguments(l,a),u=c[0],d=c[1];n.removeClasses(u,"exit"),n.addClass(u,d?"appear":"enter","base"),n.props.onEnter&&n.props.onEnter(l,a)},n.onEntering=function(l,a){var c=n.resolveArguments(l,a),u=c[0],d=c[1],m=d?"appear":"enter";n.addClass(u,m,"active"),n.props.onEntering&&n.props.onEntering(l,a)},n.onEntered=function(l,a){var c=n.resolveArguments(l,a),u=c[0],d=c[1],m=d?"appear":"enter";n.removeClasses(u,m),n.addClass(u,m,"done"),n.props.onEntered&&n.props.onEntered(l,a)},n.onExit=function(l){var a=n.resolveArguments(l),c=a[0];n.removeClasses(c,"appear"),n.removeClasses(c,"enter"),n.addClass(c,"exit","base"),n.props.onExit&&n.props.onExit(l)},n.onExiting=function(l){var a=n.resolveArguments(l),c=a[0];n.addClass(c,"exit","active"),n.props.onExiting&&n.props.onExiting(l)},n.onExited=function(l){var a=n.resolveArguments(l),c=a[0];n.removeClasses(c,"exit"),n.addClass(c,"exit","done"),n.props.onExited&&n.props.onExited(l)},n.resolveArguments=function(l,a){return n.props.nodeRef?[n.props.nodeRef.current,l]:[l,a]},n.getClassNames=function(l){var a=n.props.classNames,c=typeof a=="string",u=c&&a?a+"-":"",d=c?""+u+l:a[l],m=c?d+"-active":a[l+"Active"],f=c?d+"-done":a[l+"Done"];return{baseClassName:d,activeClassName:m,doneClassName:f}},n}var o=e.prototype;return o.addClass=function(r,s,i){var l=this.getClassNames(s)[i+"ClassName"],a=this.getClassNames("enter"),c=a.doneClassName;s==="appear"&&i==="done"&&c&&(l+=" "+c),i==="active"&&r&&Nm(r),l&&(this.appliedClasses[s][i]=l,ZN(r,l))},o.removeClasses=function(r,s){var i=this.appliedClasses[s],l=i.base,a=i.active,c=i.done;this.appliedClasses[s]={},l&&Qg(r,l),a&&Qg(r,a),c&&Qg(r,c)},o.render=function(){var r=this.props,s=r.classNames,i=Ba(r,["classNames"]);return rw.createElement(ow,Pe({},i,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(rw.Component);Kg.defaultProps={classNames:""};Kg.propTypes={};var yc=Kg;function nw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}import{useContext as JN}from"react";import{createContext as YN}from"react";var km=YN({});var ae=()=>JN(km);var jm=t=>t?{appear:`${t}--appear`,appearActive:`${t}--appearActive`,appearDone:`${t}--appearDone`,enter:`${t}--enter`,enterActive:`${t}--enterActive`,enterDone:`${t}--enterDone`,exit:`${t}--exit`,exitActive:`${t}--exitActive`,exitDone:`${t}--exitDone`}:{};aP();function sw(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),o.push.apply(o,n)}return o}function iw(t){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?sw(Object(o),!0).forEach(function(n){qN(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):sw(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}function qN(t,e,o){return e=KN(e),e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function QN(t,e){if(typeof t!="object"||t===null)return t;var o=t[Symbol.toPrimitive];if(o!==void 0){var n=o.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KN(t){var e=QN(t,"string");return typeof e=="symbol"?e:String(e)}var aw={activateTrap:function(e,o){if(e.length>0){var n=e[e.length-1];n!==o&&n.pause()}var r=e.indexOf(o);r===-1||e.splice(r,1),e.push(o)},deactivateTrap:function(e,o){var n=e.indexOf(o);n!==-1&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}},e9=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},t9=function(e){return e?.key==="Escape"||e?.key==="Esc"||e?.keyCode===27},wc=function(e){return e?.key==="Tab"||e?.keyCode===9},o9=function(e){return wc(e)&&!e.shiftKey},r9=function(e){return wc(e)&&e.shiftKey},lw=function(e){return setTimeout(e,0)},cw=function(e,o){var n=-1;return e.every(function(r,s){return o(r)?(n=s,!1):!0}),n},xc=function(e){for(var o=arguments.length,n=new Array(o>1?o-1:0),r=1;r<o;r++)n[r-1]=arguments[r];return typeof e=="function"?e.apply(void 0,n):e},Bm=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},n9=[],uw=function(e,o){var n=o?.document||document,r=o?.trapStack||n9,s=iw({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:o9,isKeyBackward:r9},o),i={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},l,a=function(_,D,A){return _&&_[D]!==void 0?_[D]:s[A||D]},c=function(_,D){var A=typeof D?.composedPath=="function"?D.composedPath():void 0;return i.containerGroups.findIndex(function(L){var E=L.container,k=L.tabbableNodes;return E.contains(_)||A?.includes(E)||k.find(function(B){return B===_})})},u=function(_){var D=s[_];if(typeof D=="function"){for(var A=arguments.length,L=new Array(A>1?A-1:0),E=1;E<A;E++)L[E-1]=arguments[E];D=D.apply(void 0,L)}if(D===!0&&(D=void 0),!D){if(D===void 0||D===!1)return D;throw new Error("`".concat(_,"` was specified but was not a node, or did not return a node"))}var k=D;if(typeof D=="string"&&(k=n.querySelector(D),!k))throw new Error("`".concat(_,"` as selector refers to no known node"));return k},d=function(){var _=u("initialFocus");if(_===!1)return!1;if(_===void 0||!nm(_,s.tabbableOptions))if(c(n.activeElement)>=0)_=n.activeElement;else{var D=i.tabbableGroups[0],A=D&&D.firstTabbableNode;_=A||u("fallbackFocus")}if(!_)throw new Error("Your focus-trap needs to have at least one focusable element");return _},m=function(){if(i.containerGroups=i.containers.map(function(_){var D=$y(_,s.tabbableOptions),A=ky(_,s.tabbableOptions),L=D.length>0?D[0]:void 0,E=D.length>0?D[D.length-1]:void 0,k=A.find(function(P){return gi(P)}),B=A.slice().reverse().find(function(P){return gi(P)}),$=!!D.find(function(P){return Ta(P)>0});return{container:_,tabbableNodes:D,focusableNodes:A,posTabIndexesFound:$,firstTabbableNode:L,lastTabbableNode:E,firstDomTabbableNode:k,lastDomTabbableNode:B,nextTabbableNode:function(M){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,O=D.indexOf(M);return O<0?j?A.slice(A.indexOf(M)+1).find(function(G){return gi(G)}):A.slice(0,A.indexOf(M)).reverse().find(function(G){return gi(G)}):D[O+(j?1:-1)]}}}),i.tabbableGroups=i.containerGroups.filter(function(_){return _.tabbableNodes.length>0}),i.tabbableGroups.length<=0&&!u("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(i.containerGroups.find(function(_){return _.posTabIndexesFound})&&i.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},f=function F(_){var D=_.activeElement;if(D)return D.shadowRoot&&D.shadowRoot.activeElement!==null?F(D.shadowRoot):D},h=function F(_){if(_!==!1&&_!==f(document)){if(!_||!_.focus){F(d());return}_.focus({preventScroll:!!s.preventScroll}),i.mostRecentlyFocusedNode=_,e9(_)&&_.select()}},p=function(_){var D=u("setReturnFocus",_);return D||(D===!1?!1:_)},g=function(_){var D=_.target,A=_.event,L=_.isBackward,E=L===void 0?!1:L;D=D||Bm(A),m();var k=null;if(i.tabbableGroups.length>0){var B=c(D,A),$=B>=0?i.containerGroups[B]:void 0;if(B<0)E?k=i.tabbableGroups[i.tabbableGroups.length-1].lastTabbableNode:k=i.tabbableGroups[0].firstTabbableNode;else if(E){var P=cw(i.tabbableGroups,function(z){var X=z.firstTabbableNode;return D===X});if(P<0&&($.container===D||nm(D,s.tabbableOptions)&&!gi(D,s.tabbableOptions)&&!$.nextTabbableNode(D,!1))&&(P=B),P>=0){var M=P===0?i.tabbableGroups.length-1:P-1,j=i.tabbableGroups[M];k=Ta(D)>=0?j.lastTabbableNode:j.lastDomTabbableNode}else wc(A)||(k=$.nextTabbableNode(D,!1))}else{var O=cw(i.tabbableGroups,function(z){var X=z.lastTabbableNode;return D===X});if(O<0&&($.container===D||nm(D,s.tabbableOptions)&&!gi(D,s.tabbableOptions)&&!$.nextTabbableNode(D))&&(O=B),O>=0){var G=O===i.tabbableGroups.length-1?0:O+1,V=i.tabbableGroups[G];k=Ta(D)>=0?V.firstTabbableNode:V.firstDomTabbableNode}else wc(A)||(k=$.nextTabbableNode(D))}}else k=u("fallbackFocus");return k},b=function(_){var D=Bm(_);if(!(c(D,_)>=0)){if(xc(s.clickOutsideDeactivates,_)){l.deactivate({returnFocus:s.returnFocusOnDeactivate});return}xc(s.allowOutsideClick,_)||_.preventDefault()}},C=function(_){var D=Bm(_),A=c(D,_)>=0;if(A||D instanceof Document)A&&(i.mostRecentlyFocusedNode=D);else{_.stopImmediatePropagation();var L,E=!0;if(i.mostRecentlyFocusedNode)if(Ta(i.mostRecentlyFocusedNode)>0){var k=c(i.mostRecentlyFocusedNode),B=i.containerGroups[k].tabbableNodes;if(B.length>0){var $=B.findIndex(function(P){return P===i.mostRecentlyFocusedNode});$>=0&&(s.isKeyForward(i.recentNavEvent)?$+1<B.length&&(L=B[$+1],E=!1):$-1>=0&&(L=B[$-1],E=!1))}}else i.containerGroups.some(function(P){return P.tabbableNodes.some(function(M){return Ta(M)>0})})||(E=!1);else E=!1;E&&(L=g({target:i.mostRecentlyFocusedNode,isBackward:s.isKeyBackward(i.recentNavEvent)})),h(L||i.mostRecentlyFocusedNode||d())}i.recentNavEvent=void 0},v=function(_){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;i.recentNavEvent=_;var A=g({event:_,isBackward:D});A&&(wc(_)&&_.preventDefault(),h(A))},y=function(_){if(t9(_)&&xc(s.escapeDeactivates,_)!==!1){_.preventDefault(),l.deactivate();return}(s.isKeyForward(_)||s.isKeyBackward(_))&&v(_,s.isKeyBackward(_))},x=function(_){var D=Bm(_);c(D,_)>=0||xc(s.clickOutsideDeactivates,_)||xc(s.allowOutsideClick,_)||(_.preventDefault(),_.stopImmediatePropagation())},w=function(){if(i.active)return aw.activateTrap(r,l),i.delayInitialFocusTimer=s.delayInitialFocus?lw(function(){h(d())}):h(d()),n.addEventListener("focusin",C,!0),n.addEventListener("mousedown",b,{capture:!0,passive:!1}),n.addEventListener("touchstart",b,{capture:!0,passive:!1}),n.addEventListener("click",x,{capture:!0,passive:!1}),n.addEventListener("keydown",y,{capture:!0,passive:!1}),l},S=function(){if(i.active)return n.removeEventListener("focusin",C,!0),n.removeEventListener("mousedown",b,!0),n.removeEventListener("touchstart",b,!0),n.removeEventListener("click",x,!0),n.removeEventListener("keydown",y,!0),l},T=function(_){var D=_.some(function(A){var L=Array.from(A.removedNodes);return L.some(function(E){return E===i.mostRecentlyFocusedNode})});D&&h(d())},I=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(T):void 0,R=function(){I&&(I.disconnect(),i.active&&!i.paused&&i.containers.map(function(_){I.observe(_,{subtree:!0,childList:!0})}))};return l={get active(){return i.active},get paused(){return i.paused},activate:function(_){if(i.active)return this;var D=a(_,"onActivate"),A=a(_,"onPostActivate"),L=a(_,"checkCanFocusTrap");L||m(),i.active=!0,i.paused=!1,i.nodeFocusedBeforeActivation=n.activeElement,D?.();var E=function(){L&&m(),w(),R(),A?.()};return L?(L(i.containers.concat()).then(E,E),this):(E(),this)},deactivate:function(_){if(!i.active)return this;var D=iw({onDeactivate:s.onDeactivate,onPostDeactivate:s.onPostDeactivate,checkCanReturnFocus:s.checkCanReturnFocus},_);clearTimeout(i.delayInitialFocusTimer),i.delayInitialFocusTimer=void 0,S(),i.active=!1,i.paused=!1,R(),aw.deactivateTrap(r,l);var A=a(D,"onDeactivate"),L=a(D,"onPostDeactivate"),E=a(D,"checkCanReturnFocus"),k=a(D,"returnFocus","returnFocusOnDeactivate");A?.();var B=function(){lw(function(){k&&h(p(i.nodeFocusedBeforeActivation)),L?.()})};return k&&E?(E(p(i.nodeFocusedBeforeActivation)).then(B,B),this):(B(),this)},pause:function(_){if(i.paused||!i.active)return this;var D=a(_,"onPause"),A=a(_,"onPostPause");return i.paused=!0,D?.(),S(),R(),A?.(),this},unpause:function(_){if(!i.paused||!i.active)return this;var D=a(_,"onUnpause"),A=a(_,"onPostUnpause");return i.paused=!1,D?.(),m(),w(),R(),A?.(),this},updateContainerElements:function(_){var D=[].concat(_).filter(Boolean);return i.containers=D.map(function(A){return typeof A=="string"?n.querySelector(A):A}),i.active&&m(),R(),this}},l.updateContainerElements(e),l};var s9=function(t,e){var o={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(o[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(o[n[r]]=t[n[r]]);return o},Qn="modal-item",mw=(t,e)=>n=>{let r=ae(),s=dw(null),[i,l]=t1(!1),a=dw(!1),[c,u]=t1(null),{modalState:d,classPrefix:m,containerRef:f,transTime:h,setCloseOnBlur:p,setBodyScrollLock:g,openModal:b}=r,{className:C,htmlElement:v="dialog",slug:y="",closeOnBlur:x=!0,lockBodyScroll:w=!0,classPrefix:S,onEnter:T,onEntering:I,onEntered:R,onExit:F,onExiting:_,onExited:D,openOnInit:A,trapFocus:L=!0,focusTrapOptions:E={}}=n,k=s9(n,["className","htmlElement","slug","closeOnBlur","lockBodyScroll","classPrefix","onEnter","onEntering","onEntered","onExit","onExiting","onExited","openOnInit","trapFocus","focusTrapOptions"]),B=S||m,$=e||y,P=d[$]&&d[$].isOpen;Ii(()=>{if(L){let O=s.current;if(a.current===!1&&O){let G=uw(O,Object.assign(Object.assign({},E),{fallbackFocus:E?.fallbackFocus||O,allowOutsideClick:typeof E.allowOutsideClick<"u"?E.allowOutsideClick:!0}));u(G),a.current=!0}}},[L,i,E]),Ii(()=>{l(!0)},[]),Ii(()=>(c&&(P?c.activate():c.deactivate()),()=>{c&&c.deactivate()}),[P,c]),Ii(()=>{P&&p(x)},[P,x,p]),Ii(()=>{let O=s.current;return O&&g(!!(P&&w),O),()=>{O&&g(!1,O)}},[P,w,g]);let[M,j]=t1(P);if(Ii(()=>{P?j(P):setTimeout(()=>j(!1),h)},[P,h]),Ii(()=>{A&&b($)},[$,A,b]),f.current){let O=B?`${B}__${Qn}`:Qn,G=[O,`${O}--slug-${$}`,C].filter(Boolean).join(" "),V=Object.assign({role:v!=="dialog"?"dialog":void 0,open:v==="dialog"?M||P:void 0,"aria-modal":!0,"aria-label":k["aria-labelledby"]?void 0:$},k);return i9.createPortal(e1(yc,{nodeRef:s,timeout:h,in:P,classNames:jm(O),appear:!0,onEnter:T,onEntering:I,onEntered:R,onExit:F,onExiting:_,onExited:D,children:e1(v,Object.assign({ref:s,id:k?.id||$,className:G},V,{children:e1(t,Object.assign({},n,{isOpen:P,modal:r}))}))}),f.current)}return null};import{jsx as fw}from"react/jsx-runtime";import{Fragment as pw}from"react";var a9=t=>{let{children:e}=t;return e?typeof e=="function"?fw(pw,{children:e(t)}):fw(pw,{children:e}):null},vr=mw(a9);import{jsx as hw}from"react/jsx-runtime";var l9=function(t,e){var o={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(o[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(o[n[r]]=t[n[r]]);return o},Kn="modal-container",o1=t=>{let{oneModalIsOpen:e,classPrefix:o,transTime:n,setContainerRef:r,containerRef:s,closeAllModals:i,closeOnBlur:l}=ae(),{className:a,htmlElement:c="div",children:u,onClick:d}=t,m=l9(t,["className","htmlElement","children","onClick"]),f=o?`${o}__${Kn}`:Kn,h=[f,a].filter(Boolean).join(" "),p=Object.assign(Object.assign({},m),{onClick:g=>{l&&i(),typeof d=="function"&&d(g)}});return hw(yc,{nodeRef:s,in:e,timeout:n,classNames:jm(f),appear:!0,children:hw(c,Object.assign({className:h,ref:r},p,{children:u&&u}))})};import{jsx as ww,jsxs as g9}from"react/jsx-runtime";import{Fragment as b9,useState as Gm,useRef as Sw,useEffect as zm,useCallback as Bs,useReducer as v9}from"react";function c9(t){if(Array.isArray(t)){for(var e=0,o=Array(t.length);e<t.length;e++)o[e]=t[e];return o}else return Array.from(t)}var n1=!1;typeof window<"u"&&(r1={get passive(){n1=!0}},window.addEventListener("testPassive",null,r1),window.removeEventListener("testPassive",null,r1));var r1,Mm=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),Di=[],Om=!1,gw=-1,Sc=void 0,_i=void 0,Ic=void 0,bw=function(e){return Di.some(function(o){return!!(o.options.allowTouchMove&&o.options.allowTouchMove(e))})},Vm=function(e){var o=e||window.event;return bw(o.target)||o.touches.length>1?!0:(o.preventDefault&&o.preventDefault(),!1)},u9=function(e){if(Ic===void 0){var o=!!e&&e.reserveScrollBarGap===!0,n=window.innerWidth-document.documentElement.clientWidth;if(o&&n>0){var r=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);Ic=document.body.style.paddingRight,document.body.style.paddingRight=r+n+"px"}}Sc===void 0&&(Sc=document.body.style.overflow,document.body.style.overflow="hidden")},d9=function(){Ic!==void 0&&(document.body.style.paddingRight=Ic,Ic=void 0),Sc!==void 0&&(document.body.style.overflow=Sc,Sc=void 0)},m9=function(){return window.requestAnimationFrame(function(){if(_i===void 0){_i={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left};var e=window,o=e.scrollY,n=e.scrollX,r=e.innerHeight;document.body.style.position="fixed",document.body.style.top=-o,document.body.style.left=-n,setTimeout(function(){return window.requestAnimationFrame(function(){var s=r-window.innerHeight;s&&o>=r&&(document.body.style.top=-(o+s))})},300)}})},f9=function(){if(_i!==void 0){var e=-parseInt(document.body.style.top,10),o=-parseInt(document.body.style.left,10);document.body.style.position=_i.position,document.body.style.top=_i.top,document.body.style.left=_i.left,window.scrollTo(o,e),_i=void 0}},p9=function(e){return e?e.scrollHeight-e.scrollTop<=e.clientHeight:!1},h9=function(e,o){var n=e.targetTouches[0].clientY-gw;return bw(e.target)?!1:o&&o.scrollTop===0&&n>0||p9(o)&&n<0?Vm(e):(e.stopPropagation(),!0)},vw=function(e,o){if(!e){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(!Di.some(function(r){return r.targetElement===e})){var n={targetElement:e,options:o||{}};Di=[].concat(c9(Di),[n]),Mm?m9():u9(o),Mm&&(e.ontouchstart=function(r){r.targetTouches.length===1&&(gw=r.targetTouches[0].clientY)},e.ontouchmove=function(r){r.targetTouches.length===1&&h9(r,e)},Om||(document.addEventListener("touchmove",Vm,n1?{passive:!1}:void 0),Om=!0))}};var Cw=function(e){if(!e){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}Di=Di.filter(function(o){return o.targetElement!==e}),Mm&&(e.ontouchstart=null,e.ontouchmove=null,Om&&Di.length===0&&(document.removeEventListener("touchmove",Vm,n1?{passive:!1}:void 0),Om=!1)),Mm?f9():d9()};var yw=({classPrefix:t,zIndex:e})=>{let o=t?`${t}__`:"";return`
    .${o}${Kn} {
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      position: fixed;
      pointer-events: none;
      visibility: hidden;
      z-index: -1;
    }

    .${o}${Kn}--appear,
    .${o}${Kn}--appearDone,
    .${o}${Kn}--enter,
    .${o}${Kn}--enterDone,
    .${o}${Kn}--exit {
      pointer-events: all;
      visibility: visible;
      z-index: ${e};
    }

    .${o}${Qn} {
      position: absolute;
      visibility: hidden;
    }

    .${o}${Qn}--appear,
    .${o}${Qn}--appearDone,
    .${o}${Qn}--enter,
    .${o}${Qn}--enterDone,
    .${o}${Qn}--exit {
      visibility: visible;
    }
  `};var xw=(t,e)=>{let o=Object.assign({},t),{type:n,payload:r}=e;switch(n){case"UPDATE_MODAL":{let{slug:s}=r;s&&(o[s]=Object.assign(Object.assign({},o[s]),r));break}case"OPEN_MODAL":{let{slug:s}=r;s&&(s in o&&o[s].isOpen||(o[s]=Object.assign(Object.assign({},o[s]),{slug:s,openedOn:Date.now(),isOpen:!0})));break}case"TOGGLE_MODAL":{let{slug:s}=r;if(s){let i=s in o&&o[s].isOpen;o[s]=Object.assign(Object.assign({},o[s]),{slug:s,openedOn:i?void 0:Date.now(),isOpen:!i})}break}case"CLOSE_MODAL":{let{slug:s}=r;s&&(o[s]=Object.assign(Object.assign({},o[s]),{slug:s,openedOn:void 0,isOpen:!1}));break}case"REMOVE_MODAL":{let{slug:s}=r;s&&s in o&&delete o[s];break}case"CLOSE_LATEST_MODAL":{let s=Object.keys(o).reduce((i,l)=>{let a=o[l];return a.isOpen&&typeof a.openedOn=="number"&&(!i||typeof i.openedOn=="number"&&a.openedOn>i.openedOn)?a:i},void 0);s&&(o[s.slug]=Object.assign(Object.assign({},o[s.slug]),{isOpen:!1,openedOn:void 0}));break}case"CLOSE_ALL_MODALS":{o=Object.entries(o).reduce((s,[i,l])=>(s[i]=Object.assign(Object.assign({},l),{isOpen:!1,openedOn:void 0}),s),{});break}default:break}return o};var C9=()=>{if(typeof window<"u")return new URLSearchParams(window.location.search)},y9=()=>{let t=C9(),e=[];if(t){let o=t.get("modal");o&&(o.includes(",")?e=o.split(","):e=[o])}return e},s1=t=>{let{classPrefix:e,minifyCSS:o=!0,generateCSS:n=!0,zIndex:r=9999,handleParamChange:s,children:i,transTime:l=250}=t,a=Sw(null),[c,u]=v9(xw,{},()=>y9().reduce((L,E)=>(L[E]={slug:E,isOpen:!0,openedOn:Date.now()},L),{})),[d,m]=Gm(!1),[f,h]=Gm(!1),[p,g]=Gm(!1),[b,C]=Gm(""),v=Sw(!1),y=Bs(D=>{D.keyCode===27&&u({type:"CLOSE_LATEST_MODAL"})},[]);zm(()=>(v.current||(document.addEventListener("keydown",D=>y(D),!1),v.current=!0),()=>{v.current&&document.removeEventListener("keydown",D=>y(D),!1)}),[y]),zm(()=>{if(n){let D="";D=yw({classPrefix:e,zIndex:r}),o&&(D=D.replace(/\n/g,"").replace(/\s\s+/g," ")),C(D)}},[n,o,r,e]),zm(()=>{if(typeof s=="function"&&s(c),typeof s=="boolean"&&s){let D=Object.keys(c).filter(k=>c[k].isOpen),A=new URLSearchParams;for(let k of D)A.append("modal",k);let L=A.toString()?`?${A}`:"",E=`${window.location.pathname}${L}`;window.history.pushState({},"",E)}},[c,s]),zm(()=>{let D=Object.keys(c).some(A=>c[A].isOpen);m(D)},[c]);let x=Bs((D,A)=>{A&&(D?(vw(A),g(!0)):(Cw(A),g(!1)))},[]),w=Bs(D=>{a.current=D},[]),S=Bs(D=>{u({type:"OPEN_MODAL",payload:{slug:D}})},[]),T=Bs(D=>{u({type:"CLOSE_MODAL",payload:{slug:D}})},[]),I=Bs(()=>{u({type:"CLOSE_ALL_MODALS"})},[]),R=Bs(D=>{u({type:"TOGGLE_MODAL",payload:{slug:D}})},[]),F=Bs(D=>c[D]&&c[D].isOpen,[c]),_=Object.assign({},t);return delete _.children,g9(b9,{children:[n&&ww("style",{dangerouslySetInnerHTML:{__html:b}}),ww(km.Provider,{value:Object.assign(Object.assign({},_),{transTime:l,containerRef:a,modalState:c,oneModalIsOpen:d,isModalOpen:F,closeOnBlur:f,bodyScrollIsLocked:p,classPrefix:e,closeAllModals:I,setCloseOnBlur:h,openModal:S,closeModal:T,toggleModal:R,setBodyScrollLock:x,setContainerRef:w}),children:i})]})};import{usePathname as G9,useRouter as z9}from"next/navigation.js";import{formatAdminURL as W9}from"payload/shared";import*as Rw from"qs-esm";import Tw,{createContext as H9,use as U9,useCallback as Ti,useEffect as Um,useState as Rc}from"react";import{c as P9}from"react/compiler-runtime";import{jsx as E9}from"react/jsx-runtime";import{useRouter as N9}from"next/navigation.js";import{formatAdminURL as L9}from"payload/shared";import"react";import{c as R9}from"react/compiler-runtime";import{jsx as Fc,jsxs as l1}from"react/jsx-runtime";import A9 from"react";import{c as i1}from"react/compiler-runtime";import{jsx as es,jsxs as Wm}from"react/jsx-runtime";import{createContext as I9,use as _9,useLayoutEffect as D9,useState as T9}from"react";import{jsx as x9}from"react/jsx-runtime";import"react";var _c="gutter",_o=t=>{let{children:e,className:o,left:n=!0,negativeLeft:r=!1,negativeRight:s=!1,ref:i,right:l=!0}=t,a=n&&!r,c=l&&!s;return x9("div",{className:[_c,a&&`${_c}--left`,c&&`${_c}--right`,r&&`${_c}--negative-left`,s&&`${_c}--negative-right`,o].filter(Boolean).join(" "),ref:i,children:e})};import{c as w9}from"react/compiler-runtime";import{useId as S9}from"react";var Dc=t=>{let e=w9(3),o=S9(),n=ct(),r=`${t}-${o}`,s;return e[0]!==n||e[1]!==r?(s=Tc({slug:r,depth:n}),e[0]=n,e[1]=r,e[2]=s):s=e[2],s};var sn="drawer",a1=100,Tc=({slug:t,depth:e})=>`drawer_${e}_${t}`,ts=t=>{let e=i1(17),o,n,r,s,i,l;e[0]!==t?({slug:l,children:o,className:n,disabled:r,onClick:s,...i}=t,e[0]=t,e[1]=o,e[2]=n,e[3]=r,e[4]=s,e[5]=i,e[6]=l):(o=e[1],n=e[2],r=e[3],s=e[4],i=e[5],l=e[6]);let{openModal:a}=ae(),c;e[7]!==s||e[8]!==a||e[9]!==l?(c=m=>{a(l),typeof s=="function"&&s(m)},e[7]=s,e[8]=a,e[9]=l,e[10]=c):c=e[10];let u=c,d;return e[11]!==o||e[12]!==n||e[13]!==r||e[14]!==u||e[15]!==i?(d=es("button",{className:n,disabled:r,onClick:u,type:"button",...i,children:o}),e[11]=o,e[12]=n,e[13]=r,e[14]=u,e[15]=i,e[16]=d):d=e[16],d},Bt=t=>{let e=i1(22),{slug:o,children:n,className:r,gutter:s,Header:i,hoverTitle:l,title:a}=t,c=s===void 0?!0:s,{t:u}=N(),{closeModal:d,modalState:m}=ae(),f=Mr(),h=!!m[o]?.isOpen,[p,g]=T9(h),b,C;if(e[0]!==h?(b=()=>{g(h)},C=[h],e[0]=h,e[1]=b,e[2]=C):(b=e[1],C=e[2]),D9(b,C),h){let v=p&&`${sn}--is-open`,y=f>1&&`${sn}--nested`,x;e[3]!==r||e[4]!==v||e[5]!==y?(x=[r,sn,v,y].filter(Boolean),e[3]=r,e[4]=v,e[5]=y,e[6]=x):x=e[6];let w=x.join(" "),S=a1+f,T;if(e[7]!==i||e[8]!==n||e[9]!==d||e[10]!==f||e[11]!==c||e[12]!==l||e[13]!==o||e[14]!==u||e[15]!==w||e[16]!==S||e[17]!==a){let I;e[19]!==d||e[20]!==o?(I=()=>d(o),e[19]=d,e[20]=o,e[21]=I):I=e[21],T=es(F9,{children:Wm(vr,{className:w,slug:o,style:{zIndex:S},children:[(!f||f===1)&&es("div",{className:`${sn}__blur-bg`}),es("button",{"aria-label":u("general:close"),className:`${sn}__close`,id:`close-drawer__${o}`,onClick:I,type:"button"}),Wm("div",{className:`${sn}__content`,style:{width:`calc(100% - (${f} * var(--gutter-h)))`},children:[es("div",{className:`${sn}__blur-bg-content`}),Wm(_o,{className:`${sn}__content-children`,left:c,right:c,children:[i,i===void 0&&Wm("div",{className:`${sn}__header`,children:[es("h2",{className:`${sn}__header__title`,title:l?a:null,children:a}),es("button",{"aria-label":u("general:close"),className:`${sn}__header__close`,id:`close-drawer__${o}`,onClick:()=>d(o),type:"button",children:es(bt,{})})]}),n]})]})]})}),e[7]=i,e[8]=n,e[9]=d,e[10]=f,e[11]=c,e[12]=l,e[13]=o,e[14]=u,e[15]=w,e[16]=S,e[17]=a,e[18]=T}else T=e[18];return T}return null},Iw=I9(1),F9=t=>{let e=i1(3),{children:o}=t,r=Mr()+1,s;return e[0]!==o||e[1]!==r?(s=es(Iw,{value:r,children:o}),e[0]=o,e[1]=r,e[2]=s):s=e[2],s},Mr=()=>_9(Iw);var Hm="confirmation-modal";function et(t){let e=R9(37),{body:o,cancelLabel:n,className:r,confirmingLabel:s,confirmLabel:i,heading:l,modalSlug:a,onCancel:c,onConfirm:u}=t,d=Mr(),[m,f]=A9.useState(!1),{closeModal:h}=ae(),{t:p}=N(),g;e[0]!==h||e[1]!==m||e[2]!==a||e[3]!==u?(g=async()=>{m||(f(!0),typeof u=="function"&&await u(),f(!1),h(a))},e[0]=h,e[1]=m,e[2]=a,e[3]=u,e[4]=g):g=e[4];let b=g,C;e[5]!==h||e[6]!==m||e[7]!==a||e[8]!==c?(C=()=>{m||(h(a),typeof c=="function"&&c())},e[5]=h,e[6]=m,e[7]=a,e[8]=c,e[9]=C):C=e[9];let v=C,y;e[10]!==r?(y=[Hm,r].filter(Boolean),e[10]=r,e[11]=y):y=e[11];let x=y.join(" "),w=a1+d,S;if(e[12]!==o||e[13]!==n||e[14]!==i||e[15]!==m||e[16]!==s||e[17]!==l||e[18]!==a||e[19]!==v||e[20]!==b||e[21]!==p||e[22]!==x||e[23]!==w){let T;e[25]!==l?(T=typeof l=="string"?Fc("h1",{children:l}):l,e[25]=l,e[26]=T):T=e[26];let I;e[27]!==o?(I=typeof o=="string"?Fc("p",{children:o}):o,e[27]=o,e[28]=I):I=e[28];let R;e[29]!==n||e[30]!==p?(R=n||p("general:cancel"),e[29]=n,e[30]=p,e[31]=R):R=e[31];let F;e[32]!==i||e[33]!==m||e[34]!==s||e[35]!==p?(F=m?s||`${p("general:loading")}...`:i||p("general:confirm"),e[32]=i,e[33]=m,e[34]=s,e[35]=p,e[36]=F):F=e[36],S=Fc(vr,{className:x,slug:a,style:{zIndex:w},children:l1("div",{className:`${Hm}__wrapper`,children:[l1("div",{className:`${Hm}__content`,children:[T,I]}),l1("div",{className:`${Hm}__controls`,children:[Fc(oe,{buttonStyle:"secondary",disabled:m,id:"confirm-cancel",onClick:v,size:"large",type:"button",children:R}),Fc(oe,{id:"confirm-action",onClick:b,size:"large",children:F})]})]})}),e[12]=o,e[13]=n,e[14]=i,e[15]=m,e[16]=s,e[17]=l,e[18]=a,e[19]=v,e[20]=b,e[21]=p,e[22]=x,e[23]=w,e[24]=S}else S=e[24];return S}var c1="stay-logged-in",_w=()=>{let t=P9(11),{refreshCookie:e}=Ie(),o=N9(),{config:n}=W(),{admin:r,routes:s}=n,{routes:i}=r,{logout:l}=i,{admin:a}=s,{t:c}=N(),{startRouteTransition:u}=qe(),d;t[0]!==a||t[1]!==l||t[2]!==o||t[3]!==u?(d=()=>u(()=>o.push(L9({adminRoute:a,path:l}))),t[0]=a,t[1]=l,t[2]=o,t[3]=u,t[4]=d):d=t[4];let m=d,f;t[5]!==e?(f=()=>{e()},t[5]=e,t[6]=f):f=t[6];let h=f,p;return t[7]!==h||t[8]!==m||t[9]!==c?(p=E9(et,{body:c("authentication:youAreInactive"),cancelLabel:c("authentication:stayLoggedIn"),confirmLabel:c("authentication:logOut"),heading:c("authentication:stayLoggedIn"),modalSlug:c1,onCancel:h,onConfirm:m}),t[7]=h,t[8]=m,t[9]=c,t[10]=p):p=t[10],p};import{c as $9}from"react/compiler-runtime";import{useEffect as k9,useState as j9}from"react";function Cr(t,e){let o=$9(4),[n,r]=j9(t),s,i;return o[0]!==e||o[1]!==t?(s=()=>{let l=setTimeout(()=>{r(t)},e);return()=>{clearTimeout(l)}},i=[t,e],o[0]=e,o[1]=t,o[2]=s,o[3]=i):(s=o[2],i=o[3]),k9(s,i),n}import{c as B9}from"react/compiler-runtime";import{useInsertionEffect as M9,useRef as O9}from"react";function qt(t){let e=B9(4),o=O9(t),n,r;e[0]!==t?(n=()=>{o.current=t},r=[t],e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]),M9(n,r);let s;return e[3]===Symbol.for("react.memo_cache_sentinel")?(s=(...i)=>{let l=i,a=o.current;return a(...l)},e[3]=s):s=e[3],s}import*as Dw from"qs-esm";var Ge={delete:(t,e={headers:{}})=>{let o=e&&e.headers?{...e.headers}:{},n={...e,credentials:"include",headers:{...o},method:"delete"};return fetch(t,n)},get:(t,e={headers:{}})=>{let o="";return e.params&&(o=Dw.stringify(e.params,{addQueryPrefix:!0})),fetch(`${t}${o}`,{credentials:"include",...e})},patch:(t,e={headers:{}})=>{let o=e&&e.headers?{...e.headers}:{},n={...e,credentials:"include",headers:{...o},method:"PATCH"};return fetch(t,n)},post:(t,e={headers:{}})=>{let o=e&&e.headers?{...e.headers}:{},n={...e,credentials:"include",headers:{...o},method:"post"};return fetch(`${t}`,n)},put:(t,e={headers:{}})=>{let o=e&&e.headers?{...e.headers}:{},n={...e,credentials:"include",headers:{...o},method:"put"};return fetch(t,n)}};var Aw=H9({}),Fw=2147483647;function u1({children:t,permissions:e,user:o}){let[n,r]=Rc(o),[s,i]=Rc(),[l,a]=Rc(),c=G9(),u=z9(),{config:d}=W(),{admin:{routes:{inactivity:m},user:f},routes:{admin:h,api:p},serverURL:g}=d,[b,C]=Rc(e),{i18n:v}=N(),{closeAllModals:y,openModal:x}=ae(),[w,S]=Rc(0),T=Cr(w,1e4),I=Tw.useRef(null),{startRouteTransition:R}=qe(),F=n?.id,_=Ti(()=>{R(()=>u.replace(W9({adminRoute:h,path:`${m}${window.location.pathname.startsWith(h)?`?redirect=${encodeURIComponent(window.location.pathname)}`:""}`}))),y()},[u,h,m,y,R]),D=Ti(()=>{i(void 0),a(void 0),clearTimeout(I.current)},[]),A=Ti(j=>{j?.user?(r(j.user),i(j.token),a(j.exp)):(r(null),D())},[D]),L=Ti(j=>{let O=Math.round(new Date().getTime()/1e3),G=(typeof l=="number"?l:0)-O;return(j||l&&G<120)&&(I.current=setTimeout(()=>{async function V(){try{let z=await Ge.post(`${g}${p}/${f}/refresh-token?refresh`,{headers:{"Accept-Language":v.language}});if(z.status===200){let X=await z.json();A(X)}else A(null),_()}catch(z){K.error(z.message)}}V()},1e3)),()=>{clearTimeout(I.current)}},[p,v.language,_,g,A,l,f]),E=Ti(async j=>{try{let O=await Ge.post(`${g}${p}/${f}/refresh-token`,{headers:{"Accept-Language":v.language}});if(O.status===200){let G=await O.json();return j||A(G),G.user}return A(null),_(),null}catch(O){return K.error(`Refreshing token failed: ${O.message}`),null}},[p,v.language,_,g,A,f]),k=Ti(async()=>{try{return await Ge.post(`${g}${p}/${n.collection}/logout`),A(null),D(),!0}catch(j){return K.error(`Logging out failed: ${j.message}`),!1}},[p,D,g,A,n]),B=Ti(async({locale:j}={})=>{let O=Rw.stringify({locale:j},{addQueryPrefix:!0});try{let G=await Ge.get(`${g}${p}/access${O}`,{headers:{"Accept-Language":v.language}});if(G.status===200){let V=await G.json();C(V)}else throw new Error(`Fetching permissions failed with status code ${G.status}`)}catch(G){K.error(`Refreshing permissions failed: ${G.message}`)}},[g,p,v]),$=Tw.useCallback(async()=>{try{let j=await Ge.get(`${g}${p}/${f}/me`,{credentials:"include",headers:{"Accept-Language":v.language}});if(j.status===200){let O=await j.json(),G=null;return A(O),G}}catch(j){K.error(`Fetching user failed: ${j.message}`)}return null},[g,p,f,v.language,A]),P=qt($);Um(()=>{P()},[]);let M=qt(()=>{F&&L()});return Um(()=>{M()},[T]),Um(()=>{S(Date.now())},[c]),Um(()=>{let j,O,G=Math.round(new Date().getTime()/1e3),V=typeof l=="number"?l-G:0,z=Math.max(Math.min((V-60)*1e3,Fw),0),X=Math.max(Math.min(V*1e3,Fw),0);if(!n){clearTimeout(j),clearTimeout(O);return}return V>0&&(j=setTimeout(()=>{x(c1)},z),O=setTimeout(()=>{A(null),_()},X)),()=>{j&&clearTimeout(j),O&&clearTimeout(O)}},[l,x,v,A,n,_]),V9(Aw,{value:{fetchFullUser:$,logOut:k,permissions:b,refreshCookie:L,refreshCookieAsync:E,refreshPermissions:B,setPermissions:C,setUser:A,token:s,user:n},children:t})}var Ie=()=>U9(Aw);import{jsx as X9}from"react/jsx-runtime";import{dequal as Pw}from"dequal/lite";import{createContext as Z9,use as Y9,useCallback as Ew,useEffect as J9,useRef as m1}from"react";function d1(t,e){let o={...t};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(typeof e[n]=="object"&&!Array.isArray(e[n])&&t[n]?o[n]=d1(t[n],e[n]):o[n]=e[n]);return o}var Lw=Z9({}),Nw=(t,e)=>({body:JSON.stringify({value:t}),headers:{"Accept-Language":e,"Content-Type":"application/json"}}),f1=({children:t})=>{let e=m1({}),o=m1({}),n=m1({}),{config:r}=W(),{user:s}=Ie(),{i18n:i}=N(),{routes:{api:l},serverURL:a}=r;J9(()=>{s||(o.current={})},[s]);let c=Ew(async d=>{let m=o.current;if(typeof m[d]<"u")return m[d];let f=new Promise(h=>{(async()=>{let p=await Ge.get(`${a}${l}/payload-preferences/${d}`,{credentials:"include",headers:{"Accept-Language":i.language}}),g=null;p.status===200&&(g=(await p.json()).value),o.current[d]=g,h(g)})()});return m[d]=f,f},[i.language,l,o,a]),u=Ew(async(d,m,f=!1)=>{if(f===!1){o.current[d]=m,await Ge.post(`${a}${l}/payload-preferences/${d}`,Nw(m,i.language));return}let h=m,p=await c(d);if(typeof m=="object"&&typeof p=="object"&&typeof h=="object"){if(p&&(h=d1(p,h)),Pw(h,p))return;n.current[d]={...n.current[d],...h}}else{if(h===p)return;n.current[d]=h}let g=async()=>{Pw(n.current[d],o.current[d])||(o.current[d]=n.current[d],await Ge.post(`${a}${l}/payload-preferences/${d}`,Nw(o.current[d],i.language)),delete n.current[d])};setTimeout(()=>{g()})},[l,c,i.language,n,a]);return e.current.getPreference=c,e.current.setPreference=u,X9(Lw,{value:e.current,children:t})},ao=()=>Y9(Lw);var Mw=jw({}),Ow=jw({localeIsLoading:!1,setLocaleIsLoading:t=>{}}),oL=async(t,e)=>await fetch(`${e}/payload-preferences/${t}`,{credentials:"include",headers:{"Content-Type":"application/json"},method:"GET"})?.then(o=>o.json()),p1=t=>{let e=q9(27),{children:o,locale:n}=t,{config:r}=W(),{localization:s,routes:i,serverURL:l}=r,a=s===void 0?!1:s,{api:c}=i,{user:u}=Ie(),d=a?a.defaultLocale:"en",{getPreference:m}=ao(),f=Q9(),h;e[0]!==f?(h=f.get("locale"),e[0]=f,e[1]=h):h=e[1];let p=h,g;e[2]!==d||e[3]!==n||e[4]!==p||e[5]!==a?(g=()=>!a||a&&!a.locales.length?{}:js(a,p)||js(a,n)||js(a,d)||js(a,a.locales[0].code),e[2]=d,e[3]=n,e[4]=p,e[5]=a,e[6]=g):g=e[6];let[b,C]=K9.useState(g),[v,y]=tL(!1),x=eL(b),w,S;e[7]!==b?(w=()=>{b.code!==x.current.code&&y(!1),x.current=b},S=[b],e[7]=b,e[8]=w,e[9]=S):(w=e[8],S=e[9]),kw(w,S);let T=`${l}${c}`,I;e[10]!==d||e[11]!==T||e[12]!==p||e[13]!==a||e[14]!==u?.id?(I=()=>{(async function(){if(a&&u?.id){let L=p||await oL("locale",T)?.then(rL),E=js(a,L)||js(a,d)||js(a,a?.locales?.[0]?.code);E&&C(E)}})()},e[10]=d,e[11]=T,e[12]=p,e[13]=a,e[14]=u?.id,e[15]=I):I=e[15];let R=u?.id,F;e[16]!==d||e[17]!==T||e[18]!==m||e[19]!==p||e[20]!==a||e[21]!==R?(F=[d,m,a,T,p,R],e[16]=d,e[17]=T,e[18]=m,e[19]=p,e[20]=a,e[21]=R,e[22]=F):F=e[22],kw(I,F);let _;return e[23]!==o||e[24]!==v||e[25]!==b?(_=$w(Mw,{value:b,children:$w(Ow,{value:{localeIsLoading:v,setLocaleIsLoading:y},children:o})}),e[23]=o,e[24]=v,e[25]=b,e[26]=_):_=e[26],_},Xm=()=>Bw(Ow),xe=()=>Bw(Mw);function rL(t){return t.value}var Zm=(t,e,o)=>{if(t)return`field-${t.replace(/\./g,"__")}${e>1?`-${e}`:""}${o?`-${o}`:""}`};var _e=t=>{let e=nL(25),{as:o,hideLocale:n,htmlFor:r,label:s,localized:i,path:l,required:a,unstyled:c}=t,u=o===void 0?"label":o,d=n===void 0?!1:n,m=i===void 0?!1:i,f=a===void 0?!1:a,h=c===void 0?!1:c,{uuid:p}=Ve(),g=ct(),b;e[0]!==g||e[1]!==r||e[2]!==l||e[3]!==p?(b=r||Zm(l,g,p),e[0]=g,e[1]=r,e[2]=l,e[3]=p,e[4]=b):b=e[4];let C=b,{i18n:v}=N(),{code:y,label:x}=xe(),w=u==="label"?C?"label":"span":u||"span";if(s){let S=`field-label${h?" unstyled":""}`,T;if(e[5]!==w||e[6]!==y||e[7]!==d||e[8]!==C||e[9]!==v||e[10]!==s||e[11]!==x||e[12]!==m||e[13]!==f||e[14]!==S||e[15]!==h){let I;e[17]!==f||e[18]!==h?(I=f&&!h&&sL("span",{className:"required",children:"*"}),e[17]=f,e[18]=h,e[19]=I):I=e[19];let R;e[20]!==y||e[21]!==d||e[22]!==x||e[23]!==m?(R=m&&!d&&Vw("span",{className:"localized",children:["\u2014 ",typeof x=="string"?x:y]}),e[20]=y,e[21]=d,e[22]=x,e[23]=m,e[24]=R):R=e[24],T=Vw(w,{className:S,htmlFor:C,children:[iL(s,v),I,R]}),e[5]=w,e[6]=y,e[7]=d,e[8]=C,e[9]=v,e[10]=s,e[11]=x,e[12]=m,e[13]=f,e[14]=S,e[15]=h,e[16]=T}else T=e[16];return T}return null};var Ym=({collapsed:t,rowID:e,rows:o})=>o.reduce((n,r)=>(e===r.id&&(r.collapsed=t),r.collapsed&&n.collapsedIDs.push(r.id),n.updatedRows.push(r),n),{collapsedIDs:[],updatedRows:[]}),Jm=({collapsed:t,rows:e})=>e.reduce((o,n)=>(n.collapsed=t,t&&o.collapsedIDs.push(n.id),o.updatedRows.push(n),o),{collapsedIDs:[],updatedRows:[]});import{c as s$}from"react/compiler-runtime";import{jsx as O2}from"react/jsx-runtime";import*as V2 from"react";import{jsx as Mc,jsxs as t$}from"react/jsx-runtime";import{rtlLanguages as o$}from"@payloadcms/translations";import{useCallback as M2,useMemo as r$}from"react";import{c as JL}from"react/compiler-runtime";import{useRef as $2}from"react";import{c as aL}from"react/compiler-runtime";import{useEffect as lL,useRef as cL}from"react";var Fi=(t,e,o)=>{let n=aL(9),r;n[0]!==o?(r=o===void 0?[]:o,n[0]=o,n[1]=r):r=n[1];let s=r,i;n[2]===Symbol.for("react.memo_cache_sentinel")?(i=Date.now(),n[2]=i):i=n[2];let l=cL(i),a;n[3]!==t||n[4]!==e?(a=()=>{let u=setTimeout(()=>{Date.now()-l.current>=e&&(t(),l.current=Date.now())},e-(Date.now()-l.current));return()=>{clearTimeout(u)}},n[3]=t,n[4]=e,n[5]=a):a=n[5];let c;n[6]!==e||n[7]!==s?(c=[e,...s],n[6]=e,n[7]=s,n[8]=c):c=n[8],lL(a,c)};import{jsx as rf}from"react/jsx-runtime";import*as P2 from"qs-esm";import F2,{createContext as zL,use as WL,useCallback as Ua,useEffect as R2,useMemo as HL,useRef as A2,useState as Nc}from"react";import{useCallback as uL,useEffect as dL,useRef as mL,useState as fL}from"react";function an(t,e){let[o,n]=fL(t??e),r=mL(!0);dL(()=>{if(r.current){r.current=!1;return}n(t)},[t]);let s=uL(i=>{n(i)},[]);return[o,s]}import{getTranslation as LL}from"@payloadcms/translations";var pL={},Ac={};function Ga(t,e){try{let n=(pL[t]||=new Intl.DateTimeFormat("en-GB",{timeZone:t,hour:"numeric",timeZoneName:"longOffset"}).format)(e).split("GMT")[1]||"";return n in Ac?Ac[n]:Gw(n,n.split(":"))}catch{if(t in Ac)return Ac[t];let o=t?.match(hL);return o?Gw(t,o.slice(1)):NaN}}var hL=/([+-]\d\d):?(\d\d)?/;function Gw(t,e){let o=+e[0],n=+(e[1]||0);return Ac[t]=o>0?o*60+n:o*60-n}var lo=class t extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(Ga(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),Ww(this,NaN),h1(this)):this.setTime(Date.now())}static tz(e,...o){return o.length?new t(...o,e):new t(Date.now(),e)}withTimeZone(e){return new t(+this,e)}getTimezoneOffset(){return-Ga(this.timeZone,this)}setTime(e){return Date.prototype.setTime.apply(this,arguments),h1(this),+this}[Symbol.for("constructDateFrom")](e){return new t(+new Date(e),this.timeZone)}},zw=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!zw.test(t))return;let e=t.replace(zw,"$1UTC");lo.prototype[e]&&(t.startsWith("get")?lo.prototype[t]=function(){return this.internal[e]()}:(lo.prototype[t]=function(){return Date.prototype[e].apply(this.internal,arguments),gL(this),+this},lo.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),h1(this),+this}))});function h1(t){t.internal.setTime(+t),t.internal.setUTCMinutes(t.internal.getUTCMinutes()-t.getTimezoneOffset())}function gL(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),Ww(t)}function Ww(t){let e=Ga(t.timeZone,t),o=new Date(+t);o.setUTCHours(o.getUTCHours()-1);let n=-new Date(+t).getTimezoneOffset(),r=-new Date(+o).getTimezoneOffset(),s=n-r,i=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();s&&i&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+s);let l=n-e;l&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+l);let a=Ga(t.timeZone,t),u=-new Date(+t).getTimezoneOffset()-a,d=a!==e,m=u-l;if(d&&m){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+m);let f=Ga(t.timeZone,t),h=a-f;h&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+h),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+h))}}var bL=Math.pow(10,8)*24*60*60*1e3,Hie=-bL,qm=6048e5,Hw=864e5;var Pc=43200,g1=1440;var vL=3600;var Uw=vL*24,Uie=Uw*7,CL=Uw*365.2425,yL=CL/12,Xie=yL*3,b1=Symbol.for("constructDateFrom");function po(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&b1 in t?t[b1](e):t instanceof Date?new t.constructor(e):new Date(e)}function ot(t,e){return po(e||t,t)}var xL={};function Tn(){return xL}function os(t,e){let o=Tn(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0,r=ot(t,e?.in),s=r.getDay(),i=(s<n?7:0)+s-n;return r.setDate(r.getDate()-i),r.setHours(0,0,0,0),r}function Ri(t,e){return os(t,{...e,weekStartsOn:1})}function Qm(t,e){let o=ot(t,e?.in),n=o.getFullYear(),r=po(o,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);let s=Ri(r),i=po(o,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);let l=Ri(i);return o.getTime()>=s.getTime()?n+1:o.getTime()>=l.getTime()?n:n-1}function za(t){let e=ot(t),o=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return o.setUTCFullYear(e.getFullYear()),+t-+o}function Fn(t,...e){let o=po.bind(null,t||e.find(n=>typeof n=="object"));return e.map(o)}function Ms(t,e){let o=ot(t,e?.in);return o.setHours(0,0,0,0),o}function Xw(t,e,o){let[n,r]=Fn(o?.in,t,e),s=Ms(n),i=Ms(r),l=+s-za(s),a=+i-za(i);return Math.round((l-a)/Hw)}function Zw(t,e){let o=Qm(t,e),n=po(e?.in||t,0);return n.setFullYear(o,0,4),n.setHours(0,0,0,0),Ri(n)}function Wa(t,e){let o=+ot(t)-+ot(e);return o<0?-1:o>0?1:o}function Km(t){return po(t,Date.now())}function Yw(t,e,o){let[n,r]=Fn(o?.in,t,e);return+Ms(n)==+Ms(r)}function Jw(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function qw(t){return!(!Jw(t)&&typeof t!="number"||isNaN(+ot(t)))}function Qw(t,e,o){let[n,r]=Fn(o?.in,t,e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function Kw(t){return e=>{let n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function e2(t,e){return+ot(t)-+ot(e)}function ef(t,e){let o=ot(t,e?.in);return o.setHours(23,59,59,999),o}function t2(t,e){let o=ot(t,e?.in),n=o.getMonth();return o.setFullYear(o.getFullYear(),n+1,0),o.setHours(23,59,59,999),o}function o2(t,e){let o=ot(t,e?.in);return+ef(o,e)==+t2(o,e)}function r2(t,e,o){let[n,r,s]=Fn(o?.in,t,t,e),i=Wa(r,s),l=Math.abs(Qw(r,s));if(l<1)return 0;r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*l);let a=Wa(r,s)===-i;o2(n)&&l===1&&Wa(n,s)===1&&(a=!1);let c=i*(l-+a);return c===0?0:c}function n2(t,e,o){let n=e2(t,e)/1e3;return Kw(o?.roundingMethod)(n)}function s2(t,e){let o=ot(t,e?.in);return o.setFullYear(o.getFullYear(),0,1),o.setHours(0,0,0,0),o}function i2(t){return ef(Date.now(),t)}function a2(t,e){let o=ot(t,e?.in);return Xw(o,s2(o))+1}function l2(t,e){let o=ot(t,e?.in),n=+Ri(o)-+Zw(o);return Math.round(n/qm)+1}function tf(t,e){let o=ot(t,e?.in),n=o.getFullYear(),r=Tn(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=po(e?.in||t,0);i.setFullYear(n+1,0,s),i.setHours(0,0,0,0);let l=os(i,e),a=po(e?.in||t,0);a.setFullYear(n,0,s),a.setHours(0,0,0,0);let c=os(a,e);return+o>=+l?n+1:+o>=+c?n:n-1}function c2(t,e){let o=Tn(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,r=tf(t,e),s=po(e?.in||t,0);return s.setFullYear(r,0,n),s.setHours(0,0,0,0),os(s,e)}function u2(t,e){let o=ot(t,e?.in),n=+os(o,e)-+c2(o,e);return Math.round(n/qm)+1}function ft(t,e){let o=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return o+n}var rs={y(t,e){let o=t.getFullYear(),n=o>0?o:1-o;return ft(e==="yy"?n%100:n,e.length)},M(t,e){let o=t.getMonth();return e==="M"?String(o+1):ft(o+1,2)},d(t,e){return ft(t.getDate(),e.length)},a(t,e){let o=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return o.toUpperCase();case"aaa":return o;case"aaaaa":return o[0];case"aaaa":default:return o==="am"?"a.m.":"p.m."}},h(t,e){return ft(t.getHours()%12||12,e.length)},H(t,e){return ft(t.getHours(),e.length)},m(t,e){return ft(t.getMinutes(),e.length)},s(t,e){return ft(t.getSeconds(),e.length)},S(t,e){let o=e.length,n=t.getMilliseconds(),r=Math.trunc(n*Math.pow(10,o-3));return ft(r,e.length)}};var Ha={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},v1={G:function(t,e,o){let n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return o.era(n,{width:"abbreviated"});case"GGGGG":return o.era(n,{width:"narrow"});case"GGGG":default:return o.era(n,{width:"wide"})}},y:function(t,e,o){if(e==="yo"){let n=t.getFullYear(),r=n>0?n:1-n;return o.ordinalNumber(r,{unit:"year"})}return rs.y(t,e)},Y:function(t,e,o,n){let r=tf(t,n),s=r>0?r:1-r;if(e==="YY"){let i=s%100;return ft(i,2)}return e==="Yo"?o.ordinalNumber(s,{unit:"year"}):ft(s,e.length)},R:function(t,e){let o=Qm(t);return ft(o,e.length)},u:function(t,e){let o=t.getFullYear();return ft(o,e.length)},Q:function(t,e,o){let n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return ft(n,2);case"Qo":return o.ordinalNumber(n,{unit:"quarter"});case"QQQ":return o.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return o.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,o){let n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return ft(n,2);case"qo":return o.ordinalNumber(n,{unit:"quarter"});case"qqq":return o.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return o.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,o){let n=t.getMonth();switch(e){case"M":case"MM":return rs.M(t,e);case"Mo":return o.ordinalNumber(n+1,{unit:"month"});case"MMM":return o.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return o.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,o){let n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return ft(n+1,2);case"Lo":return o.ordinalNumber(n+1,{unit:"month"});case"LLL":return o.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return o.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,o,n){let r=u2(t,n);return e==="wo"?o.ordinalNumber(r,{unit:"week"}):ft(r,e.length)},I:function(t,e,o){let n=l2(t);return e==="Io"?o.ordinalNumber(n,{unit:"week"}):ft(n,e.length)},d:function(t,e,o){return e==="do"?o.ordinalNumber(t.getDate(),{unit:"date"}):rs.d(t,e)},D:function(t,e,o){let n=a2(t);return e==="Do"?o.ordinalNumber(n,{unit:"dayOfYear"}):ft(n,e.length)},E:function(t,e,o){let n=t.getDay();switch(e){case"E":case"EE":case"EEE":return o.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return o.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(n,{width:"short",context:"formatting"});case"EEEE":default:return o.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,o,n){let r=t.getDay(),s=(r-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return ft(s,2);case"eo":return o.ordinalNumber(s,{unit:"day"});case"eee":return o.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return o.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(r,{width:"short",context:"formatting"});case"eeee":default:return o.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,o,n){let r=t.getDay(),s=(r-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return ft(s,e.length);case"co":return o.ordinalNumber(s,{unit:"day"});case"ccc":return o.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return o.day(r,{width:"narrow",context:"standalone"});case"cccccc":return o.day(r,{width:"short",context:"standalone"});case"cccc":default:return o.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,o){let n=t.getDay(),r=n===0?7:n;switch(e){case"i":return String(r);case"ii":return ft(r,e.length);case"io":return o.ordinalNumber(r,{unit:"day"});case"iii":return o.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return o.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return o.day(n,{width:"short",context:"formatting"});case"iiii":default:return o.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,o){let r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,o){let n=t.getHours(),r;switch(n===12?r=Ha.noon:n===0?r=Ha.midnight:r=n/12>=1?"pm":"am",e){case"b":case"bb":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,o){let n=t.getHours(),r;switch(n>=17?r=Ha.evening:n>=12?r=Ha.afternoon:n>=4?r=Ha.morning:r=Ha.night,e){case"B":case"BB":case"BBB":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,o){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),o.ordinalNumber(n,{unit:"hour"})}return rs.h(t,e)},H:function(t,e,o){return e==="Ho"?o.ordinalNumber(t.getHours(),{unit:"hour"}):rs.H(t,e)},K:function(t,e,o){let n=t.getHours()%12;return e==="Ko"?o.ordinalNumber(n,{unit:"hour"}):ft(n,e.length)},k:function(t,e,o){let n=t.getHours();return n===0&&(n=24),e==="ko"?o.ordinalNumber(n,{unit:"hour"}):ft(n,e.length)},m:function(t,e,o){return e==="mo"?o.ordinalNumber(t.getMinutes(),{unit:"minute"}):rs.m(t,e)},s:function(t,e,o){return e==="so"?o.ordinalNumber(t.getSeconds(),{unit:"second"}):rs.s(t,e)},S:function(t,e){return rs.S(t,e)},X:function(t,e,o){let n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return m2(n);case"XXXX":case"XX":return Ai(n);case"XXXXX":case"XXX":default:return Ai(n,":")}},x:function(t,e,o){let n=t.getTimezoneOffset();switch(e){case"x":return m2(n);case"xxxx":case"xx":return Ai(n);case"xxxxx":case"xxx":default:return Ai(n,":")}},O:function(t,e,o){let n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+d2(n,":");case"OOOO":default:return"GMT"+Ai(n,":")}},z:function(t,e,o){let n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+d2(n,":");case"zzzz":default:return"GMT"+Ai(n,":")}},t:function(t,e,o){let n=Math.trunc(+t/1e3);return ft(n,e.length)},T:function(t,e,o){return ft(+t,e.length)}};function d2(t,e=""){let o=t>0?"-":"+",n=Math.abs(t),r=Math.trunc(n/60),s=n%60;return s===0?o+String(r):o+String(r)+e+ft(s,2)}function m2(t,e){return t%60===0?(t>0?"-":"+")+ft(Math.abs(t)/60,2):Ai(t,e)}function Ai(t,e=""){let o=t>0?"-":"+",n=Math.abs(t),r=ft(Math.trunc(n/60),2),s=ft(n%60,2);return o+r+e+s}var f2=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},p2=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},wL=(t,e)=>{let o=t.match(/(P+)(p+)?/)||[],n=o[1],r=o[2];if(!r)return f2(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",f2(n,e)).replace("{{time}}",p2(r,e))},h2={p:p2,P:wL};var SL=/^D+$/,IL=/^Y+$/,_L=["D","DD","YY","YYYY"];function g2(t){return SL.test(t)}function b2(t){return IL.test(t)}function v2(t,e,o){let n=DL(t,e,o);if(console.warn(n),_L.includes(t))throw new RangeError(n)}function DL(t,e,o){let n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${o}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}var TL=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,FL=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,RL=/^'([^]*?)'?$/,AL=/''/g,PL=/[a-zA-Z]/;function C1(t,e,o){let n=Tn(),r=o?.locale??n.locale??uc,s=o?.firstWeekContainsDate??o?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=o?.weekStartsOn??o?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=ot(t,o?.in);if(!qw(l))throw new RangeError("Invalid time value");let a=e.match(FL).map(u=>{let d=u[0];if(d==="p"||d==="P"){let m=h2[d];return m(u,r.formatLong)}return u}).join("").match(TL).map(u=>{if(u==="''")return{isToken:!1,value:"'"};let d=u[0];if(d==="'")return{isToken:!1,value:EL(u)};if(v1[d])return{isToken:!0,value:u};if(d.match(PL))throw new RangeError("Format string contains an unescaped latin alphabet character `"+d+"`");return{isToken:!1,value:u}});r.localize.preprocessor&&(a=r.localize.preprocessor(l,a));let c={firstWeekContainsDate:s,weekStartsOn:i,locale:r};return a.map(u=>{if(!u.isToken)return u.value;let d=u.value;(!o?.useAdditionalWeekYearTokens&&b2(d)||!o?.useAdditionalDayOfYearTokens&&g2(d))&&v2(d,e,String(t));let m=v1[d[0]];return m(l,d,r.localize,c)}).join("")}function EL(t){let e=t.match(RL);return e?e[1].replace(AL,"'"):t}function C2(t,e,o){let n=Tn(),r=o?.locale??n.locale??uc,s=2520,i=Wa(t,e);if(isNaN(i))throw new RangeError("Invalid time value");let l=Object.assign({},o,{addSuffix:o?.addSuffix,comparison:i}),[a,c]=Fn(o?.in,...i>0?[e,t]:[t,e]),u=n2(c,a),d=(za(c)-za(a))/1e3,m=Math.round((u-d)/60),f;if(m<2)return o?.includeSeconds?u<5?r.formatDistance("lessThanXSeconds",5,l):u<10?r.formatDistance("lessThanXSeconds",10,l):u<20?r.formatDistance("lessThanXSeconds",20,l):u<40?r.formatDistance("halfAMinute",0,l):u<60?r.formatDistance("lessThanXMinutes",1,l):r.formatDistance("xMinutes",1,l):m===0?r.formatDistance("lessThanXMinutes",1,l):r.formatDistance("xMinutes",m,l);if(m<45)return r.formatDistance("xMinutes",m,l);if(m<90)return r.formatDistance("aboutXHours",1,l);if(m<g1){let h=Math.round(m/60);return r.formatDistance("aboutXHours",h,l)}else{if(m<s)return r.formatDistance("xDays",1,l);if(m<Pc){let h=Math.round(m/g1);return r.formatDistance("xDays",h,l)}else if(m<Pc*2)return f=Math.round(m/Pc),r.formatDistance("aboutXMonths",f,l)}if(f=r2(c,a),f<12){let h=Math.round(m/Pc);return r.formatDistance("xMonths",h,l)}else{let h=f%12,p=Math.trunc(f/12);return h<3?r.formatDistance("aboutXYears",p,l):h<9?r.formatDistance("overXYears",p,l):r.formatDistance("almostXYears",p+1,l)}}function y2(t,e){return C2(t,Km(t),e)}function ln(t,e){let o=NL(e)?new e(0):po(e,0);return o.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),o.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),o}function NL(t){return typeof t=="function"&&t.prototype?.constructor===t}function x2(t,e){return Yw(po(e?.in||t,t),Km(e?.in||t))}var Or=({date:t,i18n:e,pattern:o,timezone:n})=>{let r=new lo(new Date(t));if(n){let s=lo.tz(n),i=r.withTimeZone(n),l=ln(i,s);return e.dateFNS?C1(l,o,{locale:e.dateFNS}):`${e.t("general:loading")}...`}return e.dateFNS?C1(r,o,{locale:e.dateFNS}):`${e.t("general:loading")}...`},y1=({date:t,i18n:e})=>{let o=typeof t=="string"?new Date(t):t;return e?.dateFNS?y2(o,{locale:e.dateFNS}):`${e.t("general:loading")}...`};function x1(t){return typeof t=="object"&&"root"in t}function of(t,e){for(let o of t)"text"in o&&o.text?e+=o.text:"children"in o||(e+=`[${o.type}]`),"children"in o&&o.children&&(e+=of(o.children,e));return e}var w2=t=>Array.isArray(t)?t.map(e=>typeof e=="object"&&e!==null?e.id:String(e)).filter(Boolean).join(", "):typeof t=="object"&&t!==null?t.id||"":String(t);var Zo=({collectionConfig:t,data:e,dateFormat:o,fallback:n,globalConfig:r,i18n:s})=>{let i;if(t){let l=t?.admin?.useAsTitle;if(l&&(i=e?.[l],i)){let a=t.fields.find(d=>"name"in d&&d.name===l),c=a?.type==="date",u=a?.type==="relationship";if(c){let d="date"in a.admin&&a?.admin?.date?.displayFormat||o;i=Or({date:i,i18n:s,pattern:d})||i}u&&(i=w2(e[l]))}}return r&&(i=LL(r?.label,s)||r?.slug),i&&x1(i)&&(i=of(i.root.children?.[0]?.children||[],"")),!i&&x1(n)&&(i=of(n.root.children?.[0]?.children||[],"")),i||(i=typeof n=="string"?n:`[${s.t("general:untitled")}]`),i};import{jsx as $L}from"react/jsx-runtime";import{createContext as kL,use as jL,useEffect as BL,useState as ML}from"react";var S2=kL({}),No=()=>jL(S2),I2=({children:t})=>{let{id:e,collectionSlug:o,docConfig:n,globalSlug:r,initialData:s,savedDocumentData:i}=De(),{config:{admin:{dateFormat:l}}}=W(),{i18n:a}=N(),[c,u]=ML(()=>Zo({collectionConfig:o?n:void 0,data:{...s||{},id:e},dateFormat:l,fallback:e?.toString(),globalConfig:r?n:void 0,i18n:a}));return BL(()=>{u(Zo({collectionConfig:o?n:void 0,data:{...i,id:e},dateFormat:l,fallback:e?.toString(),globalConfig:r?n:void 0,i18n:a}))},[i,l,a,e,o,n,r]),$L(S2,{value:{setDocumentTitle:u,title:c},children:t})};import{c as OL}from"react/compiler-runtime";import{jsx as VL}from"react/jsx-runtime";import w1 from"react";var _2=w1.createContext({getUploadEdits:()=>{},resetUploadEdits:void 0,updateUploadEdits:void 0,uploadEdits:void 0}),S1=t=>{let e=OL(10),{children:o,initialUploadEdits:n}=t,r;e[0]!==n?(r=n||{},e[0]=n,e[1]=r):r=e[1];let[s,i]=w1.useState(r),l;e[2]===Symbol.for("react.memo_cache_sentinel")?(l=()=>{i({})},e[2]=l):l=e[2];let a=l,c;e[3]===Symbol.for("react.memo_cache_sentinel")?(c=h=>{i(p=>({...p||{},...h||{}}))},e[3]=c):c=e[3];let u=c,d;e[4]!==s?(d=()=>s,e[4]=s,e[5]=d):d=e[5];let m=d,f;return e[6]!==o||e[7]!==m||e[8]!==s?(f=VL(_2,{value:{getUploadEdits:m,resetUploadEdits:a,updateUploadEdits:u,uploadEdits:s},children:o}),e[6]=o,e[7]=m,e[8]=s,e[9]=f):f=e[9],f},Pi=()=>w1.use(_2);import*as I1 from"qs-esm";import GL from"react";var Ec=t=>{let{collectionSlug:e,docPermissions:o,globalSlug:n,isEditing:r}=t;return e?!!(r&&o?.update||!r&&o?.create):n?!!o?.update:!1};var D2=({id:t,collectionSlug:e,globalSlug:o})=>!!(o||e&&t);var T2=({id:t,api:e,collectionSlug:o,globalSlug:n,i18n:r,locale:s,permissions:i,serverURL:l,setDocPermissions:a,setHasPublishPermission:c,setHasSavePermission:u})=>GL.useCallback(async d=>{let m={locale:s||void 0},f=d?.id||t,h=D2({id:f,collectionSlug:o,globalSlug:n});if(h){let p=o?`/${o}/access/${f}`:n?`/globals/${n}/access`:null;if(p){let b=await(await fetch(`${l}${e}${p}?${I1.stringify(m)}`,{body:JSON.stringify({...d||{},_status:"draft"}),credentials:"include",headers:{"Accept-Language":r.language,"Content-Type":"application/json"},method:"post"})).json(),C=await fetch(`${l}${e}${p}?${I1.stringify(m)}`,{body:JSON.stringify({...d||{},_status:"published"}),credentials:"include",headers:{"Accept-Language":r.language,"Content-Type":"application/json"},method:"POST"}).then(v=>v.json());a(b),u(Ec({collectionSlug:o,docPermissions:b,globalSlug:n,isEditing:h})),c(C?.update)}}else{let p=o?i?.collections?.[o]:i?.globals?.[n];a(p),u(Ec({collectionSlug:o,docPermissions:p,globalSlug:n,isEditing:h}))}},[l,e,t,i,r.language,s,o,n]);var E2=zL({}),De=()=>WL(E2),UL=({children:t,...e})=>{let{id:o,collectionSlug:n,currentEditor:r,docPermissions:s,globalSlug:i,hasPublishedDoc:l,hasPublishPermission:a,hasSavePermission:c,initialData:u,initialState:d,isLocked:m,lastUpdateTime:f,mostRecentVersionIsAutosaved:h,unpublishedVersionCount:p,versionCount:g}=e,[b,C]=an(s),[v,y]=an(c),[x,w]=an(a),{permissions:S}=Ie(),{config:{admin:{dateFormat:T},routes:{api:I},serverURL:R},getEntityConfig:F}=W(),_=F({collectionSlug:n}),D=F({globalSlug:i}),A=A2(new AbortController),L=_||D,{i18n:E}=N(),{uploadEdits:k}=Pi(),[B,$]=Nc(()=>Zo({collectionConfig:_,data:{...u||{},id:o},dateFormat:T,fallback:o?.toString(),globalConfig:D,i18n:E})),[P,M]=Nc(h),[j,O]=Nc(g),[G,V]=Nc(l),[z,X]=Nc(p),[Q,U]=an(m),[ee,J]=an(r),[re,ie]=an(f),[le,Z]=an(u),[pe,be]=an("idle"),Ae=A2({hasShownLockedModal:!1,isLocked:!1,user:null}),ge=Ua(Ke=>{be(Ke)},[be]),{getPreference:Te,setPreference:Y}=ao(),{code:de}=xe(),{localeIsLoading:H}=Xm(),q=HL(()=>d===void 0||u===void 0||H,[u,d,H]),ne=`${R}${I}`,te,ce,he;i&&(te=i,ce="globals",he=`global-${te}`),n&&(te=n,ce="collections",o&&(he=`collection-${te}-${o}`));let $e=Ua(async(Ke,Dt)=>{try{let no=Dt===i?`where[globalSlug][equals]=${Dt}`:`where[document.value][equals]=${Ke}&where[document.relationTo][equals]=${Dt}`,gt=await Ge.get(`${R}${I}/payload-locked-documents?${no}`,{credentials:"include"}),{docs:so}=await gt.json();if(so?.length>0){let Co=so[0].id;await Ge.delete(`${R}${I}/payload-locked-documents/${Co}`,{credentials:"include",headers:{"Content-Type":"application/json"}}),U(!1)}}catch(dt){console.error("Failed to unlock the document",dt)}},[R,I,i,U]),me=Ua(async(Ke,Dt,dt)=>{try{let gt=Dt===i?`where[globalSlug][equals]=${Dt}`:`where[document.value][equals]=${Ke}&where[document.relationTo][equals]=${Dt}`,so=await Ge.get(`${R}${I}/payload-locked-documents?${gt}`,{credentials:"include"}),{docs:Co}=await so.json();if(Co?.length>0){let se=Co[0].id,Ce=typeof dt=="object"?{relationTo:dt.collection,value:dt.id}:{relationTo:"users",value:dt};await Ge.patch(`${R}${I}/payload-locked-documents/${se}`,{body:JSON.stringify({user:Ce}),credentials:"include",headers:{"Content-Type":"application/json"}})}}catch(no){console.error("Failed to update the document editor",no)}},[R,I,i]),ye=T2({id:o,api:I,collectionSlug:n,globalSlug:i,i18n:E,locale:de,permissions:S,serverURL:R,setDocPermissions:C,setHasPublishPermission:w,setHasSavePermission:y}),Be=Ua(()=>Te(he),[Te,he]),Oe=Ua(async(Ke,Dt)=>{let dt=await Be();if(he)try{await Y(he,{...dt,fields:{...dt?.fields||{},[Ke]:{...dt?.fields?.[Ke],...Dt}}})}catch(no){console.error(no)}},[Y,he,Be]),ke=Ua(()=>{let Ke=j+1;_&&_.versions?_.versions.maxPerDoc>0?O(Math.min(Ke,_.versions.maxPerDoc)):O(Ke):D&&D.versions&&(D.versions.max>0?O(Math.min(Ke,D.versions.max)):O(Ke))},[_,D,j]),He=F2.useCallback(Ke=>{Z(Ke)},[Z]);R2(()=>{$(Zo({collectionConfig:_,data:{...le,id:o},dateFormat:T,fallback:o?.toString(),globalConfig:D,i18n:E}))},[_,D,le,T,E,o]),R2(()=>{let Ke=A.current;return()=>{if(Ke)try{Ke.abort()}catch{}}},[]);let at=F2.useMemo(()=>`${`${ne}${ce==="globals"?"/globals":""}/${te}${o?`/${o}`:""}`}${P2.stringify({depth:0,"fallback-locale":"null",locale:de,uploadEdits:k||void 0},{addQueryPrefix:!0})}`,[ne,de,ce,o,te,k]),ht={...e,action:at,currentEditor:ee,docConfig:L,docPermissions:b,documentIsLocked:Q,documentLockState:Ae,getDocPermissions:ye,getDocPreferences:Be,hasPublishedDoc:G,hasPublishPermission:x,hasSavePermission:v,incrementVersionCount:ke,initialData:u,initialState:d,isInitializing:q,lastUpdateTime:re,mostRecentVersionIsAutosaved:P,preferencesKey:he,savedDocumentData:le,setCurrentEditor:J,setDocFieldPreferences:Oe,setDocumentIsLocked:U,setDocumentTitle:$,setHasPublishedDoc:V,setLastUpdateTime:ie,setMostRecentVersionIsAutosaved:M,setUnpublishedVersionCount:X,setUploadStatus:ge,title:B,unlockDocument:$e,unpublishedVersionCount:z,updateDocumentEditor:me,updateSavedDocumentData:He,uploadStatus:pe,versionCount:j};return rf(E2,{value:ht,children:rf(I2,{children:t})})},Lc=t=>rf(S1,{children:rf(UL,{...t})});import{jsx as XL}from"react/jsx-runtime";import{createContext as ZL,use as YL}from"react";var nf=ZL(""),$c=({children:t,operation:e})=>XL(nf,{value:e,children:t}),yr=()=>YL(nf);import N2 from"react";var kc=N2.createContext(void 0),L2=()=>{let t=N2.useContext(kc);if(t)return t};var Ne=t=>{let e=JL(64),o;e[0]!==t?(o=t||{},e[0]=t,e[1]=o):o=e[1];let{disableFormData:n,hasRows:r,path:s,potentiallyStalePath:i,validate:l}=o,a=n===void 0?!1:n,c=L2(),u=s||c||i,d=fo(),m=kr(),f=vi(),{user:h}=Ie(),{id:p,collectionSlug:g}=De(),b=yr(),C=Lt(qL),v;e[2]!==u?(v=pe=>{let[be]=pe;return be&&be?.[u]||null},e[2]=u,e[3]=v):v=e[3];let y=Lt(v),{t:x}=N(),{config:w}=W(),{getData:S,getDataByPath:T,getSiblingData:I,setModified:R}=Ve(),F=Fa(),_=y?.filterOptions,D=y?.value,A=y?.initialValue,L=typeof y?.valid=="boolean"?y.valid:!0,E=L===!1&&d,k=$2(L),B=$2(y?.errorMessage),$;e[4]!==u?($=u?u.split("."):[],e[4]=u,e[5]=$):$=e[5];let P=$,M;e[6]!==a||e[7]!==C||e[8]!==r||e[9]!==u||e[10]!==R?(M=(pe,be)=>{let Ae=be===void 0?!1:be,Te=pe&&typeof pe=="object"&&typeof pe.preventDefault=="function"&&typeof pe.stopPropagation=="function"?pe.target.value:pe;C({type:"UPDATE",disableFormData:a||r&&Te>0,path:u,value:Te}),Ae||R(!0)},e[6]=a,e[7]=C,e[8]=r,e[9]=u,e[10]=R,e[11]=M):M=e[11];let j=M,O,G=y?.customComponents,V=m||f,z=y?.errorMessage,X;e[12]!==y?.errorPaths?(X=y?.errorPaths||[],e[12]=y?.errorPaths,e[13]=X):X=e[13];let Q=y?.rows,U=y?.selectFilterOptions,ee=y?.valid,J;e[14]!==_||e[15]!==A||e[16]!==f||e[17]!==u||e[18]!==m||e[19]!==j||e[20]!==E||e[21]!==d||e[22]!==Q||e[23]!==U||e[24]!==ee||e[25]!==G||e[26]!==V||e[27]!==z||e[28]!==X||e[29]!==D?(J={customComponents:G,disabled:V,errorMessage:z,errorPaths:X,filterOptions:_,formInitializing:f,formProcessing:m,formSubmitted:d,initialValue:A,path:u,rows:Q,selectFilterOptions:U,setValue:j,showError:E,valid:ee,value:D},e[14]=_,e[15]=A,e[16]=f,e[17]=u,e[18]=m,e[19]=j,e[20]=E,e[21]=d,e[22]=Q,e[23]=U,e[24]=ee,e[25]=G,e[26]=V,e[27]=z,e[28]=X,e[29]=D,e[30]=J):J=e[30],O=J;let re=O,ie;e[31]!==g||e[32]!==w||e[33]!==a||e[34]!==C||e[35]!==F||e[36]!==y||e[37]!==S||e[38]!==T||e[39]!==I||e[40]!==r||e[41]!==p||e[42]!==b||e[43]!==u||e[44]!==P||e[45]!==x||e[46]!==h||e[47]!==l||e[48]!==D?(ie=()=>{(async()=>{let be=D;y?.rows&&Array.isArray(y.rows)&&(be=T(u));let Ae=B.current,ge=k.current,Te=S(),Y=typeof l=="function"?await l(be,{id:p,blockData:void 0,collectionSlug:g,data:F?.getData?F.getData():Te,event:"onChange",operation:b,path:P,preferences:{},req:{payload:{config:w},t:x,user:h},siblingData:I(u)}):typeof B.current=="string"?B.current:k.current;if(typeof Y=="string"?(ge=!1,Ae=Y):typeof Y=="boolean"&&(ge=Y,Ae=void 0),ge!==k.current||Ae!==B.current){k.current=ge,B.current=Ae;let de={type:"UPDATE",errorMessage:Ae,path:u,rows:y?.rows,valid:ge,validate:l,value:D};(a||r&&typeof D=="number"&&D>0)&&(de.disableFormData=!0),typeof C=="function"&&C(de)}})()},e[31]=g,e[32]=w,e[33]=a,e[34]=C,e[35]=F,e[36]=y,e[37]=S,e[38]=T,e[39]=I,e[40]=r,e[41]=p,e[42]=b,e[43]=u,e[44]=P,e[45]=x,e[46]=h,e[47]=l,e[48]=D,e[49]=ie):ie=e[49];let le=y?.rows,Z;return e[50]!==g||e[51]!==a||e[52]!==C||e[53]!==S||e[54]!==T||e[55]!==I||e[56]!==p||e[57]!==b||e[58]!==u||e[59]!==le||e[60]!==h||e[61]!==l||e[62]!==D?(Z=[D,a,C,S,I,T,p,b,u,h,l,le,g],e[50]=g,e[51]=a,e[52]=C,e[53]=S,e[54]=T,e[55]=I,e[56]=p,e[57]=b,e[58]=u,e[59]=le,e[60]=h,e[61]=l,e[62]=D,e[63]=Z):Z=e[63],Fi(ie,150,Z),re};function qL(t){let[,e]=t;return e}import{jsx as k2}from"react/jsx-runtime";import"react";import{c as QL}from"react/compiler-runtime";var _1=t=>{let e=QL(2),{children:o,path:n}=t,r;e[0]!==n?(r=l=>{let[a]=l;return a&&a?.[n]||null},e[0]=n,e[1]=r):r=e[1];let s=Lt(r),{passesCondition:i}=s||{};return i===!1?null:o};var ze=t=>o=>{let{path:n}=o;return k2(_1,{path:n,children:k2(t,{...o})})};var rt=t=>({...t?.admin?.style||{},...t?.admin?.width?{"--field-width":t.admin.width}:{flex:"1 1 auto"},...t?.admin?.style?.flex?{flex:t.admin.style.flex}:{}});var Re="field-type";function Xa({fieldLocalized:t,fieldRTL:e,locale:o,localizationConfig:n}){let r=o&&n&&n.locales&&n.locales.length>1,s=o?.code===n?.defaultLocale;return e!==!1&&o?.rtl===!0&&(t||!t&&!r||!t&&s)||e===!0}import{c as KL}from"react/compiler-runtime";import{jsx as jc,jsxs as F1}from"react/jsx-runtime";import{useId as e$}from"react";import{jsx as j2}from"react/jsx-runtime";import"react";var D1=()=>j2("svg",{className:"icon icon--check",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:j2("path",{className:"stroke",d:"M15.3333 6.00001L8.00001 13.3333L4.66667 10",strokeLinecap:"square"})});import{jsx as B2}from"react/jsx-runtime";import"react";var T1=()=>B2("svg",{className:"icon icon--line",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:B2("path",{className:"stroke",d:"M5.33333 10H14.6667",strokeLinecap:"square"})});var Bc="checkbox-input",Lo=t=>{let e=KL(27),{id:o,name:n,AfterInput:r,BeforeInput:s,checked:i,className:l,inputRef:a,Label:c,label:u,localized:d,onToggle:m,partialChecked:f,readOnly:h,required:p}=t,g=e$(),b=o||g,C=i&&`${Bc}--checked`,v=h&&`${Bc}--read-only`,y;e[0]!==l||e[1]!==C||e[2]!==v?(y=[l,Bc,C,v].filter(Boolean),e[0]=l,e[1]=C,e[2]=v,e[3]=y):y=e[3];let x=y.join(" "),w=!!i,S;if(e[4]!==r||e[5]!==s||e[6]!==c||e[7]!==i||e[8]!==b||e[9]!==a||e[10]!==u||e[11]!==d||e[12]!==n||e[13]!==m||e[14]!==f||e[15]!==h||e[16]!==p||e[17]!==x||e[18]!==w){let T=jc("input",{"aria-label":"","aria-labelledby":n,defaultChecked:w,disabled:h,id:b,name:n,onInput:m,ref:a,required:p,title:n,type:"checkbox"}),I=!i&&f?"partial":"check",R;e[20]!==I?(R=[`${Bc}__icon`,I].filter(Boolean),e[20]=I,e[21]=R):R=e[21];let F;e[22]!==i?(F=i&&jc(D1,{}),e[22]=i,e[23]=F):F=e[23];let _;e[24]!==i||e[25]!==f?(_=!i&&f&&jc(T1,{}),e[24]=i,e[25]=f,e[26]=_):_=e[26],S=F1("div",{className:x,children:[F1("div",{className:`${Bc}__input`,children:[s,T,F1("span",{className:R.join(" "),children:[F,_]}),r]}),jc(ue,{CustomComponent:c,Fallback:jc(_e,{htmlFor:b,label:u,localized:d,required:p})})]}),e[4]=r,e[5]=s,e[6]=c,e[7]=i,e[8]=b,e[9]=a,e[10]=u,e[11]=d,e[12]=n,e[13]=m,e[14]=f,e[15]=h,e[16]=p,e[17]=x,e[18]=w,e[19]=S}else S=e[19];return S};var R1="checkbox";var n$=t=>{let{id:e,checked:o,disableFormData:n,field:r,field:{admin:{className:s,description:i}={},label:l,required:a}={},onChange:c,partialChecked:u,path:d,readOnly:m,validate:f}=t,{uuid:h}=Ve(),p=ct(),{i18n:{language:g}}=N(),b=o$.includes(g),C=M2((k,B)=>{if(typeof f=="function")return f(k,{...B,required:a})},[f,a]),{customComponents:{AfterInput:v,BeforeInput:y,Description:x,Error:w,Label:S}={},disabled:T,path:I,setValue:R,showError:F,value:_}=Ne({disableFormData:n,potentiallyStalePath:d,validate:C}),D=M2(()=>{m||(R(!_),typeof c=="function"&&c(!_))},[c,m,R,_]),A=o||!!_,L=e||Zm(I,p,h),E=r$(()=>rt(r),[r]);return t$("div",{className:[Re,R1,F&&"error",s,_&&`${R1}--checked`,(m||T)&&`${R1}--read-only`].filter(Boolean).join(" "),style:E,children:[Mc(ue,{CustomComponent:w,Fallback:Mc(Qe,{alignCaret:b?"right":"left",path:I,showError:F})}),Mc(Lo,{AfterInput:v,BeforeInput:y,checked:A,id:L,inputRef:null,Label:S,label:l,name:I,onToggle:D,partialChecked:u,readOnly:m||T,required:a}),Mc(ue,{CustomComponent:x,Fallback:Mc(Xe,{description:i,path:I})})]})},Vr=ze(n$);var Oc=t=>{let e=s$(4),{fieldValue:o,localized:n,path:r}=t,{code:s}=xe(),{config:i}=W(),{localization:l}=i,[a,c]=V2.useState(typeof o!="number"),{t:u}=N();if(!n||!l||l.defaultLocale===s||!l.fallback)return null;if(o){let m=!1;if(typeof o=="number"&&o>0&&(m=!0),Array.isArray(o)&&o.length>0&&(m=!0),m)return a&&c(!1),null}let d;return e[0]!==a||e[1]!==r||e[2]!==u?(d=O2(nn,{children:O2(Vr,{checked:a,field:{name:"",label:u("general:fallbackToDefaultLocale")},id:`field-${r.replace(/\./g,"__")}`,path:r,schemaPath:""})}),e[0]=a,e[1]=r,e[2]=u,e[3]=d):d=e[3],d};var Za=t=>{let e=document.getElementById(t);if(e){let o=e.getBoundingClientRect();window.scrollBy({behavior:"smooth",top:o.top-100})}};import{c as iW}from"react/compiler-runtime";import{jsx as ai,jsxs as aW}from"react/jsx-runtime";import{getTranslation as lW}from"@payloadcms/translations";import"react";import{c as i$}from"react/compiler-runtime";import{jsx as xr,jsxs as Ei}from"react/jsx-runtime";import a$ from"react";var $o="array-actions",sf=t=>{let e=i$(12),{addRow:o,copyRow:n,duplicateRow:r,hasMaxRows:s,index:i,isSortable:l,moveRow:a,pasteRow:c,removeRow:u,rowCount:d}=t,{t:m}=N(),f;return e[0]!==o||e[1]!==n||e[2]!==r||e[3]!==s||e[4]!==i||e[5]!==l||e[6]!==a||e[7]!==c||e[8]!==u||e[9]!==d||e[10]!==m?(f=xr(lt,{button:xr(bc,{}),buttonClassName:`${$o}__button`,className:$o,horizontalAlign:"center",render:h=>{let{close:p}=h;return Ei(ve.ButtonGroup,{buttonSize:"small",children:[l&&i!==0&&Ei(ve.Button,{className:`${$o}__action ${$o}__move-up`,onClick:()=>{a(i,i-1),p()},children:[xr("div",{className:`${$o}__action-chevron`,children:xr(We,{direction:"up"})}),m("general:moveUp")]}),l&&i<d-1&&Ei(ve.Button,{className:`${$o}__action`,onClick:()=>{a(i,i+1),p()},children:[xr("div",{className:`${$o}__action-chevron`,children:xr(We,{})}),m("general:moveDown")]}),!s&&Ei(a$.Fragment,{children:[Ei(ve.Button,{className:`${$o}__action ${$o}__add`,onClick:()=>{o(i+1),p()},children:[xr(jr,{}),m("general:addBelow")]}),Ei(ve.Button,{className:`${$o}__action ${$o}__duplicate`,onClick:()=>{r(i),p()},children:[xr(xi,{}),m("general:duplicate")]})]}),xr(ve.Button,{className:`${$o}__action ${$o}__copy`,onClick:()=>{n(i),p()},children:xr(Na,{isRow:!0})}),xr(ve.Button,{className:`${$o}__action ${$o}__paste`,onClick:()=>{c(i),p()},children:xr(Na,{isPaste:!0,isRow:!0})}),Ei(ve.Button,{className:`${$o}__action ${$o}__remove`,onClick:()=>{u(i),p()},children:[xr(bt,{}),m("general:remove")]})]})},size:"medium"}),e[0]=o,e[1]=n,e[2]=r,e[3]=s,e[4]=i,e[5]=l,e[6]=a,e[7]=c,e[8]=u,e[9]=d,e[10]=m,e[11]=f):f=e[11],f};import{c as b$}from"react/compiler-runtime";import{jsx as un,jsxs as E1}from"react/jsx-runtime";import{useState as U2}from"react";import{jsx as Ya,jsxs as l$}from"react/jsx-runtime";import"react";var cn=({className:t})=>l$("svg",{className:["icon icon--drag-handle",t].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[Ya("path",{className:"fill",d:"M7.99999 10.6667C8.36818 10.6667 8.66666 10.3682 8.66666 9.99999C8.66666 9.6318 8.36818 9.33332 7.99999 9.33332C7.63181 9.33332 7.33333 9.6318 7.33333 9.99999C7.33333 10.3682 7.63181 10.6667 7.99999 10.6667Z",strokeLinecap:"square"}),Ya("path",{className:"fill",d:"M7.99999 5.99999C8.36818 5.99999 8.66666 5.70151 8.66666 5.33332C8.66666 4.96513 8.36818 4.66666 7.99999 4.66666C7.63181 4.66666 7.33333 4.96513 7.33333 5.33332C7.33333 5.70151 7.63181 5.99999 7.99999 5.99999Z",strokeLinecap:"square"}),Ya("path",{className:"fill",d:"M7.99999 15.3333C8.36818 15.3333 8.66666 15.0348 8.66666 14.6667C8.66666 14.2985 8.36818 14 7.99999 14C7.63181 14 7.33333 14.2985 7.33333 14.6667C7.33333 15.0348 7.63181 15.3333 7.99999 15.3333Z",strokeLinecap:"square"}),Ya("path",{className:"fill",d:"M12 10.6667C12.3682 10.6667 12.6667 10.3682 12.6667 9.99999C12.6667 9.6318 12.3682 9.33332 12 9.33332C11.6318 9.33332 11.3333 9.6318 11.3333 9.99999C11.3333 10.3682 11.6318 10.6667 12 10.6667Z",strokeLinecap:"square"}),Ya("path",{className:"fill",d:"M12 5.99999C12.3682 5.99999 12.6667 5.70151 12.6667 5.33332C12.6667 4.96513 12.3682 4.66666 12 4.66666C11.6318 4.66666 11.3333 4.96513 11.3333 5.33332C11.3333 5.70151 11.6318 5.99999 12 5.99999Z",strokeLinecap:"square"}),Ya("path",{className:"fill",d:"M12 15.3333C12.3682 15.3333 12.6667 15.0348 12.6667 14.6667C12.6667 14.2985 12.3682 14 12 14C11.6318 14 11.3333 14.2985 11.3333 14.6667C11.3333 15.0348 11.6318 15.3333 12 15.3333Z",strokeLinecap:"square"})]});import{jsx as z2}from"react/jsx-runtime";import af,{useEffect as m$,useRef as P1}from"react";import{useEffect as c$,useMemo as u$,useRef as A1,useState as d$}from"react";var G2=({containerRef:t,contentRef:e,duration:o,open:n})=>{let r=u$(()=>typeof CSS<"u"&&CSS&&CSS.supports?CSS.supports("interpolate-size","allow-keywords"):!1,[]),s=A1(!1),i=A1(n),[l,a]=d$(!1),c=A1(null);return c$(()=>{let u=t.current,d=e.current;if(!u||!d||r)return;let m=p=>{u.style.height=p},f=()=>{u&&(u.style.transition="",u.style.height=n?"auto":"0px",a(!1))};return(()=>{if(!s.current&&n){m("auto"),a(!1);return}s.current=!0,i.current!==n&&m(n?"0px":`${d.scrollHeight}px`),u.offsetHeight,a(!0),u.style.transition=`height ${o}ms ease`,m(n?`${d.scrollHeight}px`:"0px");let p=()=>{f(),u.removeEventListener("transitionend",p)};u.addEventListener("transitionend",p)})(),i.current=n,c.current=new ResizeObserver(()=>{l&&(u.style.height=n?`${d.scrollHeight}px`:"0px")}),c.current.observe(d),()=>{u&&(u.style.transition="",u.style.height=""),c.current?.disconnect()}},[n,o,t,e,r]),{browserSupportsKeywordAnimation:r}};var wr=({id:t,children:e,className:o,duration:n=300,height:r})=>{let[s,i]=af.useState(()=>!!r),l=P1(s),[a,c]=af.useState(()=>s?"":"none"),[u,d]=af.useState(()=>s?"":"hidden"),[m,f]=af.useState(!1),h=P1(null),p=P1(null);return m$(()=>{let g,b,C=!!r,v=l.current!==C;return l.current=C,v&&(f(!0),d("hidden"),C?c(""):g=window.setTimeout(()=>{c("none")},n),i(C),b=window.setTimeout(()=>{d(""),f(!1)},n)),()=>{g&&clearTimeout(g),b&&clearTimeout(b)}},[r,n]),G2({containerRef:h,contentRef:p,duration:n,open:s}),z2("div",{"aria-hidden":!s,className:[o,"rah-static",s&&r==="auto"&&"rah-static--height-auto",m&&`rah-animating--${s?"down":"up"}`,m&&r==="auto"&&"rah-animating--to-height-auto"].filter(Boolean).join(" "),id:t,ref:h,style:{overflow:u,transition:`height ${n}ms ease`},children:z2("div",{ref:p,...a?{style:{display:a}}:{},children:e})})};import{jsx as f$}from"react/jsx-runtime";import p$,{createContext as h$,use as g$}from"react";var W2=h$({isCollapsed:void 0,isVisible:void 0,isWithinCollapsible:void 0,toggle:()=>{}}),H2=({children:t,isCollapsed:e,isWithinCollapsible:o=!0,toggle:n})=>{let{isCollapsed:r,isVisible:s}=Os(),i=p$.useMemo(()=>({isCollapsed:e,isVisible:s&&!r,isWithinCollapsible:o,toggle:n}),[e,o,n,r,s]);return f$(W2,{value:i,children:t})},Os=()=>g$(W2);var zo="collapsible";var Ni=t=>{let e=b$(26),{actions:o,children:n,className:r,collapsibleStyle:s,dragHandleProps:i,header:l,initCollapsed:a,isCollapsed:c,onToggle:u}=t,d=s===void 0?"default":s,[m,f]=U2(!!a),[h,p]=U2(!1),{isWithinCollapsible:g}=Os(),{t:b}=N(),C=typeof c=="boolean"?c:m,v;e[0]!==C||e[1]!==u?(v=()=>{typeof u=="function"&&u(!C),f(!C)},e[0]=C,e[1]=u,e[2]=v):v=e[2];let y=v,x=i&&`${zo}--has-drag-handle`,w=C&&`${zo}--collapsed`,S=g&&`${zo}--nested`,T=h&&`${zo}--hovered`,I=`${zo}--style-${d}`,R;e[3]!==r||e[4]!==x||e[5]!==w||e[6]!==S||e[7]!==T||e[8]!==I?(R=[zo,r,x,w,S,T,I].filter(Boolean),e[3]=r,e[4]=x,e[5]=w,e[6]=S,e[7]=T,e[8]=I,e[9]=R):R=e[9];let F=R.join(" "),_,D;e[10]===Symbol.for("react.memo_cache_sentinel")?(_=()=>p(!0),D=()=>p(!1),e[10]=_,e[11]=D):(_=e[10],D=e[11]);let A=`${zo}__toggle--${C?"collapsed":"open"}`,L;e[12]!==A?(L=[`${zo}__toggle`,A].filter(Boolean),e[12]=A,e[13]=L):L=e[13];let E=L.join(" "),k;if(e[14]!==o||e[15]!==n||e[16]!==i||e[17]!==l||e[18]!==C||e[19]!==b||e[20]!==E||e[21]!==F||e[22]!==y){let B;e[24]!==i?(B=i&&un("div",{className:`${zo}__drag`,...i.attributes,...i.listeners,children:un(cn,{})}),e[24]=i,e[25]=B):B=e[25],k=un("div",{className:F,children:E1(H2,{isCollapsed:C,toggle:y,children:[E1("div",{className:`${zo}__toggle-wrap`,onMouseEnter:_,onMouseLeave:D,children:[un("button",{className:E,onClick:y,type:"button",children:un("span",{children:b("fields:toggleBlock")})}),B,l?un("div",{className:[`${zo}__header-wrap`,i&&`${zo}__header-wrap--has-drag-handle`].filter(Boolean).join(" "),children:l}):null,E1("div",{className:`${zo}__actions-wrap`,children:[o?un("div",{className:`${zo}__actions`,children:o}):null,un("div",{className:`${zo}__indicator`,children:un(We,{direction:C?void 0:"up"})})]})]}),un(wr,{height:C?0:"auto",children:un("div",{className:`${zo}__content`,children:n})})]})}),e[14]=o,e[15]=n,e[16]=i,e[17]=l,e[18]=C,e[19]=b,e[20]=E,e[21]=F,e[22]=y,e[23]=k}else k=e[23];return k};import{c as oW}from"react/compiler-runtime";import{jsx as n0}from"react/jsx-runtime";import{fieldIsHiddenOrDisabled as rW,getFieldPaths as nW,getFieldPermissions as sW}from"payload/shared";import"react";import{c as v$}from"react/compiler-runtime";import{jsx as C$}from"react/jsx-runtime";import X2 from"react";var Z2=t=>{let e=v$(9),{children:o,className:n,forceRender:r}=t,[s,i]=X2.useState(!!r),l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l={rootMargin:"1000px"},e[0]=l):l=e[0];let[a,c]=Yn(l,!!r),u=!!c?.isIntersecting,d=c?.boundingClientRect?.top<0,m=r||u||d,f,h;e[1]!==s||e[2]!==m?(f=()=>{m&&!s&&i(!0)},h=[m,s],e[1]=s,e[2]=m,e[3]=f,e[4]=h):(f=e[3],h=e[4]),X2.useEffect(f,h);let p=s?o:null,g;return e[5]!==n||e[6]!==a||e[7]!==p?(g=C$("div",{className:n,ref:a,children:p}),e[5]=n,e[6]=a,e[7]=p,e[8]=g):g=e[8],g};import{c as tW}from"react/compiler-runtime";import{jsx as Ut}from"react/jsx-runtime";import"react";import{jsx as Qt,jsxs as is}from"react/jsx-runtime";import{getTranslation as j1}from"@payloadcms/translations";import V$,{Fragment as p3,useCallback as An,useMemo as G$}from"react";import{c as B$}from"react/compiler-runtime";import{jsx as dn,jsxs as m3,Fragment as M$}from"react/jsx-runtime";import{getTranslation as O$}from"@payloadcms/translations";import"react";import{c as y$}from"react/compiler-runtime";import{jsx as Vc,jsxs as x$}from"react/jsx-runtime";import"react";var Gr="pill",w$=t=>{let e=y$(12),{id:o,className:n}=t,r;e[0]!==o?(r={id:o},e[0]=o,e[1]=r):r=e[1];let{attributes:s,isDragging:i,listeners:l,setNodeRef:a,transform:c}=ja(r),u=i&&`${Gr}--is-dragging`,d;e[2]!==n||e[3]!==u?(d=[u,n].filter(Boolean),e[2]=n,e[3]=u,e[4]=d):d=e[4];let m=d.join(" "),f;return e[5]!==s||e[6]!==l||e[7]!==t||e[8]!==a||e[9]!==m||e[10]!==c?(f=Vc(Y2,{...t,className:m,elementProps:{...l,...s,ref:a,style:{transform:c}}}),e[5]=s,e[6]=l,e[7]=t,e[8]=a,e[9]=m,e[10]=c,e[11]=f):f=e[11],f},Y2=t=>{let{id:e,alignIcon:o="right","aria-checked":n,"aria-controls":r,"aria-expanded":s,"aria-label":i,children:l,className:a,draggable:c,elementProps:u,icon:d,onClick:m,pillStyle:f="light",rounded:h,size:p="medium",to:g}=t,b=[Gr,`${Gr}--style-${f}`,`${Gr}--size-${p}`,a&&a,g&&`${Gr}--has-link`,(g||m)&&`${Gr}--has-action`,d&&`${Gr}--has-icon`,d&&`${Gr}--align-icon-${o}`,c&&`${Gr}--draggable`,h&&`${Gr}--rounded`].filter(Boolean).join(" "),C="div";return m&&!g&&(C="button"),g&&(C=Jt),x$(C,{...u,"aria-checked":n,"aria-controls":r,"aria-expanded":s,"aria-label":i,className:b,href:g||null,id:e,onClick:m,type:C==="button"?"button":void 0,children:[Vc("span",{className:`${Gr}__label`,children:l}),!!d&&Vc("span",{className:`${Gr}__icon`,children:d})]})},vt=t=>{let{draggable:e}=t;return e?Vc(w$,{...t}):Vc(Y2,{...t})};import{useEffect as S$,useState as I$}from"react";function lf(t,e){let[o,n]=I$(t);return S$(()=>{let r=setTimeout(()=>{n(t)},e);return()=>{clearTimeout(r)}},[t,e]),o}import{c as $$}from"react/compiler-runtime";import{jsx as a3,jsxs as k$}from"react/jsx-runtime";import l3 from"react";import{jsx as Rn,jsxs as n3}from"react/jsx-runtime";import{getTranslation as df}from"@payloadcms/translations";import{useEffect as s3,useMemo as N$,useState as i3}from"react";import{c as _$}from"react/compiler-runtime";import{jsx as J2,jsxs as D$}from"react/jsx-runtime";import"react";var Gc="thumbnail-card",q2=t=>{let e=_$(15),{alignLabel:o,className:n,collection:r,doc:s,label:i,onClick:l,thumbnail:a}=t,{config:c}=W(),{i18n:u}=N(),d=typeof l=="function"&&`${Gc}--has-on-click`,m=o&&`${Gc}--align-label-${o}`,f;e[0]!==n||e[1]!==d||e[2]!==m?(f=[Gc,n,d,m].filter(Boolean),e[0]=n,e[1]=d,e[2]=m,e[3]=f):f=e[3];let h=f.join(" "),p=i;if(!p){let b=s?.filename,C;e[4]!==r||e[5]!==c.admin.dateFormat||e[6]!==s||e[7]!==u||e[8]!==b?(C=Zo({collectionConfig:r,data:s,dateFormat:c.admin.dateFormat,fallback:b,i18n:u}),e[4]=r,e[5]=c.admin.dateFormat,e[6]=s,e[7]=u,e[8]=b,e[9]=C):C=e[9],p=C}let g;return e[10]!==h||e[11]!==l||e[12]!==a||e[13]!==p?(g=D$("button",{className:h,onClick:l,title:p,type:"button",children:[J2("div",{className:`${Gc}__thumbnail`,children:a}),J2("div",{className:`${Gc}__label`,children:p})]}),e[10]=h,e[11]=l,e[12]=a,e[13]=p,e[14]=g):g=e[14],g};import{jsx as ss,jsxs as K2}from"react/jsx-runtime";import{useState as A$}from"react";var ko=[];for(cf=0;cf<256;++cf)ko.push((cf+256).toString(16).slice(1));var cf;function Q2(t,e=0){return(ko[t[e+0]]+ko[t[e+1]]+ko[t[e+2]]+ko[t[e+3]]+"-"+ko[t[e+4]]+ko[t[e+5]]+"-"+ko[t[e+6]]+ko[t[e+7]]+"-"+ko[t[e+8]]+ko[t[e+9]]+"-"+ko[t[e+10]]+ko[t[e+11]]+ko[t[e+12]]+ko[t[e+13]]+ko[t[e+14]]+ko[t[e+15]]).toLowerCase()}var uf,T$=new Uint8Array(16);function N1(){if(!uf&&(uf=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!uf))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return uf(T$)}var F$=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),L1={randomUUID:F$};function R$(t,e,o){if(L1.randomUUID&&!e&&!t)return L1.randomUUID();t=t||{};var n=t.random||(t.rng||N1)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){o=o||0;for(var r=0;r<16;++r)e[o+r]=n[r];return e}return Q2(n)}var ns=R$;var $1=()=>{let[t]=A$(()=>`pattern${ns()}`);return K2("svg",{fill:"none",height:"151",preserveAspectRatio:"xMidYMid slice",viewBox:"0 0 231 151",width:"231",xmlns:"http://www.w3.org/2000/svg",children:[K2("g",{clipPath:`url(#${t})`,children:[ss("rect",{fill:"#D9D9D9",height:"100%",rx:"2",width:"100%"}),ss("rect",{fill:"#BCBCBC",height:"116.063",transform:"rotate(52.0687 33.7051 79.3051)",width:"85.8593",x:"33.7051",y:"79.3051"}),ss("rect",{fill:"#BCBCBC",height:"116.063",transform:"rotate(52.0687 86.1219 92.6272)",width:"85.8593",x:"86.1219",y:"92.6272"}),ss("circle",{cx:"189",cy:"45",fill:"#BCBCBC",r:"19"}),ss("rect",{fill:"#B8B8B8",height:"5",rx:"2.5",width:"98",x:"66",y:"70"}),ss("rect",{fill:"#B8B8B8",height:"5",rx:"2.5",width:"76",x:"77",y:"82"})]}),ss("defs",{children:ss("clipPath",{id:`${t}`,children:ss("rect",{fill:"white",height:"151",width:"231"})})})]})};import{c as P$}from"react/compiler-runtime";import{jsx as t3,jsxs as E$}from"react/jsx-runtime";import"react";import{jsx as e3}from"react/jsx-runtime";import"react";var Li=()=>e3("svg",{className:"icon icon--search",fill:"none",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e3("path",{className:"stroke",d:"M16 16L13.1333 13.1333M14.6667 9.33333C14.6667 12.2789 12.2789 14.6667 9.33333 14.6667C6.38781 14.6667 4 12.2789 4 9.33333C4 6.38781 6.38781 4 9.33333 4C12.2789 4 14.6667 6.38781 14.6667 9.33333Z",strokeLinecap:"square"})});var o3="block-search",r3=t=>{let e=P$(5),{setSearchTerm:o}=t,{t:n}=N(),r;e[0]!==o?(r=l=>{o(l.target.value)},e[0]=o,e[1]=r):r=e[1];let s=r,i;return e[2]!==s||e[3]!==n?(i=E$("div",{className:o3,children:[t3("input",{className:`${o3}__input`,onChange:s,placeholder:n("fields:searchForBlock")}),t3(Li,{})]}),e[2]=s,e[3]=n,e[4]=i):i=e[4],i};var Vs="blocks-drawer",L$=(t,e)=>typeof t.labels.singular=="string"?t.labels.singular.toLowerCase():typeof t.labels.singular=="object"?df(t.labels.singular,e).toLowerCase():"",zc=t=>{let{addRow:e,addRowIndex:o,blocks:n,drawerSlug:r,labels:s}=t,[i,l]=i3(""),[a,c]=i3(n),{closeModal:u,isModalOpen:d}=ae(),{i18n:m,t:f}=N(),{config:h}=W(),p=N$(()=>{let g={_none:[]};return a.forEach(b=>{if(typeof b=="object"&&b.admin?.group){let C=b.admin.group,v=typeof C=="string"?C:df(C,m);Object.hasOwn(g,v)?g[v].push(b):g[v]=[b]}else g._none.push(b)}),g},[a,m]);return s3(()=>{d(r)||l("")},[d,r]),s3(()=>{let g=i.toLowerCase(),b=n?.reduce((C,v)=>{let y=typeof v=="string"?h.blocksMap[v]:v;return L$(y,m).includes(g)&&C.push(y),C},[]);c(b)},[i,n,m,h.blocksMap]),n3(Bt,{slug:r,title:f("fields:addLabel",{label:df(s.singular,m)}),children:[Rn(r3,{setSearchTerm:l}),Rn("div",{className:`${Vs}__blocks-wrapper`,children:Rn("ul",{className:`${Vs}__block-groups`,children:Object.entries(p).map(([g,b])=>b.length?n3("li",{className:[`${Vs}__block-group`,g==="_none"&&`${Vs}__block-group-none`].filter(Boolean).join(" "),children:[g!=="_none"&&Rn("h3",{className:`${Vs}__block-group-label`,children:g}),Rn("ul",{className:`${Vs}__blocks`,children:b.map((C,v)=>{let y=typeof C=="string"?h.blocksMap[C]:C,{slug:x,imageAltText:w,imageURL:S,labels:T}=y;return Rn("li",{className:`${Vs}__block`,children:Rn(q2,{alignLabel:"center",label:df(T?.singular,m),onClick:()=>{e(o,x),u(r)},thumbnail:Rn("div",{className:`${Vs}__default-image`,children:S?Rn("img",{alt:w,src:S}):Rn($1,{})})})},v)})})]},g):null)})})]})};var c3=t=>{let e=$$(28),{addRow:o,blocks:n,blockType:r,copyRow:s,duplicateRow:i,hasMaxRows:l,isSortable:a,labels:c,moveRow:u,pasteRow:d,removeRow:m,rowCount:f,rowIndex:h}=t,{closeModal:p,openModal:g}=ae(),b=Dc("blocks-drawer"),[C,v]=l3.useState(null),y;e[0]!==o||e[1]!==p||e[2]!==b||e[3]!==C?(y=(w,S)=>{typeof o=="function"&&o(C,S),p(b)},e[0]=o,e[1]=p,e[2]=b,e[3]=C,e[4]=y):y=e[4];let x;if(e[5]!==r||e[6]!==n||e[7]!==s||e[8]!==b||e[9]!==i||e[10]!==l||e[11]!==a||e[12]!==c||e[13]!==u||e[14]!==g||e[15]!==d||e[16]!==m||e[17]!==f||e[18]!==h||e[19]!==y){let w;e[21]!==b||e[22]!==g?(w=T=>{v(T),g(b)},e[21]=b,e[22]=g,e[23]=w):w=e[23];let S;e[24]!==r||e[25]!==i||e[26]!==h?(S=()=>i(h,r),e[24]=r,e[25]=i,e[26]=h,e[27]=S):S=e[27],x=k$(l3.Fragment,{children:[a3(zc,{addRow:y,addRowIndex:h,blocks:n,drawerSlug:b,labels:c}),a3(sf,{addRow:w,copyRow:s,duplicateRow:S,hasMaxRows:l,index:h,isSortable:a,moveRow:u,pasteRow:d,removeRow:m,rowCount:f})]}),e[5]=r,e[6]=n,e[7]=s,e[8]=b,e[9]=i,e[10]=l,e[11]=a,e[12]=c,e[13]=u,e[14]=g,e[15]=d,e[16]=m,e[17]=f,e[18]=h,e[19]=y,e[20]=x}else x=e[20];return x};import{c as j$}from"react/compiler-runtime";import{jsx as u3}from"react/jsx-runtime";import"react";var d3="section-title",k1=t=>{let e=j$(14),{customOnChange:o,customValue:n,path:r,readOnly:s}=t,i;e[0]!==r?(i={path:r},e[0]=r,e[1]=i):i=e[1];let{setValue:l,value:a}=Ne(i),{t:c}=N(),u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=[d3].filter(Boolean),e[2]=u):u=e[2];let d=u.join(" "),m;e[3]!==o||e[4]!==l?(m=o||(g=>{g.stopPropagation(),g.preventDefault(),l(g.target.value)}),e[3]=o,e[4]=l,e[5]=m):m=e[5];let f=m,h=n||a,p;return e[6]!==n||e[7]!==f||e[8]!==r||e[9]!==s||e[10]!==c||e[11]!==h||e[12]!==a?(p=u3("div",{className:d,"data-value":h,children:u3("input",{className:`${d3}__input`,id:r,name:r,onChange:f,placeholder:c("general:untitled"),readOnly:s,type:"text",value:n||a||""})}),e[6]=n,e[7]=f,e[8]=r,e[9]=s,e[10]=c,e[11]=h,e[12]=a,e[13]=p):p=e[13],p};var Gs="blocks-field",f3=t=>{let e=B$(42),{addRow:o,attributes:n,block:r,blocks:s,copyRow:i,duplicateRow:l,errorCount:a,fields:c,hasMaxRows:u,isLoading:d,isSortable:m,Label:f,labels:h,listeners:p,moveRow:g,parentPath:b,pasteRow:C,path:v,permissions:y,readOnly:x,removeRow:w,row:S,rowCount:T,rowIndex:I,schemaPath:R,setCollapse:F,setNodeRef:_,transform:D}=t,A=lf(d,500),{i18n:L}=N(),k=fo()&&a>0,B=!r.admin?.disableBlockName,$=k?`${Gs}__row--has-errors`:`${Gs}__row--no-errors`,P;e[0]!==$?(P=[`${Gs}__row`,$].filter(Boolean),e[0]=$,e[1]=P):P=e[1];let M=P.join(" "),j;if(y===!0)j=!0;else{let V=y?.blocks?.[r.slug];V===!0?j=!0:j=V?.fields}let O=`${b?.split(".").join("-")}-row-${I}`,G;if(e[2]!==f||e[3]!==o||e[4]!==n||e[5]!==r.fields||e[6]!==r.labels||e[7]!==j||e[8]!==s||e[9]!==M||e[10]!==i||e[11]!==l||e[12]!==a||e[13]!==k||e[14]!==c||e[15]!==u||e[16]!==L||e[17]!==A||e[18]!==m||e[19]!==h||e[20]!==p||e[21]!==g||e[22]!==b||e[23]!==C||e[24]!==v||e[25]!==x||e[26]!==w||e[27]!==S.blockType||e[28]!==S.collapsed||e[29]!==S.id||e[30]!==T||e[31]!==I||e[32]!==R||e[33]!==F||e[34]!==_||e[35]!==B||e[36]!==O||e[37]!==D){let V;e[39]!==S.id||e[40]!==F?(V=z=>F(S.id,z),e[39]=S.id,e[40]=F,e[41]=V):V=e[41],G=dn("div",{id:O,ref:_,style:{transform:D},children:dn(Ni,{actions:x?void 0:dn(c3,{addRow:o,blocks:s,blockType:S.blockType,copyRow:i,duplicateRow:l,fields:r.fields,hasMaxRows:u,isSortable:m,labels:h,moveRow:g,pasteRow:C,removeRow:w,rowCount:T,rowIndex:I}),className:M,collapsibleStyle:k?"error":"default",dragHandleProps:m?{id:S.id,attributes:n,listeners:p}:void 0,header:A?dn(Ft,{height:"1rem",width:"8rem"}):m3("div",{className:`${Gs}__block-header`,children:[dn(Zn,{CustomComponent:f,label:m3(M$,{children:[dn("span",{className:`${Gs}__block-number`,children:String(I+1).padStart(2,"0")}),dn(vt,{className:`${Gs}__block-pill ${Gs}__block-pill-${S.blockType}`,pillStyle:"white",size:"small",children:O$(r.labels.singular,L)}),B&&dn(k1,{path:`${v}.blockName`,readOnly:x})]}),path:v,rowNumber:I}),k&&dn(Io,{count:a,i18n:L,withMessage:!0})]}),isCollapsed:S.collapsed,onToggle:V,children:A?dn(Ft,{}):dn(jo,{className:`${Gs}__fields`,fields:c,margins:"small",parentIndexPath:"",parentPath:v,parentSchemaPath:R,permissions:j,readOnly:x})},S.id)},`${b}-row-${I}`),e[2]=f,e[3]=o,e[4]=n,e[5]=r.fields,e[6]=r.labels,e[7]=j,e[8]=s,e[9]=M,e[10]=i,e[11]=l,e[12]=a,e[13]=k,e[14]=c,e[15]=u,e[16]=L,e[17]=A,e[18]=m,e[19]=h,e[20]=p,e[21]=g,e[22]=b,e[23]=C,e[24]=v,e[25]=x,e[26]=w,e[27]=S.blockType,e[28]=S.collapsed,e[29]=S.id,e[30]=T,e[31]=I,e[32]=R,e[33]=F,e[34]=_,e[35]=B,e[36]=O,e[37]=D,e[38]=G}else G=e[38];return G};var zr="blocks-field",z$=t=>{let{i18n:e,t:o}=N(),{field:{name:n,type:r,admin:{className:s,description:i,isSortable:l=!0}={},blockReferences:a,blocks:c,label:u,labels:d,localized:m,maxRows:f,minRows:h,required:p},path:g,permissions:b,readOnly:C,schemaPath:v,validate:y}=t,x=v??n,w=h??p?1:0,{setDocFieldPreferences:S}=De(),{addFieldRow:T,dispatchFields:I,getFields:R,moveFieldRow:F,removeFieldRow:_,replaceState:D,setModified:A}=Ve(),{code:L}=xe(),{config:{localization:E},config:k}=W(),B=Dc("blocks-drawer"),$=fo(),P={plural:o("fields:blocks"),singular:o("fields:block"),...d},M=(()=>{if(E&&E.fallback){let me=E.defaultLocale;return L===me}return!0})(),j=G$(()=>{if(!a)return c;let me=[];for(let ye of a){let Be=typeof ye=="string"?k.blocksMap[ye]:ye;Be&&me.push(Be)}return me},[a,c,k.blocksMap]),O=An((me,ye)=>{if(!M&&me===null)return!0;if(typeof y=="function")return y(me,{...ye,maxRows:f,minRows:w,required:p})},[f,w,p,y,M]),{customComponents:{AfterInput:G,BeforeInput:V,Description:z,Error:X,Label:Q}={},disabled:U,errorPaths:ee,path:J,rows:re=[],showError:ie,valid:le,value:Z}=Ne({hasRows:!0,potentiallyStalePath:g,validate:O}),pe=An((me,ye)=>{T({blockType:ye,path:J,rowIndex:me,schemaPath:x}),setTimeout(()=>{Za(`${J}-row-${me+1}`)},0)},[T,J,x]),be=An(me=>{I({type:"DUPLICATE_ROW",path:J,rowIndex:me}),A(!0),setTimeout(()=>{Za(`${J}-row-${me+1}`)},0)},[I,J,A]),Ae=An(me=>{_({path:J,rowIndex:me})},[J,_]),ge=An((me,ye)=>{F({moveFromIndex:me,moveToIndex:ye,path:J})},[F,J]),Te=An(me=>{let{collapsedIDs:ye,updatedRows:Be}=Jm({collapsed:me,rows:re});I({type:"SET_ALL_ROWS_COLLAPSED",path:J,updatedRows:Be}),S(J,{collapsed:ye})},[I,J,re,S]),Y=An((me,ye)=>{let{collapsedIDs:Be,updatedRows:Oe}=Ym({collapsed:ye,rowID:me,rows:re});I({type:"SET_ROW_COLLAPSED",path:J,updatedRows:Oe}),S(J,{collapsed:Be})},[I,J,re,S]),de=An(me=>{let ye=Pa({type:r,blocks:j,getDataToCopy:()=>$a({formState:{...R()},path:J,rowIndex:me}),path:J,rowIndex:me,t:o});typeof ye=="string"?K.error(ye):K.success(o("general:copied"))},[j,J,o,r,R]),H=An(me=>{let Be=Ea({onPaste:Oe=>{let ke={...R()},He=ka({dataFromClipboard:Oe,formState:ke,path:J,rowIndex:me});D(He),A(!0)},path:J,schemaBlocks:j,t:o});typeof Be=="string"&&K.error(Be)},[j,R,J,D,A,o]),q=An(me=>{let ye={...R()},Be=ka({dataFromClipboard:me,formState:ye,path:J});D(Be),A(!0)},[R,J,D,A]),ne=f&&re.length>=f,te=ee.length,ce=$&&te+(le?0:1)>0,he=re.length<w||p&&re.length===0,$e=C&&re.length===0;return is("div",{className:[Re,zr,s,ce?`${zr}--has-error`:`${zr}--has-no-error`].filter(Boolean).join(" "),id:`field-${J?.replace(/\./g,"__")}`,children:[ie&&Qt(ue,{CustomComponent:X,Fallback:Qt(Qe,{path:J,showError:ie})}),is("header",{className:`${zr}__header`,children:[is("div",{className:`${zr}__header-wrap`,children:[is("div",{className:`${zr}__heading-with-error`,children:[Qt("h3",{children:Qt(ue,{CustomComponent:Q,Fallback:Qt(_e,{as:"span",label:u,localized:m,path:J,required:p})})}),ce&&te>0&&Qt(Io,{count:te,i18n:e,withMessage:!0})]}),is("ul",{className:`${zr}__header-actions`,children:[re.length>0&&is(p3,{children:[Qt("li",{children:Qt("button",{className:`${zr}__header-action`,onClick:()=>Te(!0),type:"button",children:o("fields:collapseAll")})}),Qt("li",{children:Qt("button",{className:`${zr}__header-action`,onClick:()=>Te(!1),type:"button",children:o("fields:showAll")})})]}),Qt("li",{children:Qt(_m,{allowCopy:re?.length>0,allowPaste:!C,blocks:j,className:`${zr}__header-action`,disabled:U,getDataToCopy:()=>$a({formState:{...R()},path:J}),onPaste:q,path:J,type:r})})]})]}),Qt(ue,{CustomComponent:z,Fallback:Qt(Xe,{description:i,path:J})})]}),V,Qt(Oc,{fieldValue:Z,localized:m,path:J}),(re.length>0||!le&&($e||he))&&is(Br,{className:`${zr}__rows`,ids:re.map(me=>me.id),onDragEnd:({moveFromIndex:me,moveToIndex:ye})=>ge(me,ye),children:[re.map((me,ye)=>{let{blockType:Be,isLoading:Oe}=me,ke=k.blocksMap[Be]??(a??c).find(He=>typeof He!="string"&&He.slug===Be);if(ke){let He=`${J}.${ye}`,at=ee.filter(ht=>ht.startsWith(He+".")).length;return Qt(Dn,{disabled:C||U||!l,id:me.id,children:ht=>Qt(f3,{...ht,addRow:pe,block:ke,blocks:a??c,copyRow:de,duplicateRow:be,errorCount:at,fields:ke.fields,hasMaxRows:ne,isLoading:Oe,isSortable:l,Label:re?.[ye]?.customComponents?.RowLabel,labels:P,moveRow:ge,parentPath:J,pasteRow:H,path:He,permissions:b,readOnly:C||U,removeRow:Ae,row:me,rowCount:re.length,rowIndex:ye,schemaPath:x+ke.slug,setCollapse:Y})},me.id)}return null}),!M&&is(V$.Fragment,{children:[he&&Qt(nn,{type:"error",children:o("validation:requiresAtLeast",{count:w,label:j1(w>1?P.plural:P.singular,e)||o(w>1?"general:row":"general:rows")})}),$e&&Qt(nn,{children:o("validation:fieldHasNo",{label:j1(P.plural,e)})})]})]}),!ne&&is(p3,{children:[Qt(ts,{className:`${zr}__drawer-toggler`,disabled:C||U,slug:B,children:Qt(oe,{buttonStyle:"icon-label",disabled:C||U,el:"span",icon:"plus",iconPosition:"left",iconStyle:"with-border",children:o("fields:addLabel",{label:j1(P.singular,e)})})}),Qt(zc,{addRow:pe,addRowIndex:re?.length||0,blocks:a??c,drawerSlug:B,labels:P})]}),G]})},Wc=ze(z$);import{jsx as $i,jsxs as h3}from"react/jsx-runtime";import{useCallback as X$,useMemo as Z$}from"react";import{jsx as B1}from"react/jsx-runtime";import{lazy as W$,Suspense as H$}from"react";var U$=W$(()=>import("./CodeEditor-YP63NRLU.js")),Hc=t=>B1(H$,{fallback:B1(Ft,{}),children:B1(U$,{...t})});var Y$={js:"javascript",ts:"typescript"},J$="code-field",q$=t=>{let{field:e,field:{admin:{className:o,description:n,editorOptions:r={},language:s="javascript"}={},label:i,localized:l,required:a},onMount:c,path:u,readOnly:d,validate:m}=t,f=X$((I,R)=>{if(typeof m=="function")return m(I,{...R,required:a})},[m,a]),{customComponents:{AfterInput:h,BeforeInput:p,Description:g,Error:b,Label:C}={},disabled:v,path:y,setValue:x,showError:w,value:S}=Ne({potentiallyStalePath:u,validate:f}),T=Z$(()=>rt(e),[e]);return h3("div",{className:[Re,J$,o,w&&"error",(d||v)&&"read-only"].filter(Boolean).join(" "),style:T,children:[$i(ue,{CustomComponent:C,Fallback:$i(_e,{label:i,localized:l,path:y,required:a})}),h3("div",{className:`${Re}__wrap`,children:[$i(ue,{CustomComponent:b,Fallback:$i(Qe,{path:y,showError:w})}),p,$i(Hc,{defaultLanguage:Y$[s]||s,onChange:d||v?()=>null:I=>x(I),onMount:c,options:r,readOnly:d||v,value:S||""}),h]}),$i(ue,{CustomComponent:g,Fallback:$i(Xe,{description:n,path:y})})]})},Uc=ze(q$);import{jsx as ji,jsxs as M1}from"react/jsx-runtime";import{getTranslation as K$}from"@payloadcms/translations";import{Fragment as ek,useCallback as tk,useEffect as ok,useMemo as rk,useState as b3}from"react";import{c as Q$}from"react/compiler-runtime";import{fieldAffectsData as g3}from"payload/shared";var mf=t=>t.reduce((e,o)=>{let n="fields"in o?o.fields:void 0;return n?g3(o)?e.push(`${o.name}.`):e.push(...mf(n)):o.type==="tabs"?"tabs"in o&&o.tabs?.forEach(r=>{"name"in r?e.push(`${r.name}.`):e.push(...mf(r.fields))}):g3(o)&&e.push(o.name),e},[]);var ki=t=>{let e=Q$(12),{fields:o,path:n,setErrorCount:r}=t,[s]=Ls(),i=fo(),l;e[0]!==o?(l=mf(o),e[0]=o,e[1]=l):l=e[1];let a=l,c;e[2]!==s||e[3]!==i||e[4]!==n||e[5]!==a||e[6]!==r?(c=()=>{if(i){let d=0;Object.entries(s).forEach(m=>{let[f]=m;if(a?.some(p=>{let g=[...n,p].join(".");return g.endsWith(".")?f.startsWith(g):f===g})){let p=s[f];"valid"in p&&!p.valid&&(d=d+1)}}),r(d)}},e[2]=s,e[3]=i,e[4]=n,e[5]=a,e[6]=r,e[7]=c):c=e[7];let u;return e[8]!==o||e[9]!==s||e[10]!==i?(u=[s,i,o],e[8]=o,e[9]=s,e[10]=i,e[11]=u):u=e[11],Fi(c,250,u),null};var Xc="collapsible-field",nk=t=>{let{field:e,field:{admin:{className:o,description:n,initCollapsed:r=!1}={},fields:s,label:i}={},indexPath:l,parentPath:a,parentSchemaPath:c,path:u,permissions:d,readOnly:m}=t,{i18n:f}=N(),{getPreference:h,setPreference:p}=ao(),{preferencesKey:g}=De(),[b,C]=b3(),v=`collapsible-${u?.replace(/\./g,"__")}`,[y,x]=b3(0),w=y>0,{customComponents:{AfterInput:S,BeforeInput:T,Description:I,Label:R}={},disabled:F}=Ne({path:u}),_=tk(async A=>{let L=await h(g);g&&p(g,{...L,...u?{fields:{...L?.fields||{},[u]:{...L?.fields?.[u],collapsed:A}}}:{fields:{...L?.fields||{},[v]:{...L?.fields?.[v],collapsed:A}}}})},[g,v,h,p,u]);ok(()=>{(async()=>{if(g){let L=await h(g),E=u?L?.fields?.[u]?.collapsed:L?.fields?.[v]?.collapsed;C(E!==void 0?!!E:typeof r=="boolean"?r:!1)}else C(typeof r=="boolean"?r:!1)})()},[h,g,v,r,u]);let D=rk(()=>rt(e),[e]);return typeof b!="boolean"?null:M1(ek,{children:[ji(ki,{fields:s,path:u.split(".").slice(0,-1),setErrorCount:x}),M1("div",{className:[Re,Xc,o,w?`${Xc}--has-error`:`${Xc}--has-no-error`].filter(Boolean).join(" "),id:`field-${v}`,style:D,children:[T,ji(Ni,{className:`${Xc}__collapsible`,collapsibleStyle:w?"error":"default",header:M1("div",{className:`${Xc}__row-label-wrap`,children:[ji(Zn,{CustomComponent:R,label:K$(i,f),path:u}),w&&ji(Io,{count:y,i18n:f,withMessage:!0})]}),initCollapsed:b,onToggle:_,children:ji(jo,{fields:s,margins:"small",parentIndexPath:l,parentPath:a,parentSchemaPath:c,permissions:d,readOnly:m||F})}),S,ji(ue,{CustomComponent:I,Fallback:ji(Xe,{description:n,path:u})})]})]})},Zc=ze(nk);import{jsx as Us,jsxs as l_}from"react/jsx-runtime";import{getTranslation as oM}from"@payloadcms/translations";import{useCallback as Fb,useMemo as c_}from"react";import{jsx as O1}from"react/jsx-runtime";import{lazy as sk,Suspense as ik}from"react";var ak=sk(()=>import("./DatePicker-QBWPYX2E.js")),Ja=t=>O1(ik,{fallback:O1(Ft,{height:50}),children:O1(ak,{...t})});import{jsx as a_,jsxs as eM}from"react/jsx-runtime";import{useMemo as tM}from"react";import{jsx as Gi}from"react/jsx-runtime";import{getTranslation as n_}from"@payloadcms/translations";import s_,{useEffect as JB,useId as qB}from"react";function mn(t){"@babel/helpers - typeof";return mn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mn(t)}function v3(t,e){if(mn(t)!="object"||!t)return t;var o=t[Symbol.toPrimitive];if(o!==void 0){var n=o.call(t,e||"default");if(mn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ff(t){var e=v3(t,"string");return mn(e)=="symbol"?e:e+""}function Bi(t,e,o){return(e=ff(e))in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function C3(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),o.push.apply(o,n)}return o}function Ee(t){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?C3(Object(o),!0).forEach(function(n){Bi(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):C3(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}function y3(t){if(Array.isArray(t))return t}function x3(t,e){var o=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(o!=null){var n,r,s,i,l=[],a=!0,c=!1;try{if(s=(o=o.call(t)).next,e===0){if(Object(o)!==o)return;a=!1}else for(;!(a=(n=s.call(o)).done)&&(l.push(n.value),l.length!==e);a=!0);}catch(u){c=!0,r=u}finally{try{if(!a&&o.return!=null&&(i=o.return(),Object(i)!==i))return}finally{if(c)throw r}}return l}}function Yc(t,e){(e==null||e>t.length)&&(e=t.length);for(var o=0,n=Array(e);o<e;o++)n[o]=t[o];return n}function pf(t,e){if(t){if(typeof t=="string")return Yc(t,e);var o={}.toString.call(t).slice(8,-1);return o==="Object"&&t.constructor&&(o=t.constructor.name),o==="Map"||o==="Set"?Array.from(t):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?Yc(t,e):void 0}}function w3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fn(t,e){return y3(t)||x3(t,e)||pf(t,e)||w3()}function ir(t,e){if(t==null)return{};var o,n,r=Ba(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)o=s[n],e.includes(o)||{}.propertyIsEnumerable.call(t,o)&&(r[o]=t[o])}return r}import{useState as V1,useCallback as hf}from"react";var lk=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function gf(t){var e=t.defaultInputValue,o=e===void 0?"":e,n=t.defaultMenuIsOpen,r=n===void 0?!1:n,s=t.defaultValue,i=s===void 0?null:s,l=t.inputValue,a=t.menuIsOpen,c=t.onChange,u=t.onInputChange,d=t.onMenuClose,m=t.onMenuOpen,f=t.value,h=ir(t,lk),p=V1(l!==void 0?l:o),g=fn(p,2),b=g[0],C=g[1],v=V1(a!==void 0?a:r),y=fn(v,2),x=y[0],w=y[1],S=V1(f!==void 0?f:i),T=fn(S,2),I=T[0],R=T[1],F=hf(function(B,$){typeof c=="function"&&c(B,$),R(B)},[c]),_=hf(function(B,$){var P;typeof u=="function"&&(P=u(B,$)),C(P!==void 0?P:B)},[u]),D=hf(function(){typeof m=="function"&&m(),w(!0)},[m]),A=hf(function(){typeof d=="function"&&d(),w(!1)},[d]),L=l!==void 0?l:b,E=a!==void 0?a:x,k=f!==void 0?f:I;return Ee(Ee({},h),{},{inputValue:L,menuIsOpen:E,onChange:F,onInputChange:_,onMenuClose:A,onMenuOpen:D,value:k})}import*as jI from"react";import{forwardRef as EB,useMemo as z1e}from"react";function S3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I3(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ff(n.key),n)}}function _3(t,e,o){return e&&I3(t.prototype,e),o&&I3(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function D3(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ma(t,e)}function Jc(t){return Jc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Jc(t)}function G1(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G1=function(){return!!t})()}function T3(t,e){if(e&&(mn(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nw(t)}function F3(t){var e=G1();return function(){var o,n=Jc(t);if(e){var r=Jc(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return T3(this,o)}}function R3(t){if(Array.isArray(t))return Yc(t)}function A3(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function P3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zs(t){return R3(t)||A3(t)||pf(t)||P3()}import*as Ct from"react";import{useMemo as su,Fragment as db,useRef as ul,useCallback as Hs,useEffect as DI,Component as Zj}from"react";import*as Hr from"react";import{useContext as Ok,forwardRef as Vk}from"react";var ck=!1;function uk(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function dk(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var E3=function(){function t(o){var n=this;this._insertTag=function(r){var s;n.tags.length===0?n.insertionPoint?s=n.insertionPoint.nextSibling:n.prepend?s=n.container.firstChild:s=n.before:s=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(r,s),n.tags.push(r)},this.isSpeedy=o.speedy===void 0?!ck:o.speedy,this.tags=[],this.ctr=0,this.nonce=o.nonce,this.key=o.key,this.container=o.container,this.prepend=o.prepend,this.insertionPoint=o.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(dk(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var s=uk(r);try{s.insertRule(n,s.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var r;return(r=n.parentNode)==null?void 0:r.removeChild(n)}),this.tags=[],this.ctr=0},t}();var Bo="-ms-",qc="-moz-",ut="-webkit-",bf="comm",qa="rule",Qa="decl";var N3="@import";var vf="@keyframes";var L3="@layer";var $3=Math.abs,Mi=String.fromCharCode,k3=Object.assign;function j3(t,e){return co(t,0)^45?(((e<<2^co(t,0))<<2^co(t,1))<<2^co(t,2))<<2^co(t,3):0}function Cf(t){return t.trim()}function z1(t,e){return(t=e.exec(t))?t[0]:t}function nt(t,e,o){return t.replace(e,o)}function Qc(t,e){return t.indexOf(e)}function co(t,e){return t.charCodeAt(e)|0}function Ws(t,e,o){return t.slice(e,o)}function Yo(t){return t.length}function Ka(t){return t.length}function el(t,e){return e.push(t),t}function W1(t,e){return t.map(e).join("")}var yf=1,tl=1,B3=0,Jo=0,ho=0,rl="";function Kc(t,e,o,n,r,s,i){return{value:t,root:e,parent:o,type:n,props:r,children:s,line:yf,column:tl,length:i,return:""}}function nl(t,e){return k3(Kc("",null,null,"",null,null,0),t,{length:-t.length},e)}function M3(){return ho}function O3(){return ho=Jo>0?co(rl,--Jo):0,tl--,ho===10&&(tl=1,yf--),ho}function qo(){return ho=Jo<B3?co(rl,Jo++):0,tl++,ho===10&&(tl=1,yf++),ho}function Wr(){return co(rl,Jo)}function eu(){return Jo}function sl(t,e){return Ws(rl,t,e)}function ol(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function xf(t){return yf=tl=1,B3=Yo(rl=t),Jo=0,[]}function wf(t){return rl="",t}function il(t){return Cf(sl(Jo-1,H1(t===91?t+2:t===40?t+1:t)))}function V3(t){for(;(ho=Wr())&&ho<33;)qo();return ol(t)>2||ol(ho)>3?"":" "}function G3(t,e){for(;--e&&qo()&&!(ho<48||ho>102||ho>57&&ho<65||ho>70&&ho<97););return sl(t,eu()+(e<6&&Wr()==32&&qo()==32))}function H1(t){for(;qo();)switch(ho){case t:return Jo;case 34:case 39:t!==34&&t!==39&&H1(ho);break;case 40:t===41&&H1(t);break;case 92:qo();break}return Jo}function z3(t,e){for(;qo()&&t+ho!==57;)if(t+ho===84&&Wr()===47)break;return"/*"+sl(e,Jo-1)+"*"+Mi(t===47?t:qo())}function W3(t){for(;!ol(Wr());)qo();return sl(t,Jo)}function X3(t){return wf(Sf("",null,null,null,[""],t=xf(t),0,[0],t))}function Sf(t,e,o,n,r,s,i,l,a){for(var c=0,u=0,d=i,m=0,f=0,h=0,p=1,g=1,b=1,C=0,v="",y=r,x=s,w=n,S=v;g;)switch(h=C,C=qo()){case 40:if(h!=108&&co(S,d-1)==58){Qc(S+=nt(il(C),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:S+=il(C);break;case 9:case 10:case 13:case 32:S+=V3(h);break;case 92:S+=G3(eu()-1,7);continue;case 47:switch(Wr()){case 42:case 47:el(mk(z3(qo(),eu()),e,o),a);break;default:S+="/"}break;case 123*p:l[c++]=Yo(S)*b;case 125*p:case 59:case 0:switch(C){case 0:case 125:g=0;case 59+u:b==-1&&(S=nt(S,/\f/g,"")),f>0&&Yo(S)-d&&el(f>32?U3(S+";",n,o,d-1):U3(nt(S," ","")+";",n,o,d-2),a);break;case 59:S+=";";default:if(el(w=H3(S,e,o,c,u,r,l,v,y=[],x=[],d),s),C===123)if(u===0)Sf(S,e,w,w,y,s,d,l,x);else switch(m===99&&co(S,3)===110?100:m){case 100:case 108:case 109:case 115:Sf(t,w,w,n&&el(H3(t,w,w,0,0,r,l,v,r,y=[],d),x),r,x,d,l,n?y:x);break;default:Sf(S,w,w,w,[""],x,0,l,x)}}c=u=f=0,p=b=1,v=S="",d=i;break;case 58:d=1+Yo(S),f=h;default:if(p<1){if(C==123)--p;else if(C==125&&p++==0&&O3()==125)continue}switch(S+=Mi(C),C*p){case 38:b=u>0?1:(S+="\f",-1);break;case 44:l[c++]=(Yo(S)-1)*b,b=1;break;case 64:Wr()===45&&(S+=il(qo())),m=Wr(),u=d=Yo(v=S+=W3(eu())),C++;break;case 45:h===45&&Yo(S)==2&&(p=0)}}return s}function H3(t,e,o,n,r,s,i,l,a,c,u){for(var d=r-1,m=r===0?s:[""],f=Ka(m),h=0,p=0,g=0;h<n;++h)for(var b=0,C=Ws(t,d+1,d=$3(p=i[h])),v=t;b<f;++b)(v=Cf(p>0?m[b]+" "+C:nt(C,/&\f/g,m[b])))&&(a[g++]=v);return Kc(t,e,o,r===0?qa:l,a,c,u)}function mk(t,e,o){return Kc(t,e,o,bf,Mi(M3()),Ws(t,2,-2),0)}function U3(t,e,o,n){return Kc(t,e,o,Qa,Ws(t,0,n),Ws(t,n+1,-1),n)}function Oi(t,e){for(var o="",n=Ka(t),r=0;r<n;r++)o+=e(t[r],r,t,e)||"";return o}function Z3(t,e,o,n){switch(t.type){case L3:if(t.children.length)break;case N3:case Qa:return t.return=t.return||t.value;case bf:return"";case vf:return t.return=t.value+"{"+Oi(t.children,n)+"}";case qa:t.value=t.props.join(",")}return Yo(o=Oi(t.children,n))?t.return=t.value+"{"+o+"}":""}function Y3(t){var e=Ka(t);return function(o,n,r,s){for(var i="",l=0;l<e;l++)i+=t[l](o,n,r,s)||"";return i}}function J3(t){return function(e){e.root||(e=e.return)&&t(e)}}function q3(t){var e=Object.create(null);return function(o){return e[o]===void 0&&(e[o]=t(o)),e[o]}}var fk=function(e,o,n){for(var r=0,s=0;r=s,s=Wr(),r===38&&s===12&&(o[n]=1),!ol(s);)qo();return sl(e,Jo)},pk=function(e,o){var n=-1,r=44;do switch(ol(r)){case 0:r===38&&Wr()===12&&(o[n]=1),e[n]+=fk(Jo-1,o,n);break;case 2:e[n]+=il(r);break;case 4:if(r===44){e[++n]=Wr()===58?"&\f":"",o[n]=e[n].length;break}default:e[n]+=Mi(r)}while(r=qo());return e},hk=function(e,o){return wf(pk(xf(e),o))},Q3=new WeakMap,gk=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var o=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&o.charCodeAt(0)!==58&&!Q3.get(n))&&!r){Q3.set(e,!0);for(var s=[],i=hk(o,s),l=n.props,a=0,c=0;a<i.length;a++)for(var u=0;u<l.length;u++,c++)e.props[c]=s[a]?i[a].replace(/&\f/g,l[u]):l[u]+" "+i[a]}}},bk=function(e){if(e.type==="decl"){var o=e.value;o.charCodeAt(0)===108&&o.charCodeAt(2)===98&&(e.return="",e.value="")}};function K3(t,e){switch(j3(t,e)){case 5103:return ut+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ut+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ut+t+qc+t+Bo+t+t;case 6828:case 4268:return ut+t+Bo+t+t;case 6165:return ut+t+Bo+"flex-"+t+t;case 5187:return ut+t+nt(t,/(\w+).+(:[^]+)/,ut+"box-$1$2"+Bo+"flex-$1$2")+t;case 5443:return ut+t+Bo+"flex-item-"+nt(t,/flex-|-self/,"")+t;case 4675:return ut+t+Bo+"flex-line-pack"+nt(t,/align-content|flex-|-self/,"")+t;case 5548:return ut+t+Bo+nt(t,"shrink","negative")+t;case 5292:return ut+t+Bo+nt(t,"basis","preferred-size")+t;case 6060:return ut+"box-"+nt(t,"-grow","")+ut+t+Bo+nt(t,"grow","positive")+t;case 4554:return ut+nt(t,/([^-])(transform)/g,"$1"+ut+"$2")+t;case 6187:return nt(nt(nt(t,/(zoom-|grab)/,ut+"$1"),/(image-set)/,ut+"$1"),t,"")+t;case 5495:case 3959:return nt(t,/(image-set\([^]*)/,ut+"$1$`$1");case 4968:return nt(nt(t,/(.+:)(flex-)?(.*)/,ut+"box-pack:$3"+Bo+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ut+t+t;case 4095:case 3583:case 4068:case 2532:return nt(t,/(.+)-inline(.+)/,ut+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Yo(t)-1-e>6)switch(co(t,e+1)){case 109:if(co(t,e+4)!==45)break;case 102:return nt(t,/(.+:)(.+)-([^]+)/,"$1"+ut+"$2-$3$1"+qc+(co(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Qc(t,"stretch")?K3(nt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(co(t,e+1)!==115)break;case 6444:switch(co(t,Yo(t)-3-(~Qc(t,"!important")&&10))){case 107:return nt(t,":",":"+ut)+t;case 101:return nt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ut+(co(t,14)===45?"inline-":"")+"box$3$1"+ut+"$2$3$1"+Bo+"$2box$3")+t}break;case 5936:switch(co(t,e+11)){case 114:return ut+t+Bo+nt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ut+t+Bo+nt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ut+t+Bo+nt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return ut+t+Bo+t+t}return t}var vk=function(e,o,n,r){if(e.length>-1&&!e.return)switch(e.type){case Qa:e.return=K3(e.value,e.length);break;case vf:return Oi([nl(e,{value:nt(e.value,"@","@"+ut)})],r);case qa:if(e.length)return W1(e.props,function(s){switch(z1(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Oi([nl(e,{props:[nt(s,/:(read-\w+)/,":"+qc+"$1")]})],r);case"::placeholder":return Oi([nl(e,{props:[nt(s,/:(plac\w+)/,":"+ut+"input-$1")]}),nl(e,{props:[nt(s,/:(plac\w+)/,":"+qc+"$1")]}),nl(e,{props:[nt(s,/:(plac\w+)/,Bo+"input-$1")]})],r)}return""})}},Ck=[vk],U1=function(e){var o=e.key;if(o==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(p){var g=p.getAttribute("data-emotion");g.indexOf(" ")!==-1&&(document.head.appendChild(p),p.setAttribute("data-s",""))})}var r=e.stylisPlugins||Ck,s={},i,l=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+o+' "]'),function(p){for(var g=p.getAttribute("data-emotion").split(" "),b=1;b<g.length;b++)s[g[b]]=!0;l.push(p)});var a,c=[gk,bk];{var u,d=[Z3,J3(function(p){u.insert(p)})],m=Y3(c.concat(r,d)),f=function(g){return Oi(X3(g),m)};a=function(g,b,C,v){u=C,f(g?g+"{"+b.styles+"}":b.styles),v&&(h.inserted[b.name]=!0)}}var h={key:o,sheet:new E3({key:o,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:a};return h.sheet.hydrate(l),h};var Ek=!0;function Q1(t,e,o){var n="";return o.split(" ").forEach(function(r){t[r]!==void 0?e.push(t[r]+";"):r&&(n+=r+" ")}),n}var Lf=function(e,o,n){var r=e.key+"-"+o.name;(n===!1||Ek===!1)&&e.registered[r]===void 0&&(e.registered[r]=o.styles)},K1=function(e,o,n){Lf(e,o,n);var r=e.key+"-"+o.name;if(e.inserted[o.name]===void 0){var s=o;do e.insert(o===s?"."+r:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function dS(t){for(var e=0,o,n=0,r=t.length;r>=4;++n,r-=4)o=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,o=(o&65535)*1540483477+((o>>>16)*59797<<16),o^=o>>>24,e=(o&65535)*1540483477+((o>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var mS={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var Nk=!1,Lk=/[A-Z]|^ms/g,$k=/_EMO_([^_]+?)_([^]*?)_EMO_/g,gS=function(e){return e.charCodeAt(1)===45},fS=function(e){return e!=null&&typeof e!="boolean"},eb=q3(function(t){return gS(t)?t:t.replace(Lk,"-$&").toLowerCase()}),pS=function(e,o){switch(e){case"animation":case"animationName":if(typeof o=="string")return o.replace($k,function(n,r,s){return Pn={name:r,styles:s,next:Pn},r})}return mS[e]!==1&&!gS(e)&&typeof o=="number"&&o!==0?o+"px":o},kk="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function tu(t,e,o){if(o==null)return"";var n=o;if(n.__emotion_styles!==void 0)return n;switch(typeof o){case"boolean":return"";case"object":{var r=o;if(r.anim===1)return Pn={name:r.name,styles:r.styles,next:Pn},r.name;var s=o;if(s.styles!==void 0){var i=s.next;if(i!==void 0)for(;i!==void 0;)Pn={name:i.name,styles:i.styles,next:Pn},i=i.next;var l=s.styles+";";return l}return jk(t,e,o)}case"function":{if(t!==void 0){var a=Pn,c=o(t);return Pn=a,tu(t,e,c)}break}}var u=o;if(e==null)return u;var d=e[u];return d!==void 0?d:u}function jk(t,e,o){var n="";if(Array.isArray(o))for(var r=0;r<o.length;r++)n+=tu(t,e,o[r])+";";else for(var s in o){var i=o[s];if(typeof i!="object"){var l=i;e!=null&&e[l]!==void 0?n+=s+"{"+e[l]+"}":fS(l)&&(n+=eb(s)+":"+pS(s,l)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&Nk)throw new Error(kk);if(Array.isArray(i)&&typeof i[0]=="string"&&(e==null||e[i[0]]===void 0))for(var a=0;a<i.length;a++)fS(i[a])&&(n+=eb(s)+":"+pS(s,i[a])+";");else{var c=tu(t,e,i);switch(s){case"animation":case"animationName":{n+=eb(s)+":"+c+";";break}default:n+=s+"{"+c+"}"}}}}return n}var hS=/label:\s*([^\s;{]+)\s*(;|$)/g,Pn;function $f(t,e,o){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,r="";Pn=void 0;var s=t[0];if(s==null||s.raw===void 0)n=!1,r+=tu(o,e,s);else{var i=s;r+=i[0]}for(var l=1;l<t.length;l++)if(r+=tu(o,e,t[l]),n){var a=s;r+=a[l]}hS.lastIndex=0;for(var c="",u;(u=hS.exec(r))!==null;)c+="-"+u[1];var d=dS(r)+c;return{name:d,styles:r,next:Pn}}import*as kf from"react";var Bk=function(e){return e()},Mk=kf.useInsertionEffect?kf.useInsertionEffect:!1,tb=Mk||Bk;var bS=!1,vS=Hr.createContext(typeof HTMLElement<"u"?U1({key:"css"}):null),Jge=vS.Provider;var CS=function(e){return Vk(function(o,n){var r=Ok(vS);return e(o,r,n)})},yS=Hr.createContext({});var jf={}.hasOwnProperty,ob="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",xS=function(e,o){var n={};for(var r in o)jf.call(o,r)&&(n[r]=o[r]);return n[ob]=e,n},Gk=function(e){var o=e.cache,n=e.serialized,r=e.isStringTag;return Lf(o,n,r),tb(function(){return K1(o,n,r)}),null},zk=CS(function(t,e,o){var n=t.css;typeof n=="string"&&e.registered[n]!==void 0&&(n=e.registered[n]);var r=t[ob],s=[n],i="";typeof t.className=="string"?i=Q1(e.registered,s,t.className):t.className!=null&&(i=t.className+" ");var l=$f(s,void 0,Hr.useContext(yS));i+=e.key+"-"+l.name;var a={};for(var c in t)jf.call(t,c)&&c!=="css"&&c!==ob&&!bS&&(a[c]=t[c]);return a.className=i,o&&(a.ref=o),Hr.createElement(Hr.Fragment,null,Hr.createElement(Gk,{cache:e,serialized:l,isStringTag:typeof r=="string"}),Hr.createElement(r,a))}),wS=zk;import*as al from"react";var i1e=hi(uS()),Le=function(e,o){var n=arguments;if(o==null||!jf.call(o,"css"))return al.createElement.apply(void 0,n);var r=n.length,s=new Array(r);s[0]=wS,s[1]=xS(e,o);for(var i=2;i<r;i++)s[i]=n[i];return al.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(Le||(Le={}));function ou(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return $f(e)}function SS(){var t=ou.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function IS(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}mP();import{useContext as Hk,useRef as sb,useState as Vf,useMemo as Uk,useCallback as rb,createContext as Xk}from"react";import{createPortal as Zk}from"react-dom";import{useLayoutEffect as Wk}from"react";var Bf=Wk;var Yk=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],ru=function(){};function Jk(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function DS(t,e){for(var o=arguments.length,n=new Array(o>2?o-2:0),r=2;r<o;r++)n[r-2]=arguments[r];var s=[].concat(n);if(e&&t)for(var i in e)e.hasOwnProperty(i)&&e[i]&&s.push("".concat(Jk(t,i)));return s.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var ll=function(e){return oj(e)?e.filter(Boolean):mn(e)==="object"&&e!==null?[e]:[]},TS=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var o=ir(e,Yk);return Ee({},o)},Kt=function(e,o,n){var r=e.cx,s=e.getStyles,i=e.getClassNames,l=e.className;return{css:s(o,e),className:r(n??{},i(o,e),l)}};function nu(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function qk(t){return nu(t)?window.innerHeight:t.clientHeight}function FS(t){return nu(t)?window.pageYOffset:t.scrollTop}function Gf(t,e){if(nu(t)){window.scrollTo(0,e);return}t.scrollTop=e}function Qk(t){var e=getComputedStyle(t),o=e.position==="absolute",n=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var r=t;r=r.parentElement;)if(e=getComputedStyle(r),!(o&&e.position==="static")&&n.test(e.overflow+e.overflowY+e.overflowX))return r;return document.documentElement}function Kk(t,e,o,n){return o*((t=t/n-1)*t*t+1)+e}function Mf(t,e){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ru,r=FS(t),s=e-r,i=10,l=0;function a(){l+=i;var c=Kk(l,r,s,o);Gf(t,c),l<o?window.requestAnimationFrame(a):n(t)}a()}function ib(t,e){var o=t.getBoundingClientRect(),n=e.getBoundingClientRect(),r=e.offsetHeight/3;n.bottom+r>o.bottom?Gf(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+r,t.scrollHeight)):n.top-r<o.top&&Gf(t,Math.max(e.offsetTop-r,0))}function ej(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function ab(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function RS(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var AS=!1,tj={get passive(){return AS=!0}},Of=typeof window<"u"?window:{};Of.addEventListener&&Of.removeEventListener&&(Of.addEventListener("p",ru,tj),Of.removeEventListener("p",ru,!1));var PS=AS;function ES(t){return t!=null}function oj(t){return Array.isArray(t)}function Vi(t,e,o){return t?e:o}var NS=function(e){for(var o=arguments.length,n=new Array(o>1?o-1:0),r=1;r<o;r++)n[r-1]=arguments[r];var s=Object.entries(e).filter(function(i){var l=fn(i,1),a=l[0];return!n.includes(a)});return s.reduce(function(i,l){var a=fn(l,2),c=a[0],u=a[1];return i[c]=u,i},{})},rj=["children","innerProps"],nj=["children","innerProps"];function sj(t){var e=t.maxHeight,o=t.menuEl,n=t.minHeight,r=t.placement,s=t.shouldScroll,i=t.isFixedPosition,l=t.controlHeight,a=Qk(o),c={placement:"bottom",maxHeight:e};if(!o||!o.offsetParent)return c;var u=a.getBoundingClientRect(),d=u.height,m=o.getBoundingClientRect(),f=m.bottom,h=m.height,p=m.top,g=o.offsetParent.getBoundingClientRect(),b=g.top,C=i?window.innerHeight:qk(a),v=FS(a),y=parseInt(getComputedStyle(o).marginBottom,10),x=parseInt(getComputedStyle(o).marginTop,10),w=b-x,S=C-p,T=w+v,I=d-v-p,R=f-C+v+y,F=v+p-x,_=160;switch(r){case"auto":case"bottom":if(S>=h)return{placement:"bottom",maxHeight:e};if(I>=h&&!i)return s&&Mf(a,R,_),{placement:"bottom",maxHeight:e};if(!i&&I>=n||i&&S>=n){s&&Mf(a,R,_);var D=i?S-y:I-y;return{placement:"bottom",maxHeight:D}}if(r==="auto"||i){var A=e,L=i?w:T;return L>=n&&(A=Math.min(L-y-l,e)),{placement:"top",maxHeight:A}}if(r==="bottom")return s&&Gf(a,R),{placement:"bottom",maxHeight:e};break;case"top":if(w>=h)return{placement:"top",maxHeight:e};if(T>=h&&!i)return s&&Mf(a,F,_),{placement:"top",maxHeight:e};if(!i&&T>=n||i&&w>=n){var E=e;return(!i&&T>=n||i&&w>=n)&&(E=i?w-x:T-x),s&&Mf(a,F,_),{placement:"top",maxHeight:E}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(r,'".'))}return c}function ij(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var LS=function(e){return e==="auto"?"bottom":e},$S=function(e,o){var n,r=e.placement,s=e.theme,i=s.borderRadius,l=s.spacing,a=s.colors;return Ee((n={label:"menu"},Bi(n,ij(r),"100%"),Bi(n,"position","absolute"),Bi(n,"width","100%"),Bi(n,"zIndex",1),n),o?{}:{backgroundColor:a.neutral0,borderRadius:i,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},kS=Xk(null),jS=function(e){var o=e.children,n=e.minMenuHeight,r=e.maxMenuHeight,s=e.menuPlacement,i=e.menuPosition,l=e.menuShouldScrollIntoView,a=e.theme,c=Hk(kS)||{},u=c.setPortalPlacement,d=sb(null),m=Vf(r),f=fn(m,2),h=f[0],p=f[1],g=Vf(null),b=fn(g,2),C=b[0],v=b[1],y=a.spacing.controlHeight;return Bf(function(){var x=d.current;if(x){var w=i==="fixed",S=l&&!w,T=sj({maxHeight:r,menuEl:x,minHeight:n,placement:s,shouldScroll:S,isFixedPosition:w,controlHeight:y});p(T.maxHeight),v(T.placement),u?.(T.placement)}},[r,s,i,l,n,u,y]),o({ref:d,placerProps:Ee(Ee({},e),{},{placement:C||LS(s),maxHeight:h})})},aj=function(e){var o=e.children,n=e.innerRef,r=e.innerProps;return Le("div",Pe({},Kt(e,"menu",{menu:!0}),{ref:n},r),o)},lj=aj,BS=function(e,o){var n=e.maxHeight,r=e.theme.spacing.baseUnit;return Ee({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},o?{}:{paddingBottom:r,paddingTop:r})},cj=function(e){var o=e.children,n=e.innerProps,r=e.innerRef,s=e.isMulti;return Le("div",Pe({},Kt(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:r},n),o)},MS=function(e,o){var n=e.theme,r=n.spacing.baseUnit,s=n.colors;return Ee({textAlign:"center"},o?{}:{color:s.neutral40,padding:"".concat(r*2,"px ").concat(r*3,"px")})},OS=MS,VS=MS,uj=function(e){var o=e.children,n=o===void 0?"No options":o,r=e.innerProps,s=ir(e,rj);return Le("div",Pe({},Kt(Ee(Ee({},s),{},{children:n,innerProps:r}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),r),n)},dj=function(e){var o=e.children,n=o===void 0?"Loading...":o,r=e.innerProps,s=ir(e,nj);return Le("div",Pe({},Kt(Ee(Ee({},s),{},{children:n,innerProps:r}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),r),n)},GS=function(e){var o=e.rect,n=e.offset,r=e.position;return{left:o.left,position:r,top:n,width:o.width,zIndex:1}},mj=function(e){var o=e.appendTo,n=e.children,r=e.controlElement,s=e.innerProps,i=e.menuPlacement,l=e.menuPosition,a=sb(null),c=sb(null),u=Vf(LS(i)),d=fn(u,2),m=d[0],f=d[1],h=Uk(function(){return{setPortalPlacement:f}},[]),p=Vf(null),g=fn(p,2),b=g[0],C=g[1],v=rb(function(){if(r){var S=ej(r),T=l==="fixed"?0:window.pageYOffset,I=S[m]+T;(I!==b?.offset||S.left!==b?.rect.left||S.width!==b?.rect.width)&&C({offset:I,rect:S})}},[r,l,m,b?.offset,b?.rect.left,b?.rect.width]);Bf(function(){v()},[v]);var y=rb(function(){typeof c.current=="function"&&(c.current(),c.current=null),r&&a.current&&(c.current=jy(r,a.current,v,{elementResize:"ResizeObserver"in window}))},[r,v]);Bf(function(){y()},[y]);var x=rb(function(S){a.current=S,y()},[y]);if(!o&&l!=="fixed"||!b)return null;var w=Le("div",Pe({ref:x},Kt(Ee(Ee({},e),{},{offset:b.offset,position:l,rect:b.rect}),"menuPortal",{"menu-portal":!0}),s),n);return Le(kS.Provider,{value:h},o?Zk(w,o):w)},zS=function(e){var o=e.isDisabled,n=e.isRtl;return{label:"container",direction:n?"rtl":void 0,pointerEvents:o?"none":void 0,position:"relative"}},fj=function(e){var o=e.children,n=e.innerProps,r=e.isDisabled,s=e.isRtl;return Le("div",Pe({},Kt(e,"container",{"--is-disabled":r,"--is-rtl":s}),n),o)},WS=function(e,o){var n=e.theme.spacing,r=e.isMulti,s=e.hasValue,i=e.selectProps.controlShouldRenderValue;return Ee({alignItems:"center",display:r&&s&&i?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},o?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px")})},pj=function(e){var o=e.children,n=e.innerProps,r=e.isMulti,s=e.hasValue;return Le("div",Pe({},Kt(e,"valueContainer",{"value-container":!0,"value-container--is-multi":r,"value-container--has-value":s}),n),o)},HS=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},hj=function(e){var o=e.children,n=e.innerProps;return Le("div",Pe({},Kt(e,"indicatorsContainer",{indicators:!0}),n),o)},_S,gj=["size"],bj=["innerProps","isRtl","size"];var vj={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},US=function(e){var o=e.size,n=ir(e,gj);return Le("svg",Pe({height:o,width:o,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:vj},n))},lb=function(e){return Le(US,Pe({size:20},e),Le("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},XS=function(e){return Le(US,Pe({size:20},e),Le("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},ZS=function(e,o){var n=e.isFocused,r=e.theme,s=r.spacing.baseUnit,i=r.colors;return Ee({label:"indicatorContainer",display:"flex",transition:"color 150ms"},o?{}:{color:n?i.neutral60:i.neutral20,padding:s*2,":hover":{color:n?i.neutral80:i.neutral40}})},YS=ZS,Cj=function(e){var o=e.children,n=e.innerProps;return Le("div",Pe({},Kt(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),o||Le(XS,null))},JS=ZS,yj=function(e){var o=e.children,n=e.innerProps;return Le("div",Pe({},Kt(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),o||Le(lb,null))},qS=function(e,o){var n=e.isDisabled,r=e.theme,s=r.spacing.baseUnit,i=r.colors;return Ee({label:"indicatorSeparator",alignSelf:"stretch",width:1},o?{}:{backgroundColor:n?i.neutral10:i.neutral20,marginBottom:s*2,marginTop:s*2})},xj=function(e){var o=e.innerProps;return Le("span",Pe({},o,Kt(e,"indicatorSeparator",{"indicator-separator":!0})))},wj=SS(_S||(_S=IS([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),QS=function(e,o){var n=e.isFocused,r=e.size,s=e.theme,i=s.colors,l=s.spacing.baseUnit;return Ee({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:r,lineHeight:1,marginRight:r,textAlign:"center",verticalAlign:"middle"},o?{}:{color:n?i.neutral60:i.neutral20,padding:l*2})},nb=function(e){var o=e.delay,n=e.offset;return Le("span",{css:ou({animation:"".concat(wj," 1s ease-in-out ").concat(o,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Sj=function(e){var o=e.innerProps,n=e.isRtl,r=e.size,s=r===void 0?4:r,i=ir(e,bj);return Le("div",Pe({},Kt(Ee(Ee({},i),{},{innerProps:o,isRtl:n,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),o),Le(nb,{delay:0,offset:n}),Le(nb,{delay:160,offset:!0}),Le(nb,{delay:320,offset:!n}))},KS=function(e,o){var n=e.isDisabled,r=e.isFocused,s=e.theme,i=s.colors,l=s.borderRadius,a=s.spacing;return Ee({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:a.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},o?{}:{backgroundColor:n?i.neutral5:i.neutral0,borderColor:n?i.neutral10:r?i.primary:i.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:r?"0 0 0 1px ".concat(i.primary):void 0,"&:hover":{borderColor:r?i.primary:i.neutral30}})},Ij=function(e){var o=e.children,n=e.isDisabled,r=e.isFocused,s=e.innerRef,i=e.innerProps,l=e.menuIsOpen;return Le("div",Pe({ref:s},Kt(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":r,"control--menu-is-open":l}),i,{"aria-disabled":n||void 0}),o)},_j=Ij,Dj=["data"],eI=function(e,o){var n=e.theme.spacing;return o?{}:{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},Tj=function(e){var o=e.children,n=e.cx,r=e.getStyles,s=e.getClassNames,i=e.Heading,l=e.headingProps,a=e.innerProps,c=e.label,u=e.theme,d=e.selectProps;return Le("div",Pe({},Kt(e,"group",{group:!0}),a),Le(i,Pe({},l,{selectProps:d,theme:u,getStyles:r,getClassNames:s,cx:n}),c),Le("div",null,o))},tI=function(e,o){var n=e.theme,r=n.colors,s=n.spacing;return Ee({label:"group",cursor:"default",display:"block"},o?{}:{color:r.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},Fj=function(e){var o=TS(e);o.data;var n=ir(o,Dj);return Le("div",Pe({},Kt(e,"groupHeading",{"group-heading":!0}),n))},Rj=Tj,Aj=["innerRef","isDisabled","isHidden","inputClassName"],oI=function(e,o){var n=e.isDisabled,r=e.value,s=e.theme,i=s.spacing,l=s.colors;return Ee(Ee({visibility:n?"hidden":"visible",transform:r?"translateZ(0)":""},Pj),o?{}:{margin:i.baseUnit/2,paddingBottom:i.baseUnit/2,paddingTop:i.baseUnit/2,color:l.neutral80})},rI={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Pj={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Ee({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},rI)},Ej=function(e){return Ee({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},rI)},Nj=function(e){var o=e.cx,n=e.value,r=TS(e),s=r.innerRef,i=r.isDisabled,l=r.isHidden,a=r.inputClassName,c=ir(r,Aj);return Le("div",Pe({},Kt(e,"input",{"input-container":!0}),{"data-value":n||""}),Le("input",Pe({className:o({input:!0},a),ref:s,style:Ej(l),disabled:i},c)))},Lj=Nj,nI=function(e,o){var n=e.theme,r=n.spacing,s=n.borderRadius,i=n.colors;return Ee({label:"multiValue",display:"flex",minWidth:0},o?{}:{backgroundColor:i.neutral10,borderRadius:s/2,margin:r.baseUnit/2})},sI=function(e,o){var n=e.theme,r=n.borderRadius,s=n.colors,i=e.cropWithEllipsis;return Ee({overflow:"hidden",textOverflow:i||i===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},o?{}:{borderRadius:r/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},iI=function(e,o){var n=e.theme,r=n.spacing,s=n.borderRadius,i=n.colors,l=e.isFocused;return Ee({alignItems:"center",display:"flex"},o?{}:{borderRadius:s/2,backgroundColor:l?i.dangerLight:void 0,paddingLeft:r.baseUnit,paddingRight:r.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}})},aI=function(e){var o=e.children,n=e.innerProps;return Le("div",n,o)},$j=aI,kj=aI;function jj(t){var e=t.children,o=t.innerProps;return Le("div",Pe({role:"button"},o),e||Le(lb,{size:14}))}var Bj=function(e){var o=e.children,n=e.components,r=e.data,s=e.innerProps,i=e.isDisabled,l=e.removeProps,a=e.selectProps,c=n.Container,u=n.Label,d=n.Remove;return Le(c,{data:r,innerProps:Ee(Ee({},Kt(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":i})),s),selectProps:a},Le(u,{data:r,innerProps:Ee({},Kt(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:a},o),Le(d,{data:r,innerProps:Ee(Ee({},Kt(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(o||"option")},l),selectProps:a}))},Mj=Bj,lI=function(e,o){var n=e.isDisabled,r=e.isFocused,s=e.isSelected,i=e.theme,l=i.spacing,a=i.colors;return Ee({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},o?{}:{backgroundColor:s?a.primary:r?a.primary25:"transparent",color:n?a.neutral20:s?a.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:n?void 0:s?a.primary:a.primary50}})},Oj=function(e){var o=e.children,n=e.isDisabled,r=e.isFocused,s=e.isSelected,i=e.innerRef,l=e.innerProps;return Le("div",Pe({},Kt(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":r,"option--is-selected":s}),{ref:i,"aria-disabled":n},l),o)},Vj=Oj,cI=function(e,o){var n=e.theme,r=n.spacing,s=n.colors;return Ee({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},o?{}:{color:s.neutral50,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2})},Gj=function(e){var o=e.children,n=e.innerProps;return Le("div",Pe({},Kt(e,"placeholder",{placeholder:!0}),n),o)},zj=Gj,uI=function(e,o){var n=e.isDisabled,r=e.theme,s=r.spacing,i=r.colors;return Ee({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},o?{}:{color:n?i.neutral40:i.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},Wj=function(e){var o=e.children,n=e.isDisabled,r=e.innerProps;return Le("div",Pe({},Kt(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),r),o)},Hj=Wj,To={ClearIndicator:yj,Control:_j,DropdownIndicator:Cj,DownChevron:XS,CrossIcon:lb,Group:Rj,GroupHeading:Fj,IndicatorsContainer:hj,IndicatorSeparator:xj,Input:Lj,LoadingIndicator:Sj,Menu:lj,MenuList:cj,MenuPortal:mj,LoadingMessage:dj,NoOptionsMessage:uj,MultiValue:Mj,MultiValueContainer:$j,MultiValueLabel:kj,MultiValueRemove:jj,Option:Vj,Placeholder:zj,SelectContainer:fj,SingleValue:Hj,ValueContainer:pj},dI=function(e){return Ee(Ee({},To),e.components)};var mI=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Uj(t,e){return!!(t===e||mI(t)&&mI(e))}function Xj(t,e){if(t.length!==e.length)return!1;for(var o=0;o<t.length;o++)if(!Uj(t[o],e[o]))return!1;return!0}function fI(t,e){e===void 0&&(e=Xj);var o=null;function n(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];if(o&&o.lastThis===this&&e(r,o.lastArgs))return o.lastResult;var i=t.apply(this,r);return o={lastResult:i,lastArgs:r,lastThis:this},i}return n.clear=function(){o=null},n}var Yj={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Jj=function(e){return Le("span",Pe({css:Yj},e))},pI=Jj,qj={guidance:function(e){var o=e.isSearchable,n=e.isMulti,r=e.tabSelectsValue,s=e.context,i=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(r?", press Tab to select the option and exit the menu":"",".");case"input":return i?"".concat(e["aria-label"]||"Select"," is focused ").concat(o?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var o=e.action,n=e.label,r=n===void 0?"":n,s=e.labels,i=e.isDisabled;switch(o){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(r,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return i?"option ".concat(r," is disabled. Select another option."):"option ".concat(r,", selected.");default:return""}},onFocus:function(e){var o=e.context,n=e.focused,r=e.options,s=e.label,i=s===void 0?"":s,l=e.selectValue,a=e.isDisabled,c=e.isSelected,u=e.isAppleDevice,d=function(p,g){return p&&p.length?"".concat(p.indexOf(g)+1," of ").concat(p.length):""};if(o==="value"&&l)return"value ".concat(i," focused, ").concat(d(l,n),".");if(o==="menu"&&u){var m=a?" disabled":"",f="".concat(c?" selected":"").concat(m);return"".concat(i).concat(f,", ").concat(d(r,n),".")}return""},onFilter:function(e){var o=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(o?" for search term "+o:"",".")}},Qj=function(e){var o=e.ariaSelection,n=e.focusedOption,r=e.focusedValue,s=e.focusableOptions,i=e.isFocused,l=e.selectValue,a=e.selectProps,c=e.id,u=e.isAppleDevice,d=a.ariaLiveMessages,m=a.getOptionLabel,f=a.inputValue,h=a.isMulti,p=a.isOptionDisabled,g=a.isSearchable,b=a.menuIsOpen,C=a.options,v=a.screenReaderStatus,y=a.tabSelectsValue,x=a.isLoading,w=a["aria-label"],S=a["aria-live"],T=su(function(){return Ee(Ee({},qj),d||{})},[d]),I=su(function(){var L="";if(o&&T.onChange){var E=o.option,k=o.options,B=o.removedValue,$=o.removedValues,P=o.value,M=function(Q){return Array.isArray(Q)?null:Q},j=B||E||M(P),O=j?m(j):"",G=k||$||void 0,V=G?G.map(m):[],z=Ee({isDisabled:j&&p(j,l),label:O,labels:V},o);L=T.onChange(z)}return L},[o,T,p,l,m]),R=su(function(){var L="",E=n||r,k=!!(n&&l&&l.includes(n));if(E&&T.onFocus){var B={focused:E,label:m(E),isDisabled:p(E,l),isSelected:k,options:s,context:E===n?"menu":"value",selectValue:l,isAppleDevice:u};L=T.onFocus(B)}return L},[n,r,m,p,T,s,l,u]),F=su(function(){var L="";if(b&&C.length&&!x&&T.onFilter){var E=v({count:s.length});L=T.onFilter({inputValue:f,resultsMessage:E})}return L},[s,f,b,T,C,v,x]),_=o?.action==="initial-input-focus",D=su(function(){var L="";if(T.guidance){var E=r?"value":b?"menu":"input";L=T.guidance({"aria-label":w,context:E,isDisabled:n&&p(n,l),isMulti:h,isSearchable:g,tabSelectsValue:y,isInitialFocus:_})}return L},[w,n,r,h,p,g,b,T,l,y,_]),A=Le(db,null,Le("span",{id:"aria-selection"},I),Le("span",{id:"aria-focused"},R),Le("span",{id:"aria-results"},F),Le("span",{id:"aria-guidance"},D));return Le(db,null,Le(pI,{id:c},_&&A),Le(pI,{"aria-live":S,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},i&&!_&&A))},Kj=Qj,mb=[{base:"A",letters:"A\u24B6\uFF21\xC0\xC1\xC2\u1EA6\u1EA4\u1EAA\u1EA8\xC3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\xC4\u01DE\u1EA2\xC5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F"},{base:"AA",letters:"\uA732"},{base:"AE",letters:"\xC6\u01FC\u01E2"},{base:"AO",letters:"\uA734"},{base:"AU",letters:"\uA736"},{base:"AV",letters:"\uA738\uA73A"},{base:"AY",letters:"\uA73C"},{base:"B",letters:"B\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181"},{base:"C",letters:"C\u24B8\uFF23\u0106\u0108\u010A\u010C\xC7\u1E08\u0187\u023B\uA73E"},{base:"D",letters:"D\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779"},{base:"DZ",letters:"\u01F1\u01C4"},{base:"Dz",letters:"\u01F2\u01C5"},{base:"E",letters:"E\u24BA\uFF25\xC8\xC9\xCA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\xCB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E"},{base:"F",letters:"F\u24BB\uFF26\u1E1E\u0191\uA77B"},{base:"G",letters:"G\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E"},{base:"H",letters:"H\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D"},{base:"I",letters:"I\u24BE\uFF29\xCC\xCD\xCE\u0128\u012A\u012C\u0130\xCF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197"},{base:"J",letters:"J\u24BF\uFF2A\u0134\u0248"},{base:"K",letters:"K\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2"},{base:"L",letters:"L\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780"},{base:"LJ",letters:"\u01C7"},{base:"Lj",letters:"\u01C8"},{base:"M",letters:"M\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C"},{base:"N",letters:"N\u24C3\uFF2E\u01F8\u0143\xD1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4"},{base:"NJ",letters:"\u01CA"},{base:"Nj",letters:"\u01CB"},{base:"O",letters:"O\u24C4\uFF2F\xD2\xD3\xD4\u1ED2\u1ED0\u1ED6\u1ED4\xD5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\xD6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\xD8\u01FE\u0186\u019F\uA74A\uA74C"},{base:"OI",letters:"\u01A2"},{base:"OO",letters:"\uA74E"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754"},{base:"Q",letters:"Q\u24C6\uFF31\uA756\uA758\u024A"},{base:"R",letters:"R\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782"},{base:"S",letters:"S\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784"},{base:"T",letters:"T\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786"},{base:"TZ",letters:"\uA728"},{base:"U",letters:"U\u24CA\uFF35\xD9\xDA\xDB\u0168\u1E78\u016A\u1E7A\u016C\xDC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244"},{base:"V",letters:"V\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245"},{base:"VY",letters:"\uA760"},{base:"W",letters:"W\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72"},{base:"X",letters:"X\u24CD\uFF38\u1E8A\u1E8C"},{base:"Y",letters:"Y\u24CE\uFF39\u1EF2\xDD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE"},{base:"Z",letters:"Z\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762"},{base:"a",letters:"a\u24D0\uFF41\u1E9A\xE0\xE1\xE2\u1EA7\u1EA5\u1EAB\u1EA9\xE3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\xE4\u01DF\u1EA3\xE5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250"},{base:"aa",letters:"\uA733"},{base:"ae",letters:"\xE6\u01FD\u01E3"},{base:"ao",letters:"\uA735"},{base:"au",letters:"\uA737"},{base:"av",letters:"\uA739\uA73B"},{base:"ay",letters:"\uA73D"},{base:"b",letters:"b\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253"},{base:"c",letters:"c\u24D2\uFF43\u0107\u0109\u010B\u010D\xE7\u1E09\u0188\u023C\uA73F\u2184"},{base:"d",letters:"d\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A"},{base:"dz",letters:"\u01F3\u01C6"},{base:"e",letters:"e\u24D4\uFF45\xE8\xE9\xEA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\xEB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD"},{base:"f",letters:"f\u24D5\uFF46\u1E1F\u0192\uA77C"},{base:"g",letters:"g\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F"},{base:"h",letters:"h\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24D8\uFF49\xEC\xED\xEE\u0129\u012B\u012D\xEF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131"},{base:"j",letters:"j\u24D9\uFF4A\u0135\u01F0\u0249"},{base:"k",letters:"k\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3"},{base:"l",letters:"l\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747"},{base:"lj",letters:"\u01C9"},{base:"m",letters:"m\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F"},{base:"n",letters:"n\u24DD\uFF4E\u01F9\u0144\xF1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5"},{base:"nj",letters:"\u01CC"},{base:"o",letters:"o\u24DE\uFF4F\xF2\xF3\xF4\u1ED3\u1ED1\u1ED7\u1ED5\xF5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\xF6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\xF8\u01FF\u0254\uA74B\uA74D\u0275"},{base:"oi",letters:"\u01A3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\uA74F"},{base:"p",letters:"p\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755"},{base:"q",letters:"q\u24E0\uFF51\u024B\uA757\uA759"},{base:"r",letters:"r\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783"},{base:"s",letters:"s\u24E2\uFF53\xDF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B"},{base:"t",letters:"t\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787"},{base:"tz",letters:"\uA729"},{base:"u",letters:"u\u24E4\uFF55\xF9\xFA\xFB\u0169\u1E79\u016B\u1E7B\u016D\xFC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289"},{base:"v",letters:"v\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C"},{base:"vy",letters:"\uA761"},{base:"w",letters:"w\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73"},{base:"x",letters:"x\u24E7\uFF58\u1E8B\u1E8D"},{base:"y",letters:"y\u24E8\uFF59\u1EF3\xFD\u0177\u1EF9\u0233\u1E8F\xFF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF"},{base:"z",letters:"z\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763"}],eB=new RegExp("["+mb.map(function(t){return t.letters}).join("")+"]","g"),TI={};for(zf=0;zf<mb.length;zf++)for(Wf=mb[zf],Hf=0;Hf<Wf.letters.length;Hf++)TI[Wf.letters[Hf]]=Wf.base;var Wf,Hf,zf,FI=function(e){return e.replace(eB,function(o){return TI[o]})},tB=fI(FI),hI=function(e){return e.replace(/^\s+|\s+$/g,"")},oB=function(e){return"".concat(e.label," ").concat(e.value)},rB=function(e){return function(o,n){if(o.data.__isNew__)return!0;var r=Ee({ignoreCase:!0,ignoreAccents:!0,stringify:oB,trim:!0,matchFrom:"any"},e),s=r.ignoreCase,i=r.ignoreAccents,l=r.stringify,a=r.trim,c=r.matchFrom,u=a?hI(n):n,d=a?hI(l(o)):l(o);return s&&(u=u.toLowerCase(),d=d.toLowerCase()),i&&(u=tB(u),d=FI(d)),c==="start"?d.substr(0,u.length)===u:d.indexOf(u)>-1}},nB=["innerRef"];function sB(t){var e=t.innerRef,o=ir(t,nB),n=NS(o,"onExited","in","enter","exit","appear");return Le("input",Pe({ref:e},n,{css:ou({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var iB=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function aB(t){var e=t.isEnabled,o=t.onBottomArrive,n=t.onBottomLeave,r=t.onTopArrive,s=t.onTopLeave,i=ul(!1),l=ul(!1),a=ul(0),c=ul(null),u=Hs(function(g,b){if(c.current!==null){var C=c.current,v=C.scrollTop,y=C.scrollHeight,x=C.clientHeight,w=c.current,S=b>0,T=y-x-v,I=!1;T>b&&i.current&&(n&&n(g),i.current=!1),S&&l.current&&(s&&s(g),l.current=!1),S&&b>T?(o&&!i.current&&o(g),w.scrollTop=y,I=!0,i.current=!0):!S&&-b>v&&(r&&!l.current&&r(g),w.scrollTop=0,I=!0,l.current=!0),I&&iB(g)}},[o,n,r,s]),d=Hs(function(g){u(g,g.deltaY)},[u]),m=Hs(function(g){a.current=g.changedTouches[0].clientY},[]),f=Hs(function(g){var b=a.current-g.changedTouches[0].clientY;u(g,b)},[u]),h=Hs(function(g){if(g){var b=PS?{passive:!1}:!1;g.addEventListener("wheel",d,b),g.addEventListener("touchstart",m,b),g.addEventListener("touchmove",f,b)}},[f,m,d]),p=Hs(function(g){g&&(g.removeEventListener("wheel",d,!1),g.removeEventListener("touchstart",m,!1),g.removeEventListener("touchmove",f,!1))},[f,m,d]);return DI(function(){if(e){var g=c.current;return h(g),function(){p(g)}}},[e,h,p]),function(g){c.current=g}}var gI=["boxSizing","height","overflow","paddingRight","position"],bI={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function vI(t){t.cancelable&&t.preventDefault()}function CI(t){t.stopPropagation()}function yI(){var t=this.scrollTop,e=this.scrollHeight,o=t+this.offsetHeight;t===0?this.scrollTop=1:o===e&&(this.scrollTop=t-1)}function xI(){return"ontouchstart"in window||navigator.maxTouchPoints}var wI=!!(typeof window<"u"&&window.document&&window.document.createElement),iu=0,cl={capture:!1,passive:!1};function lB(t){var e=t.isEnabled,o=t.accountForScrollbars,n=o===void 0?!0:o,r=ul({}),s=ul(null),i=Hs(function(a){if(wI){var c=document.body,u=c&&c.style;if(n&&gI.forEach(function(h){var p=u&&u[h];r.current[h]=p}),n&&iu<1){var d=parseInt(r.current.paddingRight,10)||0,m=document.body?document.body.clientWidth:0,f=window.innerWidth-m+d||0;Object.keys(bI).forEach(function(h){var p=bI[h];u&&(u[h]=p)}),u&&(u.paddingRight="".concat(f,"px"))}c&&xI()&&(c.addEventListener("touchmove",vI,cl),a&&(a.addEventListener("touchstart",yI,cl),a.addEventListener("touchmove",CI,cl))),iu+=1}},[n]),l=Hs(function(a){if(wI){var c=document.body,u=c&&c.style;iu=Math.max(iu-1,0),n&&iu<1&&gI.forEach(function(d){var m=r.current[d];u&&(u[d]=m)}),c&&xI()&&(c.removeEventListener("touchmove",vI,cl),a&&(a.removeEventListener("touchstart",yI,cl),a.removeEventListener("touchmove",CI,cl)))}},[n]);return DI(function(){if(e){var a=s.current;return i(a),function(){l(a)}}},[e,i,l]),function(a){s.current=a}}var cB=function(e){var o=e.target;return o.ownerDocument.activeElement&&o.ownerDocument.activeElement.blur()},uB={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function dB(t){var e=t.children,o=t.lockEnabled,n=t.captureEnabled,r=n===void 0?!0:n,s=t.onBottomArrive,i=t.onBottomLeave,l=t.onTopArrive,a=t.onTopLeave,c=aB({isEnabled:r,onBottomArrive:s,onBottomLeave:i,onTopArrive:l,onTopLeave:a}),u=lB({isEnabled:o}),d=function(f){c(f),u(f)};return Le(db,null,o&&Le("div",{onClick:cB,css:uB}),e(d))}var mB={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},fB=function(e){var o=e.name,n=e.onFocus;return Le("input",{required:!0,name:o,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:mB,value:"",onChange:function(){}})},pB=fB;function fb(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function hB(){return fb(/^iPhone/i)}function RI(){return fb(/^Mac/i)}function gB(){return fb(/^iPad/i)||RI()&&navigator.maxTouchPoints>1}function bB(){return hB()||gB()}function vB(){return RI()||bB()}var CB=function(e){return e.label},pb=function(e){return e.label},hb=function(e){return e.value},yB=function(e){return!!e.isDisabled},xB={clearIndicator:JS,container:zS,control:KS,dropdownIndicator:YS,group:eI,groupHeading:tI,indicatorsContainer:HS,indicatorSeparator:qS,input:oI,loadingIndicator:QS,loadingMessage:VS,menu:$S,menuList:BS,menuPortal:GS,multiValue:nI,multiValueLabel:sI,multiValueRemove:iI,noOptionsMessage:OS,option:lI,placeholder:cI,singleValue:uI,valueContainer:WS};var wB={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},SB=4,AI=4,IB=38,_B=AI*2,DB={baseUnit:AI,controlHeight:IB,menuGutter:_B},cb={borderRadius:SB,colors:wB,spacing:DB},TB={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:ab(),captureMenuScroll:!ab(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:rB(),formatGroupLabel:CB,getOptionLabel:pb,getOptionValue:hb,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:yB,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!RS(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var o=e.count;return"".concat(o," result").concat(o!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function SI(t,e,o,n){var r=NI(t,e,o),s=LI(t,e,o),i=EI(t,e),l=Xf(t,e);return{type:"option",data:e,isDisabled:r,isSelected:s,label:i,value:l,index:n}}function Uf(t,e){return t.options.map(function(o,n){if("options"in o){var r=o.options.map(function(i,l){return SI(t,i,e,l)}).filter(function(i){return _I(t,i)});return r.length>0?{type:"group",data:o,options:r,index:n}:void 0}var s=SI(t,o,e,n);return _I(t,s)?s:void 0}).filter(ES)}function PI(t){return t.reduce(function(e,o){return o.type==="group"?e.push.apply(e,zs(o.options.map(function(n){return n.data}))):e.push(o.data),e},[])}function II(t,e){return t.reduce(function(o,n){return n.type==="group"?o.push.apply(o,zs(n.options.map(function(r){return{data:r.data,id:"".concat(e,"-").concat(n.index,"-").concat(r.index)}}))):o.push({data:n.data,id:"".concat(e,"-").concat(n.index)}),o},[])}function FB(t,e){return PI(Uf(t,e))}function _I(t,e){var o=t.inputValue,n=o===void 0?"":o,r=e.data,s=e.isSelected,i=e.label,l=e.value;return(!kI(t)||!s)&&$I(t,{label:i,value:l,data:r},n)}function RB(t,e){var o=t.focusedValue,n=t.selectValue,r=n.indexOf(o);if(r>-1){var s=e.indexOf(o);if(s>-1)return o;if(r<e.length)return e[r]}return null}function AB(t,e){var o=t.focusedOption;return o&&e.indexOf(o)>-1?o:e[0]}var ub=function(e,o){var n,r=(n=e.find(function(s){return s.data===o}))===null||n===void 0?void 0:n.id;return r||null},EI=function(e,o){return e.getOptionLabel(o)},Xf=function(e,o){return e.getOptionValue(o)};function NI(t,e,o){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,o):!1}function LI(t,e,o){if(o.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,o);var n=Xf(t,e);return o.some(function(r){return Xf(t,r)===n})}function $I(t,e,o){return t.filterOption?t.filterOption(e,o):!0}var kI=function(e){var o=e.hideSelectedOptions,n=e.isMulti;return o===void 0?n:o},PB=1,au=function(t){D3(o,t);var e=F3(o);function o(n){var r;if(S3(this,o),r=e.call(this,n),r.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},r.blockOptionHover=!1,r.isComposing=!1,r.commonProps=void 0,r.initialTouchX=0,r.initialTouchY=0,r.openAfterFocus=!1,r.scrollToFocusedOptionOnUpdate=!1,r.userIsDragging=void 0,r.isAppleDevice=vB(),r.controlRef=null,r.getControlRef=function(a){r.controlRef=a},r.focusedOptionRef=null,r.getFocusedOptionRef=function(a){r.focusedOptionRef=a},r.menuListRef=null,r.getMenuListRef=function(a){r.menuListRef=a},r.inputRef=null,r.getInputRef=function(a){r.inputRef=a},r.focus=r.focusInput,r.blur=r.blurInput,r.onChange=function(a,c){var u=r.props,d=u.onChange,m=u.name;c.name=m,r.ariaOnChange(a,c),d(a,c)},r.setValue=function(a,c,u){var d=r.props,m=d.closeMenuOnSelect,f=d.isMulti,h=d.inputValue;r.onInputChange("",{action:"set-value",prevInputValue:h}),m&&(r.setState({inputIsHiddenAfterUpdate:!f}),r.onMenuClose()),r.setState({clearFocusValueOnUpdate:!0}),r.onChange(a,{action:c,option:u})},r.selectOption=function(a){var c=r.props,u=c.blurInputOnSelect,d=c.isMulti,m=c.name,f=r.state.selectValue,h=d&&r.isOptionSelected(a,f),p=r.isOptionDisabled(a,f);if(h){var g=r.getOptionValue(a);r.setValue(f.filter(function(b){return r.getOptionValue(b)!==g}),"deselect-option",a)}else if(!p)d?r.setValue([].concat(zs(f),[a]),"select-option",a):r.setValue(a,"select-option");else{r.ariaOnChange(a,{action:"select-option",option:a,name:m});return}u&&r.blurInput()},r.removeValue=function(a){var c=r.props.isMulti,u=r.state.selectValue,d=r.getOptionValue(a),m=u.filter(function(h){return r.getOptionValue(h)!==d}),f=Vi(c,m,m[0]||null);r.onChange(f,{action:"remove-value",removedValue:a}),r.focusInput()},r.clearValue=function(){var a=r.state.selectValue;r.onChange(Vi(r.props.isMulti,[],null),{action:"clear",removedValues:a})},r.popValue=function(){var a=r.props.isMulti,c=r.state.selectValue,u=c[c.length-1],d=c.slice(0,c.length-1),m=Vi(a,d,d[0]||null);u&&r.onChange(m,{action:"pop-value",removedValue:u})},r.getFocusedOptionId=function(a){return ub(r.state.focusableOptionsWithIds,a)},r.getFocusableOptionsWithIds=function(){return II(Uf(r.props,r.state.selectValue),r.getElementId("option"))},r.getValue=function(){return r.state.selectValue},r.cx=function(){for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];return DS.apply(void 0,[r.props.classNamePrefix].concat(c))},r.getOptionLabel=function(a){return EI(r.props,a)},r.getOptionValue=function(a){return Xf(r.props,a)},r.getStyles=function(a,c){var u=r.props.unstyled,d=xB[a](c,u);d.boxSizing="border-box";var m=r.props.styles[a];return m?m(d,c):d},r.getClassNames=function(a,c){var u,d;return(u=(d=r.props.classNames)[a])===null||u===void 0?void 0:u.call(d,c)},r.getElementId=function(a){return"".concat(r.state.instancePrefix,"-").concat(a)},r.getComponents=function(){return dI(r.props)},r.buildCategorizedOptions=function(){return Uf(r.props,r.state.selectValue)},r.getCategorizedOptions=function(){return r.props.menuIsOpen?r.buildCategorizedOptions():[]},r.buildFocusableOptions=function(){return PI(r.buildCategorizedOptions())},r.getFocusableOptions=function(){return r.props.menuIsOpen?r.buildFocusableOptions():[]},r.ariaOnChange=function(a,c){r.setState({ariaSelection:Ee({value:a},c)})},r.onMenuMouseDown=function(a){a.button===0&&(a.stopPropagation(),a.preventDefault(),r.focusInput())},r.onMenuMouseMove=function(a){r.blockOptionHover=!1},r.onControlMouseDown=function(a){if(!a.defaultPrevented){var c=r.props.openMenuOnClick;r.state.isFocused?r.props.menuIsOpen?a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&r.onMenuClose():c&&r.openMenu("first"):(c&&(r.openAfterFocus=!0),r.focusInput()),a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&a.preventDefault()}},r.onDropdownIndicatorMouseDown=function(a){if(!(a&&a.type==="mousedown"&&a.button!==0)&&!r.props.isDisabled){var c=r.props,u=c.isMulti,d=c.menuIsOpen;r.focusInput(),d?(r.setState({inputIsHiddenAfterUpdate:!u}),r.onMenuClose()):r.openMenu("first"),a.preventDefault()}},r.onClearIndicatorMouseDown=function(a){a&&a.type==="mousedown"&&a.button!==0||(r.clearValue(),a.preventDefault(),r.openAfterFocus=!1,a.type==="touchend"?r.focusInput():setTimeout(function(){return r.focusInput()}))},r.onScroll=function(a){typeof r.props.closeMenuOnScroll=="boolean"?a.target instanceof HTMLElement&&nu(a.target)&&r.props.onMenuClose():typeof r.props.closeMenuOnScroll=="function"&&r.props.closeMenuOnScroll(a)&&r.props.onMenuClose()},r.onCompositionStart=function(){r.isComposing=!0},r.onCompositionEnd=function(){r.isComposing=!1},r.onTouchStart=function(a){var c=a.touches,u=c&&c.item(0);u&&(r.initialTouchX=u.clientX,r.initialTouchY=u.clientY,r.userIsDragging=!1)},r.onTouchMove=function(a){var c=a.touches,u=c&&c.item(0);if(u){var d=Math.abs(u.clientX-r.initialTouchX),m=Math.abs(u.clientY-r.initialTouchY),f=5;r.userIsDragging=d>f||m>f}},r.onTouchEnd=function(a){r.userIsDragging||(r.controlRef&&!r.controlRef.contains(a.target)&&r.menuListRef&&!r.menuListRef.contains(a.target)&&r.blurInput(),r.initialTouchX=0,r.initialTouchY=0)},r.onControlTouchEnd=function(a){r.userIsDragging||r.onControlMouseDown(a)},r.onClearIndicatorTouchEnd=function(a){r.userIsDragging||r.onClearIndicatorMouseDown(a)},r.onDropdownIndicatorTouchEnd=function(a){r.userIsDragging||r.onDropdownIndicatorMouseDown(a)},r.handleInputChange=function(a){var c=r.props.inputValue,u=a.currentTarget.value;r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange(u,{action:"input-change",prevInputValue:c}),r.props.menuIsOpen||r.onMenuOpen()},r.onInputFocus=function(a){r.props.onFocus&&r.props.onFocus(a),r.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(r.openAfterFocus||r.props.openMenuOnFocus)&&r.openMenu("first"),r.openAfterFocus=!1},r.onInputBlur=function(a){var c=r.props.inputValue;if(r.menuListRef&&r.menuListRef.contains(document.activeElement)){r.inputRef.focus();return}r.props.onBlur&&r.props.onBlur(a),r.onInputChange("",{action:"input-blur",prevInputValue:c}),r.onMenuClose(),r.setState({focusedValue:null,isFocused:!1})},r.onOptionHover=function(a){if(!(r.blockOptionHover||r.state.focusedOption===a)){var c=r.getFocusableOptions(),u=c.indexOf(a);r.setState({focusedOption:a,focusedOptionId:u>-1?r.getFocusedOptionId(a):null})}},r.shouldHideSelectedOptions=function(){return kI(r.props)},r.onValueInputFocus=function(a){a.preventDefault(),a.stopPropagation(),r.focus()},r.onKeyDown=function(a){var c=r.props,u=c.isMulti,d=c.backspaceRemovesValue,m=c.escapeClearsValue,f=c.inputValue,h=c.isClearable,p=c.isDisabled,g=c.menuIsOpen,b=c.onKeyDown,C=c.tabSelectsValue,v=c.openMenuOnFocus,y=r.state,x=y.focusedOption,w=y.focusedValue,S=y.selectValue;if(!p&&!(typeof b=="function"&&(b(a),a.defaultPrevented))){switch(r.blockOptionHover=!0,a.key){case"ArrowLeft":if(!u||f)return;r.focusValue("previous");break;case"ArrowRight":if(!u||f)return;r.focusValue("next");break;case"Delete":case"Backspace":if(f)return;if(w)r.removeValue(w);else{if(!d)return;u?r.popValue():h&&r.clearValue()}break;case"Tab":if(r.isComposing||a.shiftKey||!g||!C||!x||v&&r.isOptionSelected(x,S))return;r.selectOption(x);break;case"Enter":if(a.keyCode===229)break;if(g){if(!x||r.isComposing)return;r.selectOption(x);break}return;case"Escape":g?(r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange("",{action:"menu-close",prevInputValue:f}),r.onMenuClose()):h&&m&&r.clearValue();break;case" ":if(f)return;if(!g){r.openMenu("first");break}if(!x)return;r.selectOption(x);break;case"ArrowUp":g?r.focusOption("up"):r.openMenu("last");break;case"ArrowDown":g?r.focusOption("down"):r.openMenu("first");break;case"PageUp":if(!g)return;r.focusOption("pageup");break;case"PageDown":if(!g)return;r.focusOption("pagedown");break;case"Home":if(!g)return;r.focusOption("first");break;case"End":if(!g)return;r.focusOption("last");break;default:return}a.preventDefault()}},r.state.instancePrefix="react-select-"+(r.props.instanceId||++PB),r.state.selectValue=ll(n.value),n.menuIsOpen&&r.state.selectValue.length){var s=r.getFocusableOptionsWithIds(),i=r.buildFocusableOptions(),l=i.indexOf(r.state.selectValue[0]);r.state.focusableOptionsWithIds=s,r.state.focusedOption=i[l],r.state.focusedOptionId=ub(s,i[l])}return r}return _3(o,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&ib(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(r){var s=this.props,i=s.isDisabled,l=s.menuIsOpen,a=this.state.isFocused;(a&&!i&&r.isDisabled||a&&l&&!r.menuIsOpen)&&this.focusInput(),a&&i&&!r.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!a&&!i&&r.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(ib(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(r,s){this.props.onInputChange(r,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(r){var s=this,i=this.state,l=i.selectValue,a=i.isFocused,c=this.buildFocusableOptions(),u=r==="first"?0:c.length-1;if(!this.props.isMulti){var d=c.indexOf(l[0]);d>-1&&(u=d)}this.scrollToFocusedOptionOnUpdate=!(a&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:c[u],focusedOptionId:this.getFocusedOptionId(c[u])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(r){var s=this.state,i=s.selectValue,l=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var a=i.indexOf(l);l||(a=-1);var c=i.length-1,u=-1;if(i.length){switch(r){case"previous":a===0?u=0:a===-1?u=c:u=a-1;break;case"next":a>-1&&a<c&&(u=a+1);break}this.setState({inputIsHidden:u!==-1,focusedValue:i[u]})}}}},{key:"focusOption",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,i=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var a=0,c=l.indexOf(i);i||(c=-1),r==="up"?a=c>0?c-1:l.length-1:r==="down"?a=(c+1)%l.length:r==="pageup"?(a=c-s,a<0&&(a=0)):r==="pagedown"?(a=c+s,a>l.length-1&&(a=l.length-1)):r==="last"&&(a=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[a],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[a])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(cb):Ee(Ee({},cb),this.props.theme):cb}},{key:"getCommonProps",value:function(){var r=this.clearValue,s=this.cx,i=this.getStyles,l=this.getClassNames,a=this.getValue,c=this.selectOption,u=this.setValue,d=this.props,m=d.isMulti,f=d.isRtl,h=d.options,p=this.hasValue();return{clearValue:r,cx:s,getStyles:i,getClassNames:l,getValue:a,hasValue:p,isMulti:m,isRtl:f,options:h,selectOption:c,selectProps:d,setValue:u,theme:this.getTheme()}}},{key:"hasValue",value:function(){var r=this.state.selectValue;return r.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var r=this.props,s=r.isClearable,i=r.isMulti;return s===void 0?i:s}},{key:"isOptionDisabled",value:function(r,s){return NI(this.props,r,s)}},{key:"isOptionSelected",value:function(r,s){return LI(this.props,r,s)}},{key:"filterOption",value:function(r,s){return $I(this.props,r,s)}},{key:"formatOptionLabel",value:function(r,s){if(typeof this.props.formatOptionLabel=="function"){var i=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(r,{context:s,inputValue:i,selectValue:l})}else return this.getOptionLabel(r)}},{key:"formatGroupLabel",value:function(r){return this.props.formatGroupLabel(r)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var r=this.props,s=r.isDisabled,i=r.isSearchable,l=r.inputId,a=r.inputValue,c=r.tabIndex,u=r.form,d=r.menuIsOpen,m=r.required,f=this.getComponents(),h=f.Input,p=this.state,g=p.inputIsHidden,b=p.ariaSelection,C=this.commonProps,v=l||this.getElementId("input"),y=Ee(Ee(Ee({"aria-autocomplete":"list","aria-expanded":d,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":m,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},d&&{"aria-controls":this.getElementId("listbox")}),!i&&{"aria-readonly":!0}),this.hasValue()?b?.action==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return i?Ct.createElement(h,Pe({},C,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:v,innerRef:this.getInputRef,isDisabled:s,isHidden:g,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:c,form:u,type:"text",value:a},y)):Ct.createElement(sB,Pe({id:v,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:ru,onFocus:this.onInputFocus,disabled:s,tabIndex:c,inputMode:"none",form:u,value:""},y))}},{key:"renderPlaceholderOrValue",value:function(){var r=this,s=this.getComponents(),i=s.MultiValue,l=s.MultiValueContainer,a=s.MultiValueLabel,c=s.MultiValueRemove,u=s.SingleValue,d=s.Placeholder,m=this.commonProps,f=this.props,h=f.controlShouldRenderValue,p=f.isDisabled,g=f.isMulti,b=f.inputValue,C=f.placeholder,v=this.state,y=v.selectValue,x=v.focusedValue,w=v.isFocused;if(!this.hasValue()||!h)return b?null:Ct.createElement(d,Pe({},m,{key:"placeholder",isDisabled:p,isFocused:w,innerProps:{id:this.getElementId("placeholder")}}),C);if(g)return y.map(function(T,I){var R=T===x,F="".concat(r.getOptionLabel(T),"-").concat(r.getOptionValue(T));return Ct.createElement(i,Pe({},m,{components:{Container:l,Label:a,Remove:c},isFocused:R,isDisabled:p,key:F,index:I,removeProps:{onClick:function(){return r.removeValue(T)},onTouchEnd:function(){return r.removeValue(T)},onMouseDown:function(D){D.preventDefault()}},data:T}),r.formatOptionLabel(T,"value"))});if(b)return null;var S=y[0];return Ct.createElement(u,Pe({},m,{data:S,isDisabled:p}),this.formatOptionLabel(S,"value"))}},{key:"renderClearIndicator",value:function(){var r=this.getComponents(),s=r.ClearIndicator,i=this.commonProps,l=this.props,a=l.isDisabled,c=l.isLoading,u=this.state.isFocused;if(!this.isClearable()||!s||a||!this.hasValue()||c)return null;var d={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return Ct.createElement(s,Pe({},i,{innerProps:d,isFocused:u}))}},{key:"renderLoadingIndicator",value:function(){var r=this.getComponents(),s=r.LoadingIndicator,i=this.commonProps,l=this.props,a=l.isDisabled,c=l.isLoading,u=this.state.isFocused;if(!s||!c)return null;var d={"aria-hidden":"true"};return Ct.createElement(s,Pe({},i,{innerProps:d,isDisabled:a,isFocused:u}))}},{key:"renderIndicatorSeparator",value:function(){var r=this.getComponents(),s=r.DropdownIndicator,i=r.IndicatorSeparator;if(!s||!i)return null;var l=this.commonProps,a=this.props.isDisabled,c=this.state.isFocused;return Ct.createElement(i,Pe({},l,{isDisabled:a,isFocused:c}))}},{key:"renderDropdownIndicator",value:function(){var r=this.getComponents(),s=r.DropdownIndicator;if(!s)return null;var i=this.commonProps,l=this.props.isDisabled,a=this.state.isFocused,c={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return Ct.createElement(s,Pe({},i,{innerProps:c,isDisabled:l,isFocused:a}))}},{key:"renderMenu",value:function(){var r=this,s=this.getComponents(),i=s.Group,l=s.GroupHeading,a=s.Menu,c=s.MenuList,u=s.MenuPortal,d=s.LoadingMessage,m=s.NoOptionsMessage,f=s.Option,h=this.commonProps,p=this.state.focusedOption,g=this.props,b=g.captureMenuScroll,C=g.inputValue,v=g.isLoading,y=g.loadingMessage,x=g.minMenuHeight,w=g.maxMenuHeight,S=g.menuIsOpen,T=g.menuPlacement,I=g.menuPosition,R=g.menuPortalTarget,F=g.menuShouldBlockScroll,_=g.menuShouldScrollIntoView,D=g.noOptionsMessage,A=g.onMenuScrollToTop,L=g.onMenuScrollToBottom;if(!S)return null;var E=function(O,G){var V=O.type,z=O.data,X=O.isDisabled,Q=O.isSelected,U=O.label,ee=O.value,J=p===z,re=X?void 0:function(){return r.onOptionHover(z)},ie=X?void 0:function(){return r.selectOption(z)},le="".concat(r.getElementId("option"),"-").concat(G),Z={id:le,onClick:ie,onMouseMove:re,onMouseOver:re,tabIndex:-1,role:"option","aria-selected":r.isAppleDevice?void 0:Q};return Ct.createElement(f,Pe({},h,{innerProps:Z,data:z,isDisabled:X,isSelected:Q,key:le,label:U,type:V,value:ee,isFocused:J,innerRef:J?r.getFocusedOptionRef:void 0}),r.formatOptionLabel(O.data,"menu"))},k;if(this.hasOptions())k=this.getCategorizedOptions().map(function(j){if(j.type==="group"){var O=j.data,G=j.options,V=j.index,z="".concat(r.getElementId("group"),"-").concat(V),X="".concat(z,"-heading");return Ct.createElement(i,Pe({},h,{key:z,data:O,options:G,Heading:l,headingProps:{id:X,data:j.data},label:r.formatGroupLabel(j.data)}),j.options.map(function(Q){return E(Q,"".concat(V,"-").concat(Q.index))}))}else if(j.type==="option")return E(j,"".concat(j.index))});else if(v){var B=y({inputValue:C});if(B===null)return null;k=Ct.createElement(d,h,B)}else{var $=D({inputValue:C});if($===null)return null;k=Ct.createElement(m,h,$)}var P={minMenuHeight:x,maxMenuHeight:w,menuPlacement:T,menuPosition:I,menuShouldScrollIntoView:_},M=Ct.createElement(jS,Pe({},h,P),function(j){var O=j.ref,G=j.placerProps,V=G.placement,z=G.maxHeight;return Ct.createElement(a,Pe({},h,P,{innerRef:O,innerProps:{onMouseDown:r.onMenuMouseDown,onMouseMove:r.onMenuMouseMove},isLoading:v,placement:V}),Ct.createElement(dB,{captureEnabled:b,onTopArrive:A,onBottomArrive:L,lockEnabled:F},function(X){return Ct.createElement(c,Pe({},h,{innerRef:function(U){r.getMenuListRef(U),X(U)},innerProps:{role:"listbox","aria-multiselectable":h.isMulti,id:r.getElementId("listbox")},isLoading:v,maxHeight:z,focusedOption:p}),k)}))});return R||I==="fixed"?Ct.createElement(u,Pe({},h,{appendTo:R,controlElement:this.controlRef,menuPlacement:T,menuPosition:I}),M):M}},{key:"renderFormField",value:function(){var r=this,s=this.props,i=s.delimiter,l=s.isDisabled,a=s.isMulti,c=s.name,u=s.required,d=this.state.selectValue;if(u&&!this.hasValue()&&!l)return Ct.createElement(pB,{name:c,onFocus:this.onValueInputFocus});if(!(!c||l))if(a)if(i){var m=d.map(function(p){return r.getOptionValue(p)}).join(i);return Ct.createElement("input",{name:c,type:"hidden",value:m})}else{var f=d.length>0?d.map(function(p,g){return Ct.createElement("input",{key:"i-".concat(g),name:c,type:"hidden",value:r.getOptionValue(p)})}):Ct.createElement("input",{name:c,type:"hidden",value:""});return Ct.createElement("div",null,f)}else{var h=d[0]?this.getOptionValue(d[0]):"";return Ct.createElement("input",{name:c,type:"hidden",value:h})}}},{key:"renderLiveRegion",value:function(){var r=this.commonProps,s=this.state,i=s.ariaSelection,l=s.focusedOption,a=s.focusedValue,c=s.isFocused,u=s.selectValue,d=this.getFocusableOptions();return Ct.createElement(Kj,Pe({},r,{id:this.getElementId("live-region"),ariaSelection:i,focusedOption:l,focusedValue:a,isFocused:c,selectValue:u,focusableOptions:d,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var r=this.getComponents(),s=r.Control,i=r.IndicatorsContainer,l=r.SelectContainer,a=r.ValueContainer,c=this.props,u=c.className,d=c.id,m=c.isDisabled,f=c.menuIsOpen,h=this.state.isFocused,p=this.commonProps=this.getCommonProps();return Ct.createElement(l,Pe({},p,{className:u,innerProps:{id:d,onKeyDown:this.onKeyDown},isDisabled:m,isFocused:h}),this.renderLiveRegion(),Ct.createElement(s,Pe({},p,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:m,isFocused:h,menuIsOpen:f}),Ct.createElement(a,Pe({},p,{isDisabled:m}),this.renderPlaceholderOrValue(),this.renderInput()),Ct.createElement(i,Pe({},p,{isDisabled:m}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(r,s){var i=s.prevProps,l=s.clearFocusValueOnUpdate,a=s.inputIsHiddenAfterUpdate,c=s.ariaSelection,u=s.isFocused,d=s.prevWasFocused,m=s.instancePrefix,f=r.options,h=r.value,p=r.menuIsOpen,g=r.inputValue,b=r.isMulti,C=ll(h),v={};if(i&&(h!==i.value||f!==i.options||p!==i.menuIsOpen||g!==i.inputValue)){var y=p?FB(r,C):[],x=p?II(Uf(r,C),"".concat(m,"-option")):[],w=l?RB(s,C):null,S=AB(s,y),T=ub(x,S);v={selectValue:C,focusedOption:S,focusedOptionId:T,focusableOptionsWithIds:x,focusedValue:w,clearFocusValueOnUpdate:!1}}var I=a!=null&&r!==i?{inputIsHidden:a,inputIsHiddenAfterUpdate:void 0}:{},R=c,F=u&&d;return u&&!F&&(R={value:Vi(b,C,C[0]||null),options:C,action:"initial-input-focus"},F=!d),c?.action==="initial-input-focus"&&(R=null),Ee(Ee(Ee({},v),I),{},{prevProps:r,ariaSelection:R,prevWasFocused:F})}}]),o}(Zj);au.defaultProps=TB;import"react-dom";var NB=EB(function(t,e){var o=gf(t);return jI.createElement(au,Pe({ref:e},o))}),BI=NB;import*as GI from"react";import{forwardRef as kB}from"react";import{useMemo as MI,useCallback as LB}from"react";var $B=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],OI=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",o=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=String(e).toLowerCase(),s=String(n.getOptionValue(o)).toLowerCase(),i=String(n.getOptionLabel(o)).toLowerCase();return s===r||i===r},gb={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,o,n,r){return!(!e||o.some(function(s){return OI(e,s,r)})||n.some(function(s){return OI(e,s,r)}))},getNewOptionData:function(e,o){return{label:o,value:e,__isNew__:!0}}};function VI(t){var e=t.allowCreateWhileLoading,o=e===void 0?!1:e,n=t.createOptionPosition,r=n===void 0?"last":n,s=t.formatCreateLabel,i=s===void 0?gb.formatCreateLabel:s,l=t.isValidNewOption,a=l===void 0?gb.isValidNewOption:l,c=t.getNewOptionData,u=c===void 0?gb.getNewOptionData:c,d=t.onCreateOption,m=t.options,f=m===void 0?[]:m,h=t.onChange,p=ir(t,$B),g=p.getOptionValue,b=g===void 0?hb:g,C=p.getOptionLabel,v=C===void 0?pb:C,y=p.inputValue,x=p.isLoading,w=p.isMulti,S=p.value,T=p.name,I=MI(function(){return a(y,ll(S),f,{getOptionValue:b,getOptionLabel:v})?u(y,i(y)):void 0},[i,u,v,b,y,a,f,S]),R=MI(function(){return(o||!x)&&I?r==="first"?[I].concat(zs(f)):[].concat(zs(f),[I]):f},[o,r,x,I,f]),F=LB(function(_,D){if(D.action!=="select-option")return h(_,D);var A=Array.isArray(_)?_:[_];if(A[A.length-1]===I){if(d)d(y);else{var L=u(y,y),E={action:"create-option",name:T,option:L};h(Vi(w,[].concat(zs(ll(S)),[L]),L),E)}return}h(_,D)},[u,y,w,T,I,d,h,S]);return Ee(Ee({},p),{},{options:R,onChange:F})}import"react-dom";var jB=kB(function(t,e){var o=gf(t),n=VI(o);return GI.createElement(au,Pe({ref:e},n))}),zI=jB;import{jsx as WI}from"react/jsx-runtime";import"react";var HI="clear-indicator",bb=t=>{let{clearValue:e,innerProps:{ref:o,...n}}=t;return WI("div",{className:HI,ref:typeof o=="string"?null:o,...n,onKeyDown:r=>{r.key==="Enter"&&(e(),r.stopPropagation())},role:"button",tabIndex:0,children:WI(bt,{className:`${HI}__icon`})})};import{jsx as UI}from"react/jsx-runtime";import BB from"react";var vb=t=>{let{children:e,innerProps:o,selectProps:{customProps:{disableKeyDown:n,disableMouseDown:r}={}}={}}=t;return UI(BB.Fragment,{children:UI(To.Control,{...t,innerProps:{...o,onKeyDown:s=>{if(n){s.stopPropagation();let i=new CustomEvent("bypassKeyDown",{detail:s});document.dispatchEvent(i)}},onMouseDown:s=>{r||o.onMouseDown(s)}},children:e})})};import{jsx as XI}from"react/jsx-runtime";import"react";var ZI="dropdown-indicator",Cb=t=>{let{innerProps:{ref:e,...o}}=t;return XI("button",{className:ZI,ref:e,...o,onKeyDown:n=>{n.key==="Enter"&&(n.key=" ")},type:"button",children:XI(We,{className:`${ZI}__icon`})})};import{jsx as YI}from"react/jsx-runtime";import MB from"react";var yb=t=>YI(MB.Fragment,{children:YI(To.Input,{...t,"aria-activedescendant":void 0})});import{c as OB}from"react/compiler-runtime";import{jsx as JI}from"react/jsx-runtime";import VB from"react";var qI="multi-value";function xb(t,e){return typeof e=="function"?e(t):t.value}var wb=t=>{let e=OB(26),{className:o,data:n,innerProps:r,isDisabled:s,selectProps:i}=t,l;e[0]!==i?(l=i===void 0?{}:i,e[0]=i,e[1]=l):l=e[1];let{customProps:a,getOptionValue:c,isSortable:u}=l,d;e[2]!==a?(d=a===void 0?{}:a,e[2]=a,e[3]=d):d=e[3];let{disableMouseDown:m}=d,f;e[4]!==n||e[5]!==c?(f=xb(n,c),e[4]=n,e[5]=c,e[6]=f):f=e[6];let h=!u,p;e[7]!==f||e[8]!==h?(p={id:f,disabled:h},e[7]=f,e[8]=h,e[9]=p):p=e[9];let{attributes:g,isDragging:b,listeners:C,setNodeRef:v,transform:y}=ja(p),x=!s&&u&&"draggable",w=b&&`${qI}--is-dragging`,S;e[10]!==o||e[11]!==x||e[12]!==w?(S=[qI,o,x,w].filter(Boolean),e[10]=o,e[11]=x,e[12]=w,e[13]=S):S=e[13];let T=S.join(" "),I;if(e[14]!==g||e[15]!==T||e[16]!==m||e[17]!==r||e[18]!==u||e[19]!==C||e[20]!==t||e[21]!==v||e[22]!==y){let R;e[24]!==m?(R=F=>{m||F.stopPropagation()},e[24]=m,e[25]=R):R=e[25],I=JI(VB.Fragment,{children:JI(To.MultiValue,{...t,className:T,innerProps:{...u?{...g,...C}:{},...r,onMouseDown:R,ref:v,style:u?{transform:y,...g?.style}:{}}})}),e[14]=g,e[15]=T,e[16]=m,e[17]=r,e[18]=u,e[19]=C,e[20]=t,e[21]=v,e[22]=y,e[23]=I}else I=e[23];return I};import{jsx as QI}from"react/jsx-runtime";import"react";var KI="multi-value-label",Sb=t=>{let{data:e,selectProps:{customProps:{draggableProps:o,editableProps:n}={}}={}}=t,r=`${KI}__text`;return QI("div",{className:KI,children:QI(To.MultiValueLabel,{...t,innerProps:{className:r,...n&&n(e,r,t.selectProps)||{},...o||{}}})})};import{c as GB}from"react/compiler-runtime";import{jsx as e_,jsxs as zB}from"react/jsx-runtime";import WB from"react";var Ib="multi-value-remove",_b=t=>{let e=GB(12),{innerProps:o}=t,{className:n,onClick:r,onTouchEnd:s}=o,[i,l]=WB.useState(!1),{t:a}=N(),c;if(e[0]!==n||e[1]!==r||e[2]!==s||e[3]!==i||e[4]!==a){let u=a("general:remove"),d;e[6]!==n?(d=[Ib,n].filter(Boolean),e[6]=n,e[7]=d):d=e[7];let m;e[8]!==r?(m=p=>{l(!1),r(p)},e[8]=r,e[9]=m):m=e[9];let f,h;e[10]===Symbol.for("react.memo_cache_sentinel")?(f=()=>l(!0),h=()=>l(!1),e[10]=f,e[11]=h):(f=e[10],h=e[11]),c=zB("button",{"aria-label":u,className:d.join(" "),onClick:m,onKeyDown:HB,onMouseDown:UB,onMouseEnter:f,onMouseLeave:h,onTouchEnd:s,type:"button",children:[e_(Eo,{className:`${Ib}__tooltip`,show:i,children:a("general:remove")}),e_(bt,{className:`${Ib}__icon`})]}),e[0]=n,e[1]=r,e[2]=s,e[3]=i,e[4]=a,e[5]=c}else c=e[5];return c};function HB(t){t.key==="Enter"&&t.stopPropagation()}function UB(t){return t.stopPropagation()}import{jsx as t_}from"react/jsx-runtime";import XB from"react";var ZB="react-select--single-value",Db=t=>{let{children:e,className:o}=t;return t_(XB.Fragment,{children:t_(To.SingleValue,{...t,className:[ZB,o].filter(Boolean).join(" "),children:e})})};import{jsx as o_,jsxs as YB}from"react/jsx-runtime";import"react";var r_="value-container",Tb=t=>{let{selectProps:{customProps:e}={}}=t;return YB("div",{className:r_,ref:e?.droppableRef,children:[e?.valueContainerLabel&&o_("span",{className:`${r_}__label`,children:e?.valueContainerLabel}),o_(To.ValueContainer,{...t})]})};var QB=t=>({label:t,value:t}),i_=t=>{let{i18n:e,t:o}=N(),[n,r]=s_.useState(""),s=qB(),[i,l]=s_.useState(!1);JB(()=>{l(!0)},[]);let{className:a,components:c,customProps:u,disabled:d=!1,filterOption:m=void 0,getOptionValue:f,isClearable:h=!0,isCreatable:p,isLoading:g,isSearchable:b=!0,noOptionsMessage:C=()=>o("general:noOptions"),numberOnly:v=!1,onChange:y,onMenuClose:x,onMenuOpen:w,options:S,placeholder:T=o("general:selectValue"),showError:I,value:R}=t,F=()=>o("general:loading")+"...",_=[a,"react-select",I&&"react-select--error"].filter(Boolean).join(" "),D={menu:L=>({...L,zIndex:void 0})};if(!i)return Gi(Ft,{height:"calc(var(--base) * 2 + 2px)"});if(!p)return Gi(BI,{captureMenuScroll:!0,customProps:u,isLoading:g,...t,className:_,classNamePrefix:"rs",components:{ClearIndicator:bb,Control:vb,DropdownIndicator:Cb,Input:yb,MultiValue:wb,MultiValueLabel:Sb,MultiValueRemove:_b,SingleValue:Db,ValueContainer:Tb,...c},filterOption:m,getOptionValue:f,instanceId:s,isClearable:h,isDisabled:d,isSearchable:b,loadingMessage:F,menuPlacement:"auto",noOptionsMessage:C,onChange:y,onMenuClose:x,onMenuOpen:w,options:S,placeholder:n_(T,e),styles:D,unstyled:!0,value:R});let A=L=>{if(v===!0){let E=["Tab","Escape","Backspace","Enter","ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],k=!/\D/.test(L.key),B=E.includes(L.key);if(!k&&!B){L.preventDefault();return}}if(!(!R||!n||n.trim()==="")&&!(m&&!m(null,n)))switch(L.key){case"Enter":case"Tab":y([...R,QB(n)]),r(""),L.preventDefault();break;default:break}};return Gi(zI,{captureMenuScroll:!0,isLoading:g,...t,className:_,classNamePrefix:"rs",components:{ClearIndicator:bb,Control:vb,DropdownIndicator:Cb,Input:yb,MultiValue:wb,MultiValueLabel:Sb,MultiValueRemove:_b,SingleValue:Db,ValueContainer:Tb,...c},filterOption:m,inputValue:n,instanceId:s,isClearable:h,isDisabled:d,isSearchable:b,loadingMessage:F,menuPlacement:"auto",noOptionsMessage:C,onChange:y,onInputChange:L=>r(L),onKeyDown:A,onMenuClose:x,onMenuOpen:w,options:S,placeholder:n_(T,e),styles:D,unstyled:!0,value:R})},KB=t=>{let{getOptionValue:e,onChange:o,value:n}=t,r=[];return n&&(r=(Array.isArray(n)?n:[n]).map(s=>xb(s,e))),Gi(Br,{className:"react-select-container",ids:r,onDragEnd:({moveFromIndex:s,moveToIndex:i})=>{let l=n;n&&Array.isArray(n)&&(l=Am(n,s,i)),o(l)},children:Gi(i_,{...t})})},pt=t=>{let{isMulti:e,isSortable:o}=t;return e&&o?Gi(KB,{...t}):Gi(i_,{...t})};var lu=t=>t.map(e=>typeof e=="object"&&(e.value||e.value==="")?e:{label:e,value:e});var cu=t=>{let{id:e,onChange:o,options:n,required:r,selectedTimezone:s}=t,{t:i}=N(),l=lu(n),a=tM(()=>l.find(c=>(typeof c=="string"?c:c.value)===(s||"UTC")),[l,s]);return eM("div",{className:"timezone-picker-wrapper",children:[a_(_e,{htmlFor:e,label:`${i("general:timezone")} ${r?"*":""}`,required:r,unstyled:!0}),a_(pt,{className:"timezone-picker",inputId:e,isClearable:!0,isCreatable:!1,onChange:c=>{o&&o(c?.value||"")},options:l,value:a})]})};var u_="date-time-field",rM=t=>{let{field:e,field:{admin:{className:o,date:n,description:r,placeholder:s}={},label:i,localized:l,required:a,timezone:c},path:u,readOnly:d,validate:m}=t,f=n?.pickerAppearance||"default",h=Intl.DateTimeFormat().resolvedOptions().timeZone,{config:p}=W(),{i18n:g}=N(),{dispatchFields:b,setModified:C}=Ve(),v=Fb((O,G)=>{if(typeof m=="function")return m(O,{...G,required:a})},[m,a]),{customComponents:{AfterInput:y,BeforeInput:x,Description:w,Error:S,Label:T}={},disabled:I,path:R,setValue:F,showError:_,value:D}=Ne({potentiallyStalePath:u,validate:v}),A=R+"_tz",L=Lt(([O,G])=>O?.[A]),E=p.admin.timezones.supportedTimezones,k=["dayOnly","default","monthOnly"].includes(f),B=L?.value,$=c_(()=>{if(c&&B&&h&&D){let O=lo.tz(B),G=lo.tz(h),V=new lo(D).withTimeZone(B),z=ln(V,O);return ln(z,G).toISOString()}return D},[c,B,D,h]),P=c_(()=>rt(e),[e]),M=Fb(O=>{if(!(d||I))if(c&&B&&O){let G=lo.tz(B);if(k){let V=O.getTimezoneOffset()/60,z=O.getHours()+V;O.setHours(z);let X=ln(O,G);F(X.toISOString()||null)}else{let V=new lo(O),z=ln(V,G);F(z.toISOString()||null)}}else F(O?.toISOString()||null)},[d,I,c,B,k,F]),j=Fb(O=>{A&&(b({type:"UPDATE",path:A,value:O}),C(!0))},[b,C,A]);return l_("div",{className:[Re,u_,o,_&&`${u_}--has-error`,(d||I)&&"read-only"].filter(Boolean).join(" "),style:P,children:[Us(ue,{CustomComponent:T,Fallback:Us(_e,{label:i,localized:l,path:R,required:a})}),l_("div",{className:`${Re}__wrap`,id:`field-${R.replace(/\./g,"__")}`,children:[Us(ue,{CustomComponent:S,Fallback:Us(Qe,{path:R,showError:_})}),x,Us(Ja,{...n,onChange:M,overrides:{...n?.overrides},placeholder:oM(s,g),readOnly:d||I,value:$}),c&&E.length>0&&Us(cu,{id:`${R}-timezone-picker`,onChange:j,options:E,required:a,selectedTimezone:B}),y]}),Us(ue,{CustomComponent:w,Fallback:Us(Xe,{description:r,path:R})})]})},uu=ze(rM);import{jsx as zi,jsxs as d_}from"react/jsx-runtime";import{getTranslation as nM}from"@payloadcms/translations";import{useCallback as sM,useMemo as iM}from"react";var aM=t=>{let{field:e,field:{admin:{autoComplete:o,className:n,description:r,placeholder:s}={},label:i,localized:l,required:a}={},path:c,readOnly:u,validate:d}=t,{i18n:m}=N(),f=sM((I,R)=>{if(typeof d=="function")return d(I,{...R,required:a})},[d,a]),{customComponents:{AfterInput:h,BeforeInput:p,Description:g,Error:b,Label:C}={},disabled:v,path:y,setValue:x,showError:w,value:S}=Ne({potentiallyStalePath:c,validate:f}),T=iM(()=>rt(e),[e]);return d_("div",{className:[Re,"email",n,w&&"error",(u||v)&&"read-only"].filter(Boolean).join(" "),style:T,children:[zi(ue,{CustomComponent:C,Fallback:zi(_e,{label:i,localized:l,path:y,required:a})}),d_("div",{className:`${Re}__wrap`,children:[zi(ue,{CustomComponent:b,Fallback:zi(Qe,{path:y,showError:w})}),p,zi("input",{autoComplete:o,disabled:u||v,id:`field-${y.replace(/\./g,"__")}`,name:y,onChange:x,placeholder:nM(s,m),required:a,type:"email",value:S||""}),h]}),zi(ue,{CustomComponent:g,Fallback:zi(Xe,{description:r,path:y})})]})},Wi=ze(aM);import{jsx as as,jsxs as Zf}from"react/jsx-runtime";import{getTranslation as bM}from"@payloadcms/translations";import{groupHasName as y_}from"payload/shared";import{useMemo as vM}from"react";import{jsx as lM}from"react/jsx-runtime";import{createContext as cM,use as uM}from"react";var m_=cM(!1),f_=({children:t,withinRow:e=!0})=>lM(m_,{value:e,children:t}),p_=()=>uM(m_);import{jsx as dM}from"react/jsx-runtime";import{createContext as mM,use as fM}from"react";var h_=mM(!1),Rb=({children:t,withinTab:e=!0})=>dM(h_,{value:e,children:t}),g_=()=>fM(h_);import{jsx as pM}from"react/jsx-runtime";import{createContext as hM,use as gM}from"react";var b_=hM(!1),v_=({children:t,withinGroup:e=!0})=>pM(b_,{value:e,children:t}),C_=()=>gM(b_);var pn="group-field",CM=t=>{let{field:e,field:{admin:{className:o,description:n,hideGutter:r}={},fields:s,label:i},indexPath:l,parentPath:a,parentSchemaPath:c,path:u,permissions:d,readOnly:m,schemaPath:f}=t,h=f??(e.type==="group"&&y_(e)?e.name:u),{i18n:p}=N(),{isWithinCollapsible:g}=Os(),b=C_(),C=p_(),v=g_(),{customComponents:{AfterInput:y,BeforeInput:x,Description:w,Label:S}={},errorPaths:T}=Ne({path:u}),I=fo(),R=T.length,F=I&&R>0,_=!(g||b||C),D=vM(()=>rt(e),[e]);return Zf("div",{className:[Re,pn,_&&`${pn}--top-level`,g&&`${pn}--within-collapsible`,b&&`${pn}--within-group`,C&&`${pn}--within-row`,v&&`${pn}--within-tab`,!r&&b&&`${pn}--gutter`,F&&`${pn}--has-error`,o].filter(Boolean).join(" "),id:`field-${u?.replace(/\./g,"__")}`,style:D,children:[as(v_,{children:Zf("div",{className:`${pn}__wrap`,children:[!!(S||w||i||F)&&Zf("div",{className:`${pn}__header`,children:[!!(S||w||i)&&Zf("header",{children:[as(ue,{CustomComponent:S,Fallback:as("h3",{className:`${pn}__title`,children:as(_e,{as:"span",label:bM(i,p),localized:!1,path:u,required:!1})})}),as(ue,{CustomComponent:w,Fallback:as(Xe,{description:n,path:u})})]}),F&&as(Io,{count:R,i18n:p,withMessage:!0})]}),x,y_(e)?as(jo,{fields:s,margins:"small",parentIndexPath:"",parentPath:u,parentSchemaPath:h,permissions:d===!0?d:d?.fields,readOnly:m}):as(jo,{fields:s,margins:"small",parentIndexPath:l,parentPath:a,parentSchemaPath:c,permissions:d,readOnly:m})]})}),y]})};var du=ze(CM);import{c as yM}from"react/compiler-runtime";import{jsx as xM}from"react/jsx-runtime";import{useEffect as wM}from"react";var SM=t=>{let e=yM(13),{disableModifyingForm:o,path:n,value:r}=t,s=o===void 0?!0:o,i;e[0]!==n?(i={potentiallyStalePath:n},e[0]=n,e[1]=i):i=e[1];let{formInitializing:l,path:a,setValue:c,value:u}=Ne(i),d,m;e[2]!==s||e[3]!==l||e[4]!==c||e[5]!==r?(d=()=>{r!==void 0&&!l&&c(r,s)},m=[r,c,s,l],e[2]=s,e[3]=l,e[4]=c,e[5]=r,e[6]=d,e[7]=m):(d=e[6],m=e[7]),wM(d,m);let f=`field-${a?.replace(/\./g,"__")}`,h=u||"",p;return e[8]!==a||e[9]!==c||e[10]!==f||e[11]!==h?(p=xM("input",{id:f,name:a,onChange:c,type:"hidden",value:h}),e[8]=a,e[9]=c,e[10]=f,e[11]=h,e[12]=p):p=e[12],p},mu=ze(SM);var iv=hi(Pb(),1);import{jsx as Yi,jsxs as g7}from"react/jsx-runtime";import{fieldAffectsData as b7,flattenTopLevelFields as v7}from"payload/shared";import{useMemo as F4}from"react";import{jsx as lr,jsxs as hl}from"react/jsx-runtime";import{getTranslation as D4}from"@payloadcms/translations";import{hoistQueryParamsToAnd as f7,transformColumnsToPreferences as T4}from"payload/shared";import p7,{Fragment as h7,useCallback as dp,useEffect as nv,useState as ls}from"react";import{jsx as E_}from"react/jsx-runtime";import{useRouter as PM,useSearchParams as EM}from"next/navigation.js";import*as $b from"qs-esm";import NM,{useCallback as pu,useEffect as LM,useMemo as $M,useRef as kM,useState as N_}from"react";import{jsx as TM}from"react/jsx-runtime";import{createContext as FM,use as RM}from"react";var T_=FM({}),Eb=({children:t,...e})=>TM(T_,{value:{isInDrawer:!!e.drawerSlug,...e},children:t}),Ir=()=>{let t=RM(T_);if(!t)throw new Error("useListDrawerContext must be used within a ListDrawerContextProvider");return t};import*as F_ from"qs-esm";function Ht(t){let e=t.toString();return F_.parse(e,{depth:10,ignoreQueryPrefix:!0})}import{createContext as R_,use as AM}from"react";var Nb=R_({}),st=()=>AM(Nb),A_=R_(!1);var P_=(t,e,o)=>{let n="page"in e?e.page:t?.page;["where","search","groupBy"].some(a=>a in e&&!["limit","page"].includes(a))&&(n=1);let s=["where","search","page","limit","groupBy","sort"].some(a=>a in e),i;return s||(i={...t?.queryByGroup||{},...e.queryByGroup?Object.fromEntries(Object.entries(e.queryByGroup).map(([a,c])=>[a,{...t?.queryByGroup?.[a]||{},...c}])):{}}),{...t,...e,columns:"columns"in e?e.columns:t.columns,groupBy:"groupBy"in e?e.groupBy:t?.groupBy??o?.defaults?.groupBy,limit:"limit"in e?e.limit:t?.limit??o?.defaults?.limit,page:n,preset:"preset"in e?e.preset:t?.preset,queryByGroup:i,search:"search"in e?e.search:t?.search,sort:"sort"in e?e.sort:t?.sort??o?.defaults?.sort,where:"where"in e?e.where:t?.where}};var Lb=t=>{let e={...t};return Object.entries(e).forEach(([o,n])=>{if(o==="columns"&&(n==="[]"||Array.isArray(e[o])&&e[o].length===0)&&delete e[o],o==="where"&&typeof n=="object"&&!Object.keys(n).length&&delete e[o],(o==="limit"||o==="page")&&typeof n=="string"){let r=parseInt(n,10);e[o]=Number.isNaN(r)?void 0:r}o==="page"&&n===0&&delete e[o],n===""&&delete e[o]}),e};var kb=({children:t,collectionSlug:e,data:o,modifySearchParams:n,onQueryChange:r,orderableFieldName:s,query:i})=>{"use no memo";let l=PM(),a=EM(),{startRouteTransition:c}=qe(),[u,d]=N_(!1),{getEntityConfig:m}=W(),f=m({collectionSlug:e}),h=$M(()=>Lb(Ht(a)),[a]),p=kM({});p.current.modified=u;let{onQueryChange:g}=Ir(),[b,C]=N_(()=>n?h:{limit:i.limit,sort:i.sort}),v=pu(async(R,F)=>{d(F!==void 0?F:!0);let _=P_(b,R,{defaults:{limit:i.limit,sort:i.sort}});n?c(()=>l.replace(`${$b.stringify({..._,columns:JSON.stringify(_.columns),queryByGroup:JSON.stringify(_.queryByGroup)},{addQueryPrefix:!0})}`)):(typeof g=="function"||typeof r=="function")&&(g||r)(_),C(_)},[b,i.limit,i.sort,n,g,r,c,l]),y=pu(async R=>{await v({page:R})},[v]),x=NM.useCallback(async R=>{await v({limit:R,page:1})},[v]),w=pu(async R=>{await v({search:R===""?void 0:R})},[v]),S=pu(async R=>{await v({sort:R})},[v]),T=pu(async R=>{await v({where:R})},[v]),I=qt(()=>{let R=Lb({...b||{},...i||{}}),F=`?${$b.stringify({...R,columns:JSON.stringify(R.columns),queryByGroup:JSON.stringify(R.queryByGroup)})}`;window.location.search!==F&&(C(R),window.history.replaceState(null,"",F))});return LM(()=>{n&&I()},[n,i]),E_(Nb,{value:{collectionSlug:e,data:o,handlePageChange:y,handlePerPageChange:x,handleSearchChange:w,handleSortChange:S,handleWhereChange:T,isGroupingBy:!!(f?.admin?.groupBy&&b?.groupBy),orderableFieldName:s,query:b,refineListData:v,setModified:d,...p.current},children:E_(A_,{value:u,children:t})})};import{jsx as jM}from"react/jsx-runtime";import BM,{createContext as MM,useCallback as Hi}from"react";var L_=MM(void 0),$t=()=>{let t=BM.use(L_);if(t===void 0)throw new Error("useServerFunctions must be used within a ServerFunctionsProvider");return t},jb=({children:t,serverFunction:e})=>{if(!e)throw new Error("ServerFunctionsProvider requires a serverFunction prop");let o=Hi(async c=>await e({name:"render-document-slots",args:c}),[e]),n=Hi(async c=>{let{signal:u,...d}=c;try{if(!u?.aborted){let f=await e({name:"schedule-publish",args:{...d}});if(!u?.aborted)return f}}catch(f){console.error(f)}let m=`Error scheduling ${d.type}`;return d.doc&&(m+=` for document with ID ${d.doc.value} in collection ${d.doc.relationTo}`),{error:m}},[e]),r=Hi(async c=>{let{signal:u,...d}=c||{};try{if(!u?.aborted){let m=await e({name:"form-state",args:{fallbackLocale:!1,...d}});if(!u?.aborted)return m}}catch(m){console.error(m)}return{state:null}},[e]),s=Hi(async c=>{let{signal:u,...d}=c||{};try{if(!u?.aborted){let m=await e({name:"table-state",args:{fallbackLocale:!1,...d}});if(!u?.aborted)return m}}catch(m){console.error(m)}},[e]),i=Hi(async c=>{let{signal:u,...d}=c||{};try{return await e({name:"render-document",args:{fallbackLocale:!1,...d}})}catch(m){console.error(m)}},[e]),l=Hi(async c=>{let{signal:u,...d}=c||{};try{let m=await e({name:"copy-data-from-locale",args:d});if(!u?.aborted)return m}catch(m){console.error(m)}},[e]),a=Hi(async c=>{let{signal:u,...d}=c||{};try{let m=await e({name:"get-folder-results-component-and-data",args:d});if(!u?.aborted)return m}catch(m){console.error(m)}},[e]);return jM(L_,{value:{copyDataFromLocale:l,getDocumentSlots:o,getFolderResultsComponentAndData:a,getFormState:r,getTableState:s,renderDocument:i,schedulePublish:n,serverFunction:e},children:t})};import{jsx as GM}from"react/jsx-runtime";import{transformColumnsToSearchParams as $_}from"payload/shared";import k_,{startTransition as j_,useCallback as Mb,useRef as zM}from"react";import{createContext as OM,use as VM}from"react";var Bb=OM({}),dl=()=>VM(Bb);var hu=({children:t,collectionSlug:e,columnState:o,LinkedCellOverride:n})=>{let{getEntityConfig:r}=W(),{query:s,refineListData:i}=st(),{admin:{defaultColumns:l}={}}=r({collectionSlug:e}),[a,c]=k_.useOptimistic(o,(p,g)=>g),u=zM({}),d=Mb(async p=>{let g=(a||[]).map(b=>b.accessor===p?{...b,active:!b.active}:b);j_(()=>{c(g)}),await i({columns:$_(g)})},[i,a,c]),m=Mb(async p=>{let{fromIndex:g,toIndex:b}=p,C=[...a||[]],[v]=C.splice(g,1);C.splice(b,0,v),j_(()=>{c(C)}),await i({columns:$_(C)})},[a,i,c]),f=Mb(async p=>{let g=s.columns;p.forEach(b=>{let C=g.findIndex(v=>b===v);C!==void 0&&g[C][0]==="-"&&(g[C]=b.slice(1))}),await i({columns:g})},[s,i]),h=k_.useCallback(async()=>{await i({columns:l||[]})},[l,i]);return GM(Bb,{value:{columns:a,LinkedCellOverride:n,moveColumn:m,resetColumnsState:h,setActiveColumns:f,toggleColumn:d,...u.current},children:t})};import{jsx as B_}from"react/jsx-runtime";import{fieldIsHiddenOrDisabled as HM,fieldIsID as UM}from"payload/shared";import{useId as XM,useMemo as M_}from"react";import{jsx as Ui}from"react/jsx-runtime";import WM from"react";var gu="pill-selector",Ob=({draggable:t,onClick:e,pills:o})=>{let n=WM.useMemo(()=>t?({children:r})=>Ui(Br,{className:gu,ids:o.map(s=>s.name),onDragEnd:({moveFromIndex:s,moveToIndex:i})=>{t.onDragEnd({moveFromIndex:s,moveToIndex:i})},children:r}):({children:r})=>Ui("div",{className:gu,children:r}),[t,o]);return Ui(n,{children:o.map((r,s)=>Ui(vt,{alignIcon:"left","aria-checked":r.selected,className:[`${gu}__pill`,r.selected&&`${gu}__pill--selected`].filter(Boolean).join(" "),draggable:!!t,icon:r.selected?Ui(bt,{}):Ui(jr,{}),id:r.name,onClick:()=>{e&&e({pill:r})},size:"small",children:r.Label??Ui("span",{className:`${gu}__pill-label`,children:r.name})},r.key??`${r.name}-${s}`))})};var Jf=({collectionSlug:t})=>{let{columns:e,moveColumn:o,toggleColumn:n}=dl(),r=XM(),s=ct(),i=M_(()=>e?.filter(a=>!(HM(a.field)&&!UM(a.field))&&!a?.field?.admin?.disableListColumn),[e]),l=M_(()=>i?i.map((a,c)=>{let{accessor:u,active:d,field:m}=a,f="labelWithPrefix"in m&&m.labelWithPrefix!==void 0?m.labelWithPrefix:"label"in m&&m.label!==void 0?m.label:"name"in m&&m.name!==void 0?m.name:void 0;return{name:u,key:`${t}-${u}-${c}${s?`-${s}-`:""}${r}`,Label:B_(_e,{label:f,unstyled:!0}),selected:d}}):null,[t,s,i,r]);return l?B_(Ob,{draggable:{onDragEnd:({moveFromIndex:a,moveToIndex:c})=>{o({fromIndex:a,toIndex:c})}},onClick:({pill:a})=>{n(a.name)},pills:l}):null};import{c as Q_}from"react/compiler-runtime";import{jsx as Kf}from"react/jsx-runtime";import{createElement as cO}from"react";import{useEffect as uO,useId as dO,useState as mO}from"react";import{c as ZM}from"react/compiler-runtime";import{useState as YM}from"react";var qf=t=>{let e=ZM(3),{getEntityConfig:o}=W(),n;e[0]!==o||e[1]!==t?(n=()=>t?(typeof t=="string"?[t]:t).map(i=>o({collectionSlug:i})):[],e[0]=o,e[1]=t,e[2]=n):n=e[2];let[r]=YM(n);return r};import{jsx as Y_}from"react/jsx-runtime";import aO,{useCallback as bu,useEffect as J_,useRef as lO,useState as Wb}from"react";import{c as zb}from"react/compiler-runtime";import{jsx as Xi,jsxs as H_}from"react/jsx-runtime";import{getTranslation as tO}from"@payloadcms/translations";import oO from"react";import{c as qM}from"react/compiler-runtime";import{jsx as QM,jsxs as KM}from"react/jsx-runtime";import G_,{createContext as eO}from"react";import{c as JM}from"react/compiler-runtime";import*as Xs from"react";var Vb=t=>{let e=JM(13),{delayBeforeShow:o,inTimeout:n,minShowTime:r,outTimeout:s,show:i}=t,l=n+r+s,[a,c]=dg(o),[u,d]=Xs.useState(!1),[m,f]=Xs.useState(!1),h=Xs.useRef(0),p=Xs.useRef(void 0),g;e[0]!==s?(g=()=>{f(!0),p.current=setTimeout(()=>{d(!1),f(!1)},s)},e[0]=s,e[1]=g):g=e[1];let b=g,C,v;e[2]!==a||e[3]!==u||e[4]!==i||e[5]!==l||e[6]!==b?(C=()=>{let x=a&&!u&&i,w=u&&!i;if(x)h.current=Date.now(),d(!0);else if(w){let S=Date.now()-h.current,T=l-S;clearTimeout(p.current),p.current=setTimeout(b,Math.max(0,T))}},v=[u,i,b,l,a],e[2]=a,e[3]=u,e[4]=i,e[5]=l,e[6]=b,e[7]=C,e[8]=v):(C=e[7],v=e[8]),Xs.useEffect(C,v);let y;return e[9]!==u||e[10]!==m||e[11]!==c?(y={isMounted:u,isUnmounting:m,triggerDelayedRender:c},e[9]=u,e[10]=m,e[11]=c,e[12]=y):y=e[12],y};var O_={isLoading:!1,loaders:[],loadingText:"",overlayType:null},V_=(t,e)=>{let o=[...t.loaders],{type:n="fullscreen",key:r="user",loadingText:s}=e.payload;if(e.type==="add")o.push({type:n,key:r,loadingText:s});else if(e.type==="remove"){let l=o.findIndex(a=>a.key===r&&a.type===n);o.splice(l,1)}let i=o?.length>0?o[o.length-1]:null;return{isLoading:!!i,loaders:o,loadingText:i?.loadingText||t?.loadingText,overlayType:i?.type||t?.overlayType}};var Gb=250,z_=eO({isOnScreen:!1,toggleLoadingOverlay:void 0}),W_=t=>{let e=qM(21),{children:o}=t,{t:n}=N(),r;e[0]!==n?(r=n("general:loading"),e[0]=n,e[1]=r):r=e[1];let s=r,[i,l]=G_.useReducer(V_,O_),a;e[2]!==i.isLoading?(a={delayBeforeShow:1e3,inTimeout:Gb,minShowTime:500,outTimeout:Gb,show:i.isLoading},e[2]=i.isLoading,e[3]=a):a=e[3];let{isMounted:c,isUnmounting:u,triggerDelayedRender:d}=Vb(a),m;e[4]!==s||e[5]!==d?(m=p=>{let{type:g,isLoading:b,key:C,loadingText:v}=p,y=v===void 0?s:v;b?(d(),l({type:"add",payload:{type:g,key:C,loadingText:y}})):l({type:"remove",payload:{type:g,key:C}})},e[4]=s,e[5]=d,e[6]=m):m=e[6];let f=m,h;if(e[7]!==o||e[8]!==s||e[9]!==c||e[10]!==u||e[11]!==i.loadingText||e[12]!==i.overlayType||e[13]!==f){let p;e[15]!==s||e[16]!==c||e[17]!==u||e[18]!==i.loadingText||e[19]!==i.overlayType?(p=c&&QM(hn,{animationDuration:`${Gb}ms`,loadingText:i.loadingText||s,overlayType:i.overlayType,show:!u}),e[15]=s,e[16]=c,e[17]=u,e[18]=i.loadingText,e[19]=i.overlayType,e[20]=p):p=e[20],h=KM(z_,{value:{isOnScreen:c,toggleLoadingOverlay:f},children:[p,o]}),e[7]=o,e[8]=s,e[9]=c,e[10]=u,e[11]=i.loadingText,e[12]=i.overlayType,e[13]=f,e[14]=h}else h=e[14];return h},Qf=()=>{let t=G_.use(z_);if(t===void 0)throw new Error("useLoadingOverlay must be used within a LoadingOverlayProvider");return t};var gn="loading-overlay",hn=t=>{let e=zb(11),{animationDuration:o,loadingText:n,overlayType:r,show:s}=t,i=s===void 0?!0:s,{t:l}=N(),a=i?`${gn}--entering`:`${gn}--exiting`,c=r?`${gn}--${r}`:"",u;e[0]!==a||e[1]!==c?(u=[gn,a,c].filter(Boolean),e[0]=a,e[1]=c,e[2]=u):u=e[2];let d=u.join(" "),m=o||"500ms",f;if(e[3]!==n||e[4]!==l||e[5]!==d||e[6]!==m){let h;e[8]!==n||e[9]!==l?(h=n||l("general:loading"),e[8]=n,e[9]=l,e[10]=h):h=e[10],f=H_("div",{className:d,style:{animationDuration:m},children:[H_("div",{className:`${gn}__bars`,children:[Xi("div",{className:`${gn}__bar`}),Xi("div",{className:`${gn}__bar`}),Xi("div",{className:`${gn}__bar`}),Xi("div",{className:`${gn}__bar`}),Xi("div",{className:`${gn}__bar`})]}),Xi("span",{className:`${gn}__text`,children:h})]}),e[3]=n,e[4]=l,e[5]=d,e[6]=m,e[7]=f}else f=e[7];return f},U_=t=>{let e=zb(7),{name:o,type:n,loadingText:r,show:s}=t,i=n===void 0?"fullscreen":n,{toggleLoadingOverlay:l}=Qf(),a,c;return e[0]!==o||e[1]!==r||e[2]!==s||e[3]!==l||e[4]!==i?(a=()=>(l({type:i,isLoading:s,key:o,loadingText:r||void 0}),()=>{l({type:i,isLoading:!1,key:o})}),c=[s,l,o,i,r],e[0]=o,e[1]=r,e[2]=s,e[3]=l,e[4]=i,e[5]=a,e[6]=c):(a=e[5],c=e[6]),oO.useEffect(a,c),null},rO=t=>{let e=zb(6),{name:o,type:n,action:r,formIsLoading:s,loadingSuffix:i}=t,l=n===void 0?"fullscreen":n,a=s===void 0?!1:s,c=kr(),{i18n:u,t:d}=N(),f=`${{create:d("general:creating"),loading:d("general:loading"),update:d("general:updating")}[r]} ${i?tO(i,u):""}`,h;return e[0]!==a||e[1]!==c||e[2]!==o||e[3]!==f||e[4]!==l?(h=Xi(U_,{loadingText:f.trim(),name:o,show:a||c,type:l}),e[0]=a,e[1]=c,e[2]=o,e[3]=f,e[4]=l,e[5]=h):h=e[5],h};function _r(t){if(t)try{t.abort()}catch{}}function Dr(t){let e=new AbortController;if(t.current)try{t.current.abort()}catch{}return t.current=e,e}import{jsx as nO}from"react/jsx-runtime";import{createContext as sO,use as iO}from"react";var X_=sO({}),Z_=({children:t,...e})=>nO(X_,{value:e,children:t}),Zi=()=>{let t=iO(X_);if(!t)throw new Error("useDocumentDrawerContext must be used within a DocumentDrawerProvider");return t};var q_=({id:t,collectionSlug:e,disableActions:o,drawerSlug:n,initialData:r,onDelete:s,onDuplicate:i,onSave:l,overrideEntityVisibility:a=!0,redirectAfterCreate:c,redirectAfterDelete:u,redirectAfterDuplicate:d,redirectAfterRestore:m})=>{let{getEntityConfig:f}=W(),h=xe(),[p]=Wb(()=>f({collectionSlug:e})),g=aO.useRef(null),{closeModal:b}=ae(),{t:C}=N(),{renderDocument:v}=$t(),[y,x]=Wb(void 0),[w,S]=Wb(!0),T=lO(!1),I=bu((A,L=!1)=>{let E=Dr(g);(async()=>{L&&S(!0);try{let B=await v({collectionSlug:e,disableActions:o,docID:A,drawerSlug:n,initialData:r,locale:h,overrideEntityVisibility:a,redirectAfterCreate:c,redirectAfterDelete:u!==void 0?u:!1,redirectAfterDuplicate:d!==void 0?d:!1,redirectAfterRestore:m!==void 0?m:!1,signal:E.signal});B?.Document&&(x(B.Document),S(!1))}catch(B){K.error(B?.message||C("error:unspecific")),b(n)}g.current=null})()},[e,o,n,r,u,d,m,v,c,b,a,C,h]),R=bu(A=>{I(A.doc.id),typeof l=="function"&&l({...A,collectionConfig:p})},[l,p,I]),F=bu(A=>{I(A.doc.id),typeof i=="function"&&i({...A,collectionConfig:p})},[i,p,I]),_=bu(A=>{typeof s=="function"&&s({...A,collectionConfig:p}),b(n)},[s,b,n,p]),D=bu(()=>{I(void 0,!0)},[I]);return J_(()=>{!y&&!T.current&&(I(t,!0),T.current=!0)},[y,I,t]),J_(()=>{let A=g.current;return()=>{_r(A)}},[]),w?Y_(hn,{}):Y_(Z_,{clearDoc:D,drawerSlug:n,onDelete:_,onDuplicate:F,onSave:R,children:y})};var Zs="doc-drawer",fO=({id:t,collectionSlug:e,depth:o,uuid:n})=>`doc-drawer_${e}_${o}${t?`_${t}`:""}_${n}`,pO=t=>{let e=Q_(21),o,n,r,s,i,l,a,c;e[0]!==t?({id:l,children:o,className:n,collectionSlug:r,disabled:s,drawerSlug:i,onClick:a,...c}=t,e[0]=t,e[1]=o,e[2]=n,e[3]=r,e[4]=s,e[5]=i,e[6]=l,e[7]=a,e[8]=c):(o=e[1],n=e[2],r=e[3],s=e[4],i=e[5],l=e[6],a=e[7],c=e[8]);let{t:u}=N(),[d]=qf(r),m=l?"general:editLabel":"fields:addNewLabel",f=d?.labels.singular,h;if(e[9]!==o||e[10]!==n||e[11]!==s||e[12]!==i||e[13]!==a||e[14]!==c||e[15]!==u||e[16]!==m||e[17]!==f){let p=u(m,{label:f}),g;e[19]!==n?(g=[n,`${Zs}__toggler`].filter(Boolean),e[19]=n,e[20]=g):g=e[20],h=Kf(ts,{"aria-label":p,className:g.join(" "),disabled:s,onClick:a,slug:i,...c,children:o}),e[9]=o,e[10]=n,e[11]=s,e[12]=i,e[13]=a,e[14]=c,e[15]=u,e[16]=m,e[17]=f,e[18]=h}else h=e[18];return h},Hb=t=>{let{drawerSlug:e}=t;return Kf(Bt,{className:Zs,gutter:!1,Header:null,slug:e,children:Kf(q_,{...t})})},St=t=>{let e=Q_(38),{id:o,collectionSlug:n,overrideEntityVisibility:r}=t,s=ct(),i=dO(),{closeModal:l,modalState:a,openModal:c,toggleModal:u}=ae(),[d,m]=mO(!1),f;e[0]!==n||e[1]!==s||e[2]!==o||e[3]!==i?(f=fO({id:o,collectionSlug:n,depth:s,uuid:i}),e[0]=n,e[1]=s,e[2]=o,e[3]=i,e[4]=f):f=e[4];let h=f,p,g;e[5]!==h||e[6]!==a?(p=()=>{m(!!a[h]?.isOpen)},g=[a,h],e[5]=h,e[6]=a,e[7]=p,e[8]=g):(p=e[7],g=e[8]),uO(p,g);let b;e[9]!==h||e[10]!==u?(b=()=>{u(h)},e[9]=h,e[10]=u,e[11]=b):b=e[11];let C=b,v;e[12]!==l||e[13]!==h?(v=()=>{l(h)},e[12]=l,e[13]=h,e[14]=v):v=e[14];let y=v,x;e[15]!==h||e[16]!==c?(x=()=>{c(h)},e[15]=h,e[16]=c,e[17]=x):x=e[17];let w=x,S,T;e[18]!==n||e[19]!==h||e[20]!==o||e[21]!==r?(T=k=>cO(Hb,{...k,collectionSlug:n,drawerSlug:h,id:o,key:h,overrideEntityVisibility:r}),e[18]=n,e[19]=h,e[20]=o,e[21]=r,e[22]=T):T=e[22],S=T;let I=S,R,F;e[23]!==n||e[24]!==h||e[25]!==o?(F=k=>Kf(pO,{...k,collectionSlug:n,drawerSlug:h,id:o}),e[23]=n,e[24]=h,e[25]=o,e[26]=F):F=e[26],R=F;let _=R,D,A;e[27]!==y||e[28]!==h||e[29]!==s||e[30]!==d||e[31]!==w||e[32]!==C?(A={closeDrawer:y,drawerDepth:s,drawerSlug:h,isDrawerOpen:d,openDrawer:w,toggleDrawer:C},e[27]=y,e[28]=h,e[29]=s,e[30]=d,e[31]=w,e[32]=C,e[33]=A):A=e[33],D=A;let L=D,E;return e[34]!==I||e[35]!==L||e[36]!==_?(E=[I,_,L],e[34]=I,e[35]=L,e[36]=_,e[37]=E):E=e[37],E};import{c as hO}from"react/compiler-runtime";import{jsx as gO}from"react/jsx-runtime";import{createContext as bO,use as vO,useEffect as CO,useReducer as yO,useRef as xO}from"react";function K_(t,e){switch(e.type){case"ADD_LOADED":{let o={...t};typeof o[e.relationTo]!="object"&&(o[e.relationTo]={});let n=[...e.idsToLoad];return Array.isArray(e.docs)&&e.docs.forEach(r=>{n.splice(n.indexOf(r.id),1),o[e.relationTo][r.id]=r}),n.forEach(r=>{o[e.relationTo][r]=!1}),o}case"REQUEST":{let o={...t};return e.docs.forEach(({relationTo:n,value:r})=>{typeof o[n]!="object"&&(o[n]={}),o[n][r]=null}),o}default:return t}}var e4=bO({}),vu=t=>{let e=hO(15),{children:o}=t,n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={},e[0]=n):n=e[0];let[r,s]=yO(K_,n),i=Cr(r,100),{config:l}=W(),{routes:a,serverURL:c}=l,{api:u}=a,{i18n:d}=N(),{code:m}=xe(),f=xO(m),h;e[1]!==u||e[2]!==i||e[3]!==d||e[4]!==m||e[5]!==c?(h=x=>{let w=x===void 0?!1:x;Object.entries(i).forEach(async S=>{let[T,I]=S,R=[];if(Object.entries(I).forEach(F=>{let[_,D]=F;(D===null||w)&&R.push(_)}),R.length>0){let F=`${c}${u}/${T}`,_=new URLSearchParams;if(_.append("depth","0"),_.append("limit","250"),m&&_.append("locale",m),R&&R.length>0){let L=R.map(wO);_.append("where[id][in]",L.join(","))}let D=`?${_.toString()}`,A=await fetch(`${F}${D}`,{credentials:"include",headers:{"Accept-Language":d.language}});if(A.ok){let L=await A.json();L.docs&&s({type:"ADD_LOADED",docs:L.docs,idsToLoad:R,relationTo:T})}else s({type:"ADD_LOADED",docs:[],idsToLoad:R,relationTo:T})}})},e[1]=u,e[2]=i,e[3]=d,e[4]=m,e[5]=c,e[6]=h):h=e[6];let p=h,g,b;e[7]!==p||e[8]!==m?(g=()=>{p(m&&f.current!==m),f.current=m},b=[m,p],e[7]=p,e[8]=m,e[9]=g,e[10]=b):(g=e[9],b=e[10]),CO(g,b);let C;e[11]===Symbol.for("react.memo_cache_sentinel")?(C=x=>{s({type:"REQUEST",docs:x})},e[11]=C):C=e[11];let v=C,y;return e[12]!==o||e[13]!==r?(y=gO(e4,{value:{documents:r,getRelationships:v},children:o}),e[12]=o,e[13]=r,e[14]=y):y=e[14],y},Ub=()=>vO(e4);function wO(t){return String(t)}import{jsx as ml}from"react/jsx-runtime";import{getTranslation as SO}from"@payloadcms/translations";var Xb=({allowCreate:t,baseClass:e,buttonStyle:o,className:n,collections:r,i18n:s,icon:i,label:l,onClick:a,permissions:c,relationTo:u})=>t?Array.isArray(u)?ml("div",{className:`${e}__add-new-polymorphic-wrapper`,children:ml(lt,{button:ml(oe,{buttonStyle:o,className:n,icon:i,children:l}),buttonType:"custom",horizontalAlign:"center",render:({close:m})=>ml(ve.ButtonGroup,{children:u.map(f=>c.collections[f]?.create?ml(ve.Button,{className:`${e}__relation-button--${f}`,onClick:()=>{m(),a(f)},children:SO(r.find(h=>h.slug===f).labels.singular,s)},f):null)}),size:"medium"})}):ml(oe,{buttonStyle:o,className:n,onClick:()=>a(),children:l}):null;import{c as s7}from"react/compiler-runtime";import{jsx as cp,jsxs as i7}from"react/jsx-runtime";import"react";import{c as o7}from"react/compiler-runtime";import{jsx as v4}from"react/jsx-runtime";import C4 from"react";import{c as YO}from"react/compiler-runtime";import{jsx as pl,jsxs as JO}from"react/jsx-runtime";import{getTranslation as qO}from"@payloadcms/translations";import{fieldAffectsData as QO,fieldIsID as KO}from"payload/shared";import e7 from"react";import{formatAdminURL as ep}from"payload/shared";import{getTranslation as IO}from"@payloadcms/translations";import _O from"react";var t4=(t,e,o)=>{if((e?.type==="select"||e?.type==="radio")&&Array.isArray(e.options)){let n=e.options.find(r=>typeof r=="object"?r.value===t:r===t);if(n)return typeof n=="object"&&"label"in n?_O.isValidElement(n.label)?n.label:IO(n.label,o)||n.value:n}return t};import{jsx as o4}from"react/jsx-runtime";import"react";var tp=({cellData:t,nowrap:e})=>{let o=t?.length>100?`${t.substring(0,100)}\u2026`:t;return o4("code",{className:"code-cell",style:e?{whiteSpace:"nowrap"}:{},children:o4("span",{children:o})})};import{c as DO}from"react/compiler-runtime";import{jsx as TO}from"react/jsx-runtime";import{getTranslation as r4}from"@payloadcms/translations";import"react";var n4=t=>{let e=DO(2),{cellData:o,field:n}=t,{labels:r}=n,{i18n:s}=N(),i=o??[],l=i.length===1?`${i.length} ${r4(r?.singular||s.t("general:rows"),s)}`:`${i.length} ${r4(r?.plural||s.t("general:rows"),s)}`,a;return e[0]!==l?(a=TO("span",{children:l}),e[0]=l,e[1]=a):a=e[1],a};import{c as FO}from"react/compiler-runtime";import{jsx as RO}from"react/jsx-runtime";import{getTranslation as op}from"@payloadcms/translations";import"react";var s4=t=>{let e=FO(2),{cellData:o,field:n}=t,{blockReferences:r,blocks:s,labels:i}=n,{i18n:l}=N(),{config:a}=W(),c=Array.isArray(o)?o.map(AO):[],u=(r??s)?.map(h=>{let p=typeof h=="string"?a.blocksMap[h]:h;return{slug:p.slug,label:op(p.labels.singular,l)}}),d=`0 ${op(i?.plural,l)}`,m=h=>h.map(p=>u.filter(b=>b.slug===p)?.[0]?.label).join(", ");if(c.length>5){let h=c.length-5;d=`${c.length} ${op(i?.plural,l)} - ${l.t("fields:itemsAndMore",{count:h,items:m(c.slice(0,5))})}`}else c.length>0&&(d=`${c.length} ${op(c.length===1?i?.singular:i?.plural,l)} - ${m(c)}`);let f;return e[0]!==d?(f=RO("span",{children:d}),e[0]=d,e[1]=f):f=e[1],f};function AO(t){let{blockType:e}=t;return e}import{c as PO}from"react/compiler-runtime";import{jsx as i4}from"react/jsx-runtime";import"react";var a4=t=>{let e=PO(3),{cellData:o}=t,{t:n}=N(),r=`general:${o}`,s;return e[0]!==n||e[1]!==r?(s=i4("code",{className:"bool-cell",children:i4("span",{children:n(r).toLowerCase()})}),e[0]=n,e[1]=r,e[2]=s):s=e[2],s};import{c as EO}from"react/compiler-runtime";import{jsx as NO}from"react/jsx-runtime";import"react";var Zb=t=>{let e=EO(8),{cellData:o,field:n}=t,{admin:r}=n,s;e[0]!==r?(s=r===void 0?{}:r,e[0]=r,e[1]=s):s=e[1];let{date:i}=s,{config:l}=W(),{admin:a}=l,{dateFormat:c}=a,u=i?.displayFormat||c,{i18n:d}=N(),m;e[2]!==o||e[3]!==u||e[4]!==d?(m=o&&Or({date:o,i18n:d,pattern:u}),e[2]=o,e[3]=u,e[4]=d,e[5]=m):m=e[5];let f;return e[6]!==m?(f=NO("span",{children:m}),e[6]=m,e[7]=f):f=e[7],f};import{jsx as Jb,jsxs as $O,Fragment as kO}from"react/jsx-runtime";import{getBestFitFromSizes as jO,isImage as BO}from"payload/shared";import"react";import{c as l4}from"react/compiler-runtime";import{jsx as fl,jsxs as c4}from"react/jsx-runtime";import np from"react";import{jsx as Yb,jsxs as LO}from"react/jsx-runtime";import"react";var rp=()=>LO("svg",{height:"150",viewBox:"0 0 150 150",width:"150",xmlns:"http://www.w3.org/2000/svg",children:[Yb("rect",{fill:"#333333",height:"150",transform:"translate(0 0.5)",width:"150"}),Yb("path",{d:"M82.8876 50.5H55.5555V100.5H94.4444V61.9818H82.8876V50.5Z",fill:"white"}),Yb("path",{d:"M82.8876 61.9818H94.4444L82.8876 50.5V61.9818Z",fill:"#9A9A9A"})]});var sp="thumbnail",Tr=t=>{let e=l4(17),{className:o,doc:n,fileSrc:r,imageCacheTag:s,size:i}=t,l=o===void 0?"":o,a;e[0]!==n?(a=n===void 0?{}:n,e[0]=n,e[1]=a):a=e[1];let{filename:c}=a,[u,d]=np.useState(void 0),m=`${sp}--size-${i||"medium"}`,f;e[2]!==l||e[3]!==m?(f=[sp,m,l],e[2]=l,e[3]=m,e[4]=f):f=e[4];let h=f.join(" "),p,g;e[5]!==r?(p=()=>{if(!r){d(!1);return}d(void 0);let v=new Image;v.src=r,v.onload=()=>{d(!0)},v.onerror=()=>{d(!1)}},g=[r],e[5]=r,e[6]=p,e[7]=g):(p=e[6],g=e[7]),np.useEffect(p,g);let b=null;if(r){let v=r?.includes("?")?"&":"?";b=s?`${r}${v}${encodeURIComponent(s)}`:r}let C;if(e[8]!==h||e[9]!==u||e[10]!==c||e[11]!==b){let v;e[13]!==u||e[14]!==c||e[15]!==b?(v=u&&fl("img",{alt:c,src:b}),e[13]=u,e[14]=c,e[15]=b,e[16]=v):v=e[16],C=c4("div",{className:h,children:[u===void 0&&fl(Ft,{height:"100%"}),v,u===!1&&fl(rp,{})]}),e[8]=h,e[9]=u,e[10]=c,e[11]=b,e[12]=C}else C=e[12];return C};function u4(t){let e=l4(17),{alt:o,className:n,filename:r,fileSrc:s,imageCacheTag:i,size:l}=t,a=n===void 0?"":n,[c,u]=np.useState(void 0),d=`${sp}--size-${l||"medium"}`,m;e[0]!==a||e[1]!==d?(m=[sp,d,a],e[0]=a,e[1]=d,e[2]=m):m=e[2];let f=m.join(" "),h,p;e[3]!==s?(h=()=>{if(!s){u(!1);return}u(void 0);let C=new Image;C.src=s,C.onload=()=>{u(!0)},C.onerror=()=>{u(!1)}},p=[s],e[3]=s,e[4]=h,e[5]=p):(h=e[4],p=e[5]),np.useEffect(h,p);let g="";if(s){let C=s?.includes("?")?"&":"?";g=i?`${s}${C}${encodeURIComponent(i)}`:s}let b;if(e[6]!==o||e[7]!==f||e[8]!==c||e[9]!==r||e[10]!==g){let C;e[12]!==o||e[13]!==c||e[14]!==r||e[15]!==g?(C=c&&fl("img",{alt:o||r,src:g}),e[12]=o,e[13]=c,e[14]=r,e[15]=g,e[16]=C):C=e[16],b=c4("div",{className:f,children:[c===void 0&&fl(Ft,{height:"100%"}),C,c===!1&&fl(rp,{})]}),e[6]=o,e[7]=f,e[8]=c,e[9]=r,e[10]=g,e[11]=b}else b=e[11];return b}var qb="file",ip=({cellData:t,collectionConfig:e,field:o,rowData:n})=>{if(("displayPreview"in o?o.displayPreview:void 0)??e.upload?.displayPreview??!0){let i=BO(n?.mimeType),l=i?n?.thumbnailURL||n?.url:n?.thumbnailURL;return i&&(l=jO({sizes:n?.sizes,thumbnailURL:n?.thumbnailURL,url:n?.url,width:n?.width})),$O("div",{className:qb,children:[Jb(Tr,{className:`${qb}__thumbnail`,collectionSlug:e?.slug,doc:{...n,filename:t},fileSrc:l,size:"small",uploadConfig:e?.upload}),Jb("span",{className:`${qb}__filename`,children:String(t)})]})}else return Jb(kO,{children:String(t)})};import{jsx as d4}from"react/jsx-runtime";import"react";var m4=({cellData:t})=>{let e=t?.length>100?`${t.substring(0,100)}\u2026`:t;return d4("code",{className:"json-cell",children:d4("span",{children:JSON.stringify(e)})})};import{c as MO}from"react/compiler-runtime";import{jsx as OO,jsxs as p4}from"react/jsx-runtime";import{getTranslation as VO}from"@payloadcms/translations";import GO,{useEffect as h4,useState as g4}from"react";var f4=!!(typeof window<"u"&&window.document&&window.document.createElement);var zO="relationship-cell",ap=3,lp=t=>{let e=MO(40),{cellData:o,customCellProps:n,field:r,field:s}=t,{label:i}=s,l="relationTo"in r&&r.relationTo||"collection"in r&&r.collection,a;a="collection"in r?o?.docs:o;let c=a,{config:u,getEntityConfig:d}=W(),{collections:m,routes:f}=u,[h,p]=Yn(),g;e[0]===Symbol.for("react.memo_cache_sentinel")?(g=[],e[0]=g):g=e[0];let[b,C]=g4(g),{documents:v,getRelationships:y}=Ub(),[x,w]=g4(!1),{i18n:S,t:T}=N(),I=f4?p?.boundingClientRect?.top<window.innerHeight:!1,R;e[1]!==c||e[2]!==y||e[3]!==x||e[4]!==I||e[5]!==l?(R=()=>{if((c||typeof c=="number")&&I&&!x){let L=[],E=Array.isArray(c)?c:[c];E.slice(0,E.length<ap?E.length:ap).forEach(k=>{typeof k=="object"&&"relationTo"in k&&"value"in k&&L.push(k),(typeof k=="number"||typeof k=="string")&&typeof l=="string"&&L.push({relationTo:l,value:k})}),y(L),w(!0),C(L)}},e[1]=c,e[2]=y,e[3]=x,e[4]=I,e[5]=l,e[6]=R):R=e[6];let F;e[7]!==c||e[8]!==m||e[9]!==y||e[10]!==x||e[11]!==I||e[12]!==l||e[13]!==f.api?(F=[c,l,m,I,f.api,x,y],e[7]=c,e[8]=m,e[9]=y,e[10]=x,e[11]=I,e[12]=l,e[13]=f.api,e[14]=F):F=e[14],h4(R,F);let _;e[15]!==x?(_=()=>{x&&w(!1)},e[15]=x,e[16]=_):_=e[16];let D;e[17]!==c?(D=[c],e[17]=c,e[18]=D):D=e[18],h4(_,D);let A;if(e[19]!==c||e[20]!==u.admin||e[21]!==n||e[22]!==v||e[23]!==r||e[24]!==d||e[25]!==S||e[26]!==h||e[27]!==i||e[28]!==T||e[29]!==b){let L;e[31]!==u.admin||e[32]!==n||e[33]!==v||e[34]!==r||e[35]!==d||e[36]!==S||e[37]!==T||e[38]!==b.length?(L=(E,k)=>{let{relationTo:B,value:$}=E,P=v[B][$],M=d({collectionSlug:B}),j=Zo({collectionConfig:M,data:P||null,dateFormat:u.admin.dateFormat,fallback:`${T("general:untitled")} - ID: ${$}`,i18n:S}),O=null;return r.type==="upload"&&(("displayPreview"in r?r.displayPreview:void 0)??M.upload?.displayPreview??!0)&&P&&(O=OO(ip,{cellData:j,collectionConfig:M,collectionSlug:M.slug,customCellProps:n,field:r,rowData:P})),p4(GO.Fragment,{children:[P===!1&&`${T("general:untitled")} - ID: ${$}`,P===null&&`${T("general:loading")}...`,P?O||j:null,b.length>k+1&&", "]},k)},e[31]=u.admin,e[32]=n,e[33]=v,e[34]=r,e[35]=d,e[36]=S,e[37]=T,e[38]=b.length,e[39]=L):L=e[39],A=p4("div",{className:zO,ref:h,children:[b.map(L),Array.isArray(c)&&c.length>ap&&T("fields:itemsAndMore",{count:c.length-ap,items:""}),b.length===0&&T("general:noLabel",{label:VO(i||"",S)})]}),e[19]=c,e[20]=u.admin,e[21]=n,e[22]=v,e[23]=r,e[24]=d,e[25]=S,e[26]=h,e[27]=i,e[28]=T,e[29]=b,e[30]=A}else A=e[30];return A};import{c as WO}from"react/compiler-runtime";import{jsx as HO}from"react/jsx-runtime";import{getTranslation as UO}from"@payloadcms/translations";import{optionsAreObjects as XO}from"payload/shared";import"react";var Qb=t=>{let e=WO(10),{cellData:o,field:n}=t,{options:r}=n,{i18n:s}=N(),i;e[0]!==s||e[1]!==r?(i=u=>u.map(d=>{let m=r.filter(f=>f.value===d)?.[0]?.label;return UO(m,s)}).join(", "),e[0]=s,e[1]=r,e[2]=i):i=e[2];let l=i,a;if(XO(r)){let u;e[3]!==o||e[4]!==l?(u=Array.isArray(o)?l(o):l([o]),e[3]=o,e[4]=l,e[5]=u):u=e[5],a=u}else{let u;e[6]!==o?(u=Array.isArray(o)?o.join(", "):o,e[6]=o,e[7]=u):u=e[7],a=u}let c;return e[8]!==a?(c=HO("span",{children:a}),e[8]=a,e[9]=c):c=e[9],c};import{jsx as ZO}from"react/jsx-runtime";import"react";var b4=({cellData:t})=>{let e=t?.length>100?`${t.substring(0,100)}\u2026`:t;return ZO("span",{children:e})};var Kb={array:n4,blocks:s4,checkbox:a4,code:tp,date:Zb,File:ip,join:lp,json:m4,radio:Qb,relationship:lp,select:Qb,textarea:b4,upload:lp};var Cu=t=>{let e=YO(15),{cellData:o,className:n,collectionSlug:r,field:s,field:i,link:l,onClick:a,rowData:c,viewType:u}=t,{admin:d}=i,{i18n:m}=N(),{config:f,getEntityConfig:h}=W(),{routes:p}=f,{admin:g}=p,b,C;if(e[0]!==d||e[1]!==g||e[2]!==o||e[3]!==n||e[4]!==r||e[5]!==s||e[6]!==h||e[7]!==m||e[8]!==l||e[9]!==a||e[10]!==t||e[11]!==c||e[12]!==u){C=Symbol.for("react.early_return_sentinel");e:{let v=h({collectionSlug:r}),y=d&&"className"in d?d.className:void 0,x=n||(s.admin&&"className"in s.admin?s.admin.className:null)||y,w=a,S="span",T={className:x};if(l&&(T.prefetch=!1,S=Jt,T.href=v?.slug?ep({adminRoute:g,path:`/collections/${v?.slug}${u==="trash"?"/trash":""}/${encodeURIComponent(c.id)}`}):""),typeof w=="function"&&(S="button",T.type="button",T.onClick=()=>{w({cellData:o,collectionSlug:v?.slug,rowData:c})}),KO(s)){C=pl(S,{...T,children:pl(tp,{cellData:`ID: ${o}`,collectionConfig:v,collectionSlug:r,field:{...s,type:"code"},nowrap:!0,rowData:c})});break e}let I=t4(o,s,m),R=typeof o<"u"&&Kb[s.type],F=null;if(e7.isValidElement(I))F=I;else if(R)F=pl(R,{cellData:o,rowData:c,...t});else if(!R)if(v?.upload&&QO(s)&&s.name==="filename"&&s.type==="text"){let _=Kb.File;F=pl(_,{cellData:o,rowData:c,...t,collectionConfig:v,field:s})}else{C=JO(S,{...T,children:[(I===""||typeof I>"u"||I===null)&&m.t("general:noLabel",{label:qO(("label"in s?s.label:null)||"data",m)}),typeof I=="string"&&I,typeof I=="number"&&I,typeof I=="object"&&I!==null&&JSON.stringify(I)]});break e}if((s.type==="select"||s.type==="radio")&&s.options.length&&o){let _=Array.isArray(o)?o.map(t7).join(" "):`selected--${o}`,D=[T.className,_].filter(Boolean).join(" ");C=pl(S,{...T,className:D,children:F});break e}b=pl(S,{...T,children:F})}e[0]=d,e[1]=g,e[2]=o,e[3]=n,e[4]=r,e[5]=s,e[6]=h,e[7]=m,e[8]=l,e[9]=a,e[10]=t,e[11]=c,e[12]=u,e[13]=b,e[14]=C}else b=e[13],C=e[14];return C!==Symbol.for("react.early_return_sentinel")?C:b};function t7(t){return`selected--${t}`}var r7="default-cell",y4=C4.createContext(null),ev=()=>C4.use(y4),n7=t=>{let e=o7(9),{clientProps:o,columnIndex:n,isLinkedColumn:r}=t,{drawerSlug:s,onSelect:i}=Ir(),{LinkedCellOverride:l}=dl(),a;if(e[0]!==l||e[1]!==o||e[2]!==n||e[3]!==s||e[4]!==r||e[5]!==i){let c={...o,columnIndex:n};if(r&&s){c.className=`${r7}__first-cell`,c.link=!1;let u;e[7]!==i?(u=d=>{let{collectionSlug:m,rowData:f}=d;typeof i=="function"&&i({collectionSlug:m,doc:f,docID:f.id})},e[7]=i,e[8]=u):u=e[8],c.onClick=u}a=v4(y4,{value:c,children:r&&l?l:v4(Cu,{...c})}),e[0]=l,e[1]=o,e[2]=n,e[3]=s,e[4]=r,e[5]=i,e[6]=a}else a=e[6];return a};var x4=t=>{let e=s7(15),{onDrawerDelete:o,onDrawerSave:n}=t,r=ev(),s=r?.rowData.id,i=r?.collectionSlug,l;e[0]!==s||e[1]!==i?(l={id:s,collectionSlug:i},e[0]=s,e[1]=i,e[2]=l):l=e[2];let[a,c,u]=St(l),{closeDrawer:d}=u,m;e[3]!==d||e[4]!==n?(m=b=>{d(),typeof n=="function"&&n(b)},e[3]=d,e[4]=n,e[5]=m):m=e[5];let f=m,h;e[6]!==d||e[7]!==o?(h=b=>{d(),typeof o=="function"&&o(b)},e[6]=d,e[7]=o,e[8]=h):h=e[8];let p=h,g;return e[9]!==a||e[10]!==c||e[11]!==r||e[12]!==p||e[13]!==f?(g=i7("div",{className:"drawer-link",children:[cp(Cu,{...r,className:"drawer-link__cell",link:!1,onClick:null}),cp(c,{children:cp(gr,{})}),cp(a,{onDelete:p,onSave:f})]}),e[9]=a,e[10]=c,e[11]=r,e[12]=p,e[13]=f,e[14]=g):g=e[14],g};import{c as d7}from"react/compiler-runtime";import{jsx as m7}from"react/jsx-runtime";import"react";import{jsx as rv}from"react/jsx-runtime";import"react";import{jsx as w4}from"react/jsx-runtime";import"react";var tv="clickable-arrow",S4=t=>{let{direction:e="right",isDisabled:o=!1,updatePage:n}=t,r=[tv,o&&`${tv}--is-disabled`,e&&`${tv}--${e}`].filter(Boolean).join(" ");return w4("button",{className:r,disabled:o,onClick:o?void 0:n,type:"button",children:w4(We,{})})};import{jsx as a7}from"react/jsx-runtime";import"react";var up="paginator__page",ov=({isCurrent:t,isFirstPage:e=!1,isLastPage:o=!1,page:n=1,updatePage:r})=>{let s=[up,t&&`${up}--is-current`,e&&`${up}--is-first-page`,o&&`${up}--is-last-page`].filter(Boolean).join(" ");return a7("button",{className:s,onClick:()=>r(n),type:"button",children:n})};import{jsx as l7}from"react/jsx-runtime";import"react";var I4=()=>l7("span",{className:"paginator__separator",children:"\u2014"});var c7={ClickableArrow:S4,Page:ov,Separator:I4},u7="paginator",yu=t=>{let{hasNextPage:e=!1,hasPrevPage:o=!1,nextPage:n=null,numberOfNeighbors:r=1,onChange:s,page:i,prevPage:l=null,totalPages:a=null}=t;if(!o&&!e)return null;let c=h=>{typeof s=="function"&&s(h)},u=Array.from({length:a},(h,p)=>p+1),d=i-1-r;d<=0&&(d=0);let m=i-1+r+1,f=u.slice(d,m);return i-r-1>=2&&f.unshift({type:"Separator"}),i>r+1&&f.unshift({type:"Page",props:{isFirstPage:!0,page:1,updatePage:c}}),i+r+1<a&&f.push({type:"Separator"}),m<a&&f.push({type:"Page",props:{isLastPage:!0,page:a,updatePage:c}}),f.unshift({type:"ClickableArrow",props:{direction:"right",isDisabled:!e,updatePage:()=>c(n??i+1)}}),f.unshift({type:"ClickableArrow",props:{direction:"left",isDisabled:!o,updatePage:()=>c(l??Math.max(1,i-1))}}),rv("div",{className:u7,children:f.map((h,p)=>{if(typeof h=="number")return rv(ov,{isCurrent:i===h,page:h,updatePage:c},p);let g=c7[h.type];return rv(g,{...h.props},p)})})};var _4=()=>{let t=d7(11),{data:e,handlePageChange:o}=st(),n=e.nextPage||2,r;t[0]!==o?(r=a=>{o(a)},t[0]=o,t[1]=r):r=t[1];let s=e.page||1,i=e.prevPage||void 0,l;return t[2]!==e.hasNextPage||t[3]!==e.hasPrevPage||t[4]!==e.limit||t[5]!==e.totalPages||t[6]!==n||t[7]!==r||t[8]!==s||t[9]!==i?(l=m7(yu,{hasNextPage:e.hasNextPage,hasPrevPage:e.hasPrevPage,limit:e.limit,nextPage:n,numberOfNeighbors:1,onChange:r,page:s,prevPage:i,totalPages:e.totalPages}),t[2]=e.hasNextPage,t[3]=e.hasPrevPage,t[4]=e.limit,t[5]=e.totalPages,t[6]=n,t[7]=r,t[8]=s,t[9]=i,t[10]=l):l=t[10],l};var Fr="relationship-table",sv=t=>{let{AfterInput:e,allowCreate:o=!0,BeforeInput:n,disableTable:r=!1,field:s,fieldPath:i,filterOptions:l,initialData:a,initialDrawerData:c,Label:u,parent:d,relationTo:m}=t,[f,h]=ls(null),{config:p,getEntityConfig:g}=W(),{permissions:b}=Ie(),[C]=ls(()=>{if(a)return{...a,docs:Array.isArray(a.docs)?a.docs.reduce((J,re)=>typeof re=="string"?[...J,{id:re}]:[...J,re],[]):[]}}),{i18n:v,t:y}=N(),[x,w]=ls(),[S,T]=ls(!1),[I]=ls(()=>g({collectionSlug:m})),R=Array.isArray(m),[F,_]=ls(R?void 0:m),[D,A]=ls(!r),[L,E]=ls(C),[k,B]=ls(),{getTableState:$}=$t(),P=dp(async J=>{let re={limit:s?.defaultLimit||I?.admin?.pagination?.defaultLimit,sort:s.defaultSort||I?.defaultSort,...x||{},where:{...x?.where||{}}};l&&(re.where=f7(re.where,l));let ie=s.admin.defaultColumns?s.admin.defaultColumns.map(be=>({accessor:be,active:!0})):void 0,{data:le,state:Z,Table:pe}=await $({collectionSlug:m,columns:T4(x?.columns)||ie,data:J,enableRowSelections:!1,orderableFieldName:!s.orderable||Array.isArray(s.collection)?void 0:`_${s.collection}_${s.name}_order`,parent:d,query:re,renderRowTypes:!0,tableAppearance:"condensed"});E(le),h(pe),B(Z),A(!1)},[s.defaultLimit,s.defaultSort,s.admin.defaultColumns,s.collection,s.name,s.orderable,I?.admin?.pagination?.defaultLimit,I?.defaultSort,x,l,$,m,d]),M=qt((J,re)=>{!re&&(!f||J)&&P()});nv(()=>{M(x,r)},[x,r]);let[j,,{closeDrawer:O,isDrawerOpen:G,openDrawer:V}]=St({collectionSlug:F}),z=dp(J=>{let re=L?.docs?.findIndex(le=>le.id===J.doc.id),ie={docs:[]};if(re!==-1){let le=[...L.docs];le[re]=J.doc,ie.docs=le}else ie.docs=[J.doc,...L.docs];P(ie)},[L?.docs,P]),X=dp(J=>{O(),z(J)},[O,z]),Q=dp(J=>{let re=L.docs.filter(ie=>ie.id!==J.id);P({...L,docs:re})},[L,P]),U=o!==!1&&b?.collections?.[R?m[0]:m]?.create;nv(()=>{R&&F&&V()},[F,V,R]),nv(()=>{R&&!G&&F&&_(void 0)},[G]);let ee=p7.useMemo(()=>({columns:T4(k)?.map(({accessor:J})=>J),limit:s.defaultLimit??I?.admin?.pagination?.defaultLimit,sort:s.defaultSort??I?.defaultSort}),[k,s,I]);return hl("div",{className:Fr,children:[hl("div",{className:`${Fr}__header`,children:[u,hl("div",{className:`${Fr}__actions`,children:[lr(Xb,{allowCreate:o!==!1,baseClass:Fr,buttonStyle:"none",className:`${Fr}__add-new${R?"-polymorphic":" doc-drawer__toggler"}`,collections:p.collections,i18n:v,icon:R?"plus":void 0,label:v.t("fields:addNew"),onClick:R?_:V,permissions:b,relationTo:m}),lr(vt,{"aria-controls":`${Fr}-columns`,"aria-expanded":S,className:`${Fr}__toggle-columns ${S?`${Fr}__buttons-active`:""}`,icon:lr(We,{direction:S?"up":"down"}),onClick:()=>T(!S),pillStyle:"light",size:"small",children:y("general:columns")})]})]}),n,D?lr("p",{children:y("general:loading")}):hl(h7,{children:[L?.docs&&L.docs.length===0&&hl("div",{className:`${Fr}__no-results`,children:[lr("p",{children:v.t("general:noResults",{label:R?v.t("general:documents"):D4(I?.labels?.plural,v)})}),lr(Xb,{allowCreate:U,baseClass:Fr,collections:p.collections,i18n:v,label:v.t("general:createNewLabel",{label:R?v.t("general:document"):D4(I?.labels?.singular,v)}),onClick:R?_:V,permissions:b,relationTo:m})]}),L?.docs&&L.docs.length>0&&lr(vu,{children:lr(kb,{data:L,modifySearchParams:!1,onQueryChange:w,orderableFieldName:!s.orderable||Array.isArray(s.collection)?void 0:`_${s.collection}_${i.replaceAll(".","_")}_order`,query:ee,children:hl(hu,{collectionSlug:R?m[0]:m,columnState:k,LinkedCellOverride:lr(x4,{onDrawerDelete:Q,onDrawerSave:z}),children:[lr(wr,{className:`${Fr}__columns`,height:S?"auto":0,id:`${Fr}-columns`,children:lr("div",{className:`${Fr}__columns-inner`,children:I&&lr(Jf,{collectionSlug:I.slug})})}),f,lr(_4,{})]})})})]}),e,lr(j,{initialData:c,onSave:X})]})};var R4=iv.default.default||iv.default,mp=({collectionSlug:t,config:e,docID:o,fields:n,segments:r})=>{let s=v7(n,{keepPresentationalFields:!0}),i=r[0],l=s.find(c=>c.name===i);if(!l)return null;if(l.type==="relationship"||l.type==="upload"){let c=o;return Array.isArray(l.relationTo)&&(c={relationTo:t,value:o}),{[l.name]:l.hasMany?[c]:c}}let a=r.slice(1,r.length);if(l.type==="tab"||l.type==="group"&&b7(l))return{[l.name]:mp({collectionSlug:t,config:e,docID:o,fields:l.fields,segments:a})};if(l.type==="array"){let c=mp({collectionSlug:t,config:e,docID:o,fields:l.fields,segments:a});return c.id=R4().toHexString(),{[l.name]:[c]}}if(l.type==="blocks")for(let c of l.blockReferences??l.blocks){let u=typeof c=="string"?e.blocksMap[c]:c,d=mp({collectionSlug:t,config:e,docID:o,fields:u.fields,segments:a});if(d)return d.id=R4().toHexString(),d.blockType=u.slug,{[l.name]:[d]}}},C7=t=>{let{field:e,field:{admin:{allowCreate:o,description:n},collection:r,label:s,localized:i,on:l,required:a},path:c}=t,{id:u,docConfig:d}=De(),{config:m,getEntityConfig:f}=W(),{customComponents:{AfterInput:h,BeforeInput:p,Description:g,Error:b,Label:C}={},path:v,showError:y,value:x}=Ne({potentiallyStalePath:c}),w=F4(()=>{if(!u)return null;let T=u;Array.isArray(e.targetField.relationTo)&&(T={relationTo:d.slug,value:T});let I=Array.isArray(r)?{}:{[l]:{equals:T}};return e.where?{and:[I,e.where]}:I},[u,r,e.targetField.relationTo,e.where,l,d?.slug]),S=F4(()=>{let T=f({collectionSlug:Array.isArray(e.collection)?e.collection[0]:e.collection});return mp({collectionSlug:d?.slug,config:m,docID:u,fields:T.fields,segments:e.on.split(".")})},[f,e.collection,e.on,d?.slug,u,m]);return d?g7("div",{className:[Re,y&&"error","join"].filter(Boolean).join(" "),id:`field-${v?.replace(/\./g,"__")}`,children:[Yi(ue,{CustomComponent:b,Fallback:Yi(Qe,{path:v,showError:y})}),Yi(sv,{AfterInput:h,allowCreate:typeof u<"u"&&o,BeforeInput:p,disableTable:w===null,field:e,fieldPath:v,filterOptions:w,initialData:u&&x?x:{docs:[]},initialDrawerData:S,Label:Yi("h4",{style:{margin:0},children:C||Yi(_e,{label:s,localized:i,path:v,required:a})}),parent:Array.isArray(r)?{id:u,collectionSlug:d.slug,joinPath:v}:void 0,relationTo:r}),Yi(ue,{CustomComponent:g,Fallback:Yi(Xe,{description:n,path:v})})]}):null},xu=ze(C7);import{jsx as Ji,jsxs as A4}from"react/jsx-runtime";import y7,{useCallback as av,useEffect as x7,useMemo as w7,useState as lv}from"react";var S7="json-field",I7=t=>{let{field:e,field:{admin:{className:o,description:n,editorOptions:r,maxHeight:s}={},jsonSchema:i,label:l,localized:a,required:c},path:u,readOnly:d,validate:m}=t,[f,h]=lv(),p=y7.useRef("system"),[g,b]=lv(""),C=av(($,P)=>{if(typeof m=="function")return m($,{...P,jsonError:f,required:c})},[m,c,f]),{customComponents:{AfterInput:v,BeforeInput:y,Description:x,Error:w,Label:S}={},disabled:T,initialValue:I,path:R,setValue:F,showError:_,value:D}=Ne({potentiallyStalePath:u,validate:C}),[A,L]=lv(()=>(D||I)!==void 0?JSON.stringify(D??I,null,2):void 0),E=av(($,P)=>{if(!i)return;P.languages.json.jsonDefaults.setDiagnosticsOptions({enableSchemaRequest:!0,schemas:[...P.languages.json.jsonDefaults.diagnosticsOptions.schemas||[],i],validate:!0});let M=i.uri,j=M.includes("?")?`${M}&${crypto.randomUUID?crypto.randomUUID():ns()}`:`${M}?${crypto.randomUUID?crypto.randomUUID():ns()}`;$.setModel(P.editor.createModel(JSON.stringify(D,null,2),"json",P.Uri.parse(j)))},[i,D]),k=av($=>{if(!(d||T)){p.current="user";try{F($?JSON.parse($):null),h(void 0)}catch(P){F($||null),h(P)}}},[d,T,F]);x7(()=>{p.current==="system"&&(L((D||I)!==void 0?JSON.stringify(D??I,null,2):void 0),b(new Date().toString())),p.current="system"},[I,D]);let B=w7(()=>rt(e),[e]);return A4("div",{className:[Re,S7,o,_&&"error",(d||T)&&"read-only"].filter(Boolean).join(" "),style:B,children:[Ji(ue,{CustomComponent:S,Fallback:Ji(_e,{label:l,localized:a,path:R,required:c})}),A4("div",{className:`${Re}__wrap`,children:[Ji(ue,{CustomComponent:w,Fallback:Ji(Qe,{message:f,path:R,showError:_})}),y,Ji(Hc,{defaultLanguage:"json",maxHeight:s,onChange:k,onMount:E,options:r,readOnly:d||T,value:A,wrapperProps:{id:`field-${R?.replace(/\./g,"__")}`}},g),v]}),Ji(ue,{CustomComponent:x,Fallback:Ji(Xe,{description:n,path:R})})]})},wu=ze(I7);import{jsx as cs,jsxs as P4}from"react/jsx-runtime";import{getTranslation as _7}from"@payloadcms/translations";import{isNumber as D7}from"payload/shared";import{useCallback as cv,useEffect as T7,useMemo as F7,useState as R7}from"react";var A7=t=>{let{field:e,field:{admin:{className:o,description:n,placeholder:r,step:s=1}={},hasMany:i=!1,label:l,localized:a,max:c=1/0,maxRows:u=1/0,min:d=-1/0,required:m},onChange:f,path:h,readOnly:p,validate:g}=t,{i18n:b,t:C}=N(),v=cv((P,M)=>{if(typeof g=="function")return g(P,{...M,max:c,min:d,required:m})},[g,d,c,m]),{customComponents:{AfterInput:y,BeforeInput:x,Description:w,Error:S,Label:T}={},disabled:I,path:R,setValue:F,showError:_,value:D}=Ne({potentiallyStalePath:h,validate:v}),A=cv(P=>{let M=parseFloat(P.target.value),j=M;Number.isNaN(M)&&(j=null),typeof f=="function"&&f(j),F(j)},[f,F]),[L,E]=R7([]),k=cv(P=>{if(!(p||I)){let M;P?Array.isArray(P)?M=P.map(j=>Number(j.value?.value||j.value)):M=[Number(P.value?.value||P.value)]:M=[],F(M)}},[p,I,F]);T7(()=>{i&&Array.isArray(D)&&E(D.map((P,M)=>({id:`${P}${M}`,label:`${P}`,value:{toString:()=>`${P}${M}`,value:P?.value||P}})))},[D,i]);let B=F7(()=>rt(e),[e]),$=_7(r,b);return P4("div",{className:[Re,"number",o,_&&"error",(p||I)&&"read-only",i&&"has-many"].filter(Boolean).join(" "),style:B,children:[cs(ue,{CustomComponent:T,Fallback:cs(_e,{label:l,localized:a,path:R,required:m})}),P4("div",{className:`${Re}__wrap`,children:[cs(ue,{CustomComponent:S,Fallback:cs(Qe,{path:R,showError:_})}),x,i?cs(pt,{className:`field-${R.replace(/\./g,"__")}`,disabled:p||I,filterOption:(P,M)=>{let j=Array.isArray(D)&&D.length>=u;return D7(M)&&!j},isClearable:!0,isCreatable:!0,isMulti:!0,isSortable:!0,noOptionsMessage:()=>Array.isArray(D)&&D.length>=u?C("validation:limitReached",{max:u,value:D.length+1}):null,onChange:k,options:[],placeholder:$,showError:_,value:L}):cs("div",{children:cs("input",{disabled:p||I,id:`field-${R.replace(/\./g,"__")}`,max:c,min:d,name:R,onChange:A,onWheel:P=>{P.target.blur()},placeholder:$,step:s,type:"number",value:typeof D=="number"?D:""})}),y,cs(ue,{CustomComponent:w,Fallback:cs(Xe,{description:n,path:R})})]})]})},Su=ze(A7);import{jsx as En,jsxs as gl}from"react/jsx-runtime";import{getTranslation as uv}from"@payloadcms/translations";import{useCallback as E4,useMemo as P7}from"react";var N4="point",E7=t=>{let{field:e,field:{admin:{className:o,description:n,placeholder:r,step:s}={},label:i,localized:l,required:a},path:c,readOnly:u,validate:d}=t,{i18n:m,t:f}=N(),h=E4((_,D)=>{if(typeof d=="function")return d(_,{...D,required:a})},[d,a]),{customComponents:{AfterInput:p,BeforeInput:g,Description:b,Error:C,Label:v}={},disabled:y,path:x,setValue:w,showError:S,value:T=[null,null]}=Ne({potentiallyStalePath:c,validate:h}),I=E4((_,D)=>{let A=parseFloat(_.target.value);Number.isNaN(A)&&(A=_.target.value);let L=[...T];L[D]=A,w(L)},[w,T]),R=_=>{let D=f(_==="longitude"?"fields:longitude":"fields:latitude"),A=i?uv(i,m):"";return`${A}${A?" - ":""}${D}`},F=P7(()=>rt(e),[e]);return gl("div",{className:[Re,N4,o,S&&"error",(u||y)&&"read-only"].filter(Boolean).join(" "),style:F,children:[gl("ul",{className:`${N4}__wrap`,children:[gl("li",{children:[En(ue,{CustomComponent:v,Fallback:En(_e,{label:R("longitude"),localized:l,path:x,required:a})}),gl("div",{className:"input-wrapper",children:[g,En("input",{disabled:u||y,id:`field-longitude-${x?.replace(/\./g,"__")}`,name:`${x}.longitude`,onChange:_=>I(_,0),placeholder:uv(r,m),step:s,type:"number",value:T&&typeof T[0]=="number"?T[0]:""}),p]})]}),gl("li",{children:[En(ue,{CustomComponent:v,Fallback:En(_e,{label:R("latitude"),localized:l,path:x,required:a})}),gl("div",{className:"input-wrapper",children:[En(ue,{CustomComponent:C,Fallback:En(Qe,{path:x,showError:S})}),g,En("input",{disabled:u||y,id:`field-latitude-${x?.replace(/\./g,"__")}`,name:`${x}.latitude`,onChange:_=>I(_,1),placeholder:uv(r,m),step:s,type:"number",value:T&&typeof T[1]=="number"?T[1]:""}),p]})]})]}),En(ue,{CustomComponent:b,Fallback:En(Xe,{description:n,path:x})})]})},Iu=ze(E7);import{jsx as us,jsxs as L4}from"react/jsx-runtime";import{optionIsObject as $4}from"payload/shared";import{useCallback as k7,useMemo as j7}from"react";import{c as N7}from"react/compiler-runtime";import{jsx as fp,jsxs as L7}from"react/jsx-runtime";import{getTranslation as $7}from"@payloadcms/translations";import"react";var _u="radio-input",Du=t=>{let e=N7(16),{isSelected:o,onChange:n,option:r,path:s,readOnly:i,uuid:l}=t,{i18n:a}=N(),c=ct(),u=`field-${s}-${r.value}${c>1?`-${c}`:""}${l?`-${l}`:""}`,d=o&&`${_u}--is-selected`,m;e[0]!==d?(m=[_u,d].filter(Boolean),e[0]=d,e[1]=m):m=e[1];let f=m.join(" "),h;e[2]!==n||e[3]!==r.value?(h=()=>typeof n=="function"?n(r.value):null,e[2]=n,e[3]=r.value,e[4]=h):h=e[4];let p;if(e[5]!==a||e[6]!==u||e[7]!==o||e[8]!==r.label||e[9]!==s||e[10]!==i||e[11]!==f||e[12]!==h){let g=fp("input",{checked:o,disabled:i,id:u,name:s,onChange:h,type:"radio"}),b=i&&`${_u}__styled-radio--disabled`,C;e[14]!==b?(C=[`${_u}__styled-radio`,b].filter(Boolean),e[14]=b,e[15]=C):C=e[15],p=fp("label",{htmlFor:u,children:L7("div",{className:f,children:[g,fp("span",{className:C.join(" ")}),fp("span",{className:`${_u}__label`,children:$7(r.label,a)})]})}),e[5]=a,e[6]=u,e[7]=o,e[8]=r.label,e[9]=s,e[10]=i,e[11]=f,e[12]=h,e[13]=p}else p=e[13];return p};var pp="radio-group",B7=t=>{let{disableModifyingForm:e,field:o,field:{admin:{className:n,description:r,layout:s="horizontal"}={},label:i,localized:l,options:a=[],required:c}={},onChange:u,path:d,readOnly:m,validate:f,value:h}=t,{uuid:p}=Ve(),g=k7((D,A)=>{if(typeof f=="function")return f(D,{...A,options:a,required:c})},[f,a,c]),{customComponents:{AfterInput:b,BeforeInput:C,Description:v,Error:y,Label:x}={},disabled:w,path:S,setValue:T,showError:I,value:R}=Ne({potentiallyStalePath:d,validate:g}),F=R||h,_=j7(()=>rt(o),[o]);return L4("div",{className:[Re,pp,n,`${pp}--layout-${s}`,I&&"error",(m||w)&&`${pp}--read-only`].filter(Boolean).join(" "),style:_,children:[us(ue,{CustomComponent:y,Fallback:us(Qe,{path:S,showError:I})}),us(ue,{CustomComponent:x,Fallback:us(_e,{label:i,localized:l,path:S,required:c})}),L4("div",{className:`${Re}__wrap`,children:[C,us("ul",{className:`${pp}--group`,id:`field-${S.replace(/\./g,"__")}`,children:a.map(D=>{let A="";$4(D)?A=D.value:A=D;let L=String(A)===String(F),E=`field-${S}-${A}${p?`-${p}`:""}`;return us("li",{children:us(Du,{id:E,isSelected:L,onChange:()=>{typeof u=="function"&&u(A),m||w||T(A,!!e)},option:$4(D)?D:{label:D,value:D},path:S,readOnly:m||w,uuid:p})},`${S} - ${A}`)})}),b,us(ue,{CustomComponent:v,Fallback:us(Xe,{description:r,path:S})})]})]})},Tu=ze(B7);import{jsx as g8}from"react/jsx-runtime";import Cv,{useCallback as yv,useMemo as b8}from"react";import{jsx as bn,jsxs as gv}from"react/jsx-runtime";import{dequal as d8}from"dequal/lite";import{formatAdminURL as m8,wordBoundariesRegex as f8}from"payload/shared";import*as bv from"qs-esm";import{useCallback as Ys,useEffect as Pu,useMemo as p8,useReducer as h8,useRef as Eu,useState as Js}from"react";import{c as M7}from"react/compiler-runtime";import{jsx as Nn,jsxs as hp}from"react/jsx-runtime";import{getTranslation as k4}from"@payloadcms/translations";import{Fragment as dv,useEffect as gp,useState as Fu}from"react";var bl="relationship-add-new",j4=t=>{let e=M7(46),{Button:o,hasMany:n,onChange:r,path:s,relationTo:i,unstyled:l,value:a}=t,c=qf(i),{permissions:u}=Ie(),[d,m]=Fu(!1),[f,h]=Fu(),p=c.length>1,g;e[0]!==c[0]||e[1]!==p?(g=()=>p?void 0:c[0],e[0]=c[0],e[1]=p,e[2]=g):g=e[2];let[b,C]=Fu(g),[v,y]=Fu(!1),{i18n:x,t:w}=N(),[S,T]=Fu(!1),I=b?.slug,R;e[3]!==I?(R={collectionSlug:I},e[3]=I,e[4]=R):R=e[4];let[F,_,D]=St(R),{isDrawerOpen:A,toggleDrawer:L}=D,E;e[5]!==b||e[6]!==n||e[7]!==r||e[8]!==c[0]||e[9]!==a?(E=ee=>{let{doc:J,operation:re}=ee,ie=typeof b?.versions?.drafts=="object"?b.versions.drafts.autosave:!1;if(re==="create"||re==="update"&&ie){let le;a?le=Array.isArray(a)?!a.some(Z=>Z&&Z.value===J.id):a.value!==J.id:le=!0,le&&r(n===!0?[...Array.isArray(a)?a:[],{relationTo:b?.slug,value:J.id}]:{relationTo:c[0].slug,value:J.id}),h(void 0)}},e[5]=b,e[6]=n,e[7]=r,e[8]=c[0],e[9]=a,e[10]=E):E=e[10];let k=E,B;e[11]===Symbol.for("react.memo_cache_sentinel")?(B=ee=>{y(ee)},e[11]=B):B=e[11];let $=B,P,M;e[12]!==u||e[13]!==c?(P=()=>{u&&(c.length===1?m(u.collections[c[0]?.slug]?.create):m(c.some(ee=>u.collections[ee?.slug]?.create)))},M=[u,c],e[12]=u,e[13]=c,e[14]=P,e[15]=M):(P=e[14],M=e[15]),gp(P,M);let j,O;e[16]!==c||e[17]!==p||e[18]!==f?(O=()=>{p&&f&&C(c.find(ee=>ee?.slug===f))},j=[f,p,c],e[16]=c,e[17]=p,e[18]=f,e[19]=j,e[20]=O):(j=e[19],O=e[20]),gp(O,j);let G,V;e[21]!==b||e[22]!==p||e[23]!==L?(G=()=>{p&&b&&(L(),h(void 0))},V=[L,p,b],e[21]=b,e[22]=p,e[23]=L,e[24]=G,e[25]=V):(G=e[24],V=e[25]),gp(G,V);let z,X;e[26]!==A||e[27]!==p?(z=()=>{p&&!A&&C(void 0)},X=[A,p],e[26]=A,e[27]=p,e[28]=z,e[29]=X):(z=e[28],X=e[29]),gp(z,X);let Q=c[0]?.labels.singular,U;if(e[30]!==o||e[31]!==F||e[32]!==_||e[33]!==b||e[34]!==x||e[35]!==k||e[36]!==s||e[37]!==u||e[38]!==v||e[39]!==c||e[40]!==d||e[41]!==S||e[42]!==w||e[43]!==Q||e[44]!==l){U=Symbol.for("react.early_return_sentinel");e:{let ee=w("fields:addNewLabel",{label:k4(Q,x)});if(d){U=hp("div",{className:bl,id:`${s}-add-new`,children:[c.length===1&&hp(dv,{children:[Nn(_,{className:[`${bl}__add-button`,l&&`${bl}__add-button--unstyled`].filter(Boolean).join(" "),onClick:()=>T(!1),onMouseEnter:()=>T(!0),onMouseLeave:()=>T(!1),children:o||hp(dv,{children:[Nn(Eo,{className:`${bl}__tooltip`,show:S,children:ee}),Nn(jr,{})]})}),Nn(F,{onSave:k})]}),c.length>1&&hp(dv,{children:[Nn(lt,{button:o||Nn(oe,{buttonStyle:"none",className:`${bl}__add-button`,tooltip:v?void 0:w("fields:addNew"),children:Nn(jr,{})}),buttonType:"custom",horizontalAlign:"center",onToggleOpen:$,render:J=>{let{close:re}=J;return Nn(Lg,{children:c.map(ie=>u.collections[ie?.slug].create?Nn($g,{className:`${bl}__relation-button--${ie?.slug}`,onClick:()=>{re(),h(ie?.slug)},children:k4(ie?.labels?.singular,x)},ie?.slug):null)})},size:"medium"}),b&&u.collections[b?.slug]?.create&&Nn(F,{onSave:k})]})]});break e}}e[30]=o,e[31]=F,e[32]=_,e[33]=b,e[34]=x,e[35]=k,e[36]=s,e[37]=u,e[38]=v,e[39]=c,e[40]=d,e[41]=S,e[42]=w,e[43]=Q,e[44]=l,e[45]=U}else U=e[45];return U!==Symbol.for("react.early_return_sentinel")?U:null};import{c as G7}from"react/compiler-runtime";import{jsx as bp}from"react/jsx-runtime";import{createElement as z7}from"react";import{useEffect as V4,useId as W7,useState as G4}from"react";import{jsx as B4,jsxs as O7}from"react/jsx-runtime";import{hoistQueryParamsToAnd as V7}from"payload/shared";import{useCallback as Ru,useEffect as M4,useState as mv}from"react";var O4=({allowCreate:t=!0,collectionSlugs:e,disableQueryPresets:o,drawerSlug:n,enableRowSelections:r,filterOptions:s,onBulkSelect:i,onSelect:l,overrideEntityVisibility:a=!0,selectedCollection:c})=>{let{closeModal:u,isModalOpen:d}=ae(),{serverFunction:m}=$t(),[f,h]=mv(void 0),[p,g]=mv(!0),{config:{collections:b},getEntityConfig:C}=W(),v=d(n),y=b.filter(({slug:E})=>e.includes(E)),[x,w]=mv(()=>{let E=c||y[0]?.slug,k=C({collectionSlug:E});return k?{label:k.labels,value:k.slug}:void 0}),[S,T,{drawerSlug:I}]=St({collectionSlug:x.value}),R=qt(E=>{E&&E!==x?.value&&w({label:C({collectionSlug:E})?.labels,value:E})});M4(()=>{R(c)},[c]);let F=Ru(async({slug:E,query:k})=>{try{let B={...k||{},where:{...k?.where||{}}},$=s?.[E];if(s&&typeof $!="boolean"&&(B.where=V7(B.where,$)),E){let P=await m({name:"render-list",args:{allowCreate:t,collectionSlug:E,disableBulkDelete:!0,disableBulkEdit:!0,disableQueryPresets:o,drawerSlug:n,enableRowSelections:r,overrideEntityVisibility:a,query:B}});h(P?.List||null)}else h(null);g(!1)}catch(B){console.error("Error rendering List View: ",B),v&&u(n)}},[m,u,t,n,v,r,s,a,o]);M4(()=>{f||F({slug:x?.value})},[F,f,x.value]);let _=Ru(({doc:E})=>{typeof l=="function"&&l({collectionSlug:x?.value,doc:E,docID:E.id}),u(I),u(n)},[u,I,n,l,x.value]),D=Ru(E=>{F({slug:x?.value,query:E})},[F,x.value]),A=Ru(E=>{w(E),F({slug:E?.value})},[F]),L=Ru(async E=>{E&&w({label:C({collectionSlug:E})?.labels,value:E}),await F({slug:x.value||E})},[C,F,x.value]);return p?B4(hn,{}):O7(Eb,{allowCreate:t,createNewDrawerSlug:I,DocumentDrawerToggler:T,drawerSlug:n,enabledCollections:e,onBulkSelect:i,onQueryChange:D,onSelect:l,refresh:L,selectedOption:x,setSelectedOption:A,children:[f,B4(S,{onSave:_})]})};var z4="list-drawer",H7=({depth:t,uuid:e})=>`list-drawer_${t}_${e}`,U7=({children:t,className:e,disabled:o,drawerSlug:n,onClick:r,...s})=>bp(ts,{className:[e,`${z4}__toggler`].filter(Boolean).join(" "),disabled:o,onClick:r,slug:n,...s,children:t}),X7=t=>{let{drawerSlug:e}=t;return bp(Bt,{className:z4,gutter:!1,Header:null,slug:e,children:bp(O4,{...t})})},qi=t=>{let e=G7(42),{collectionSlugs:o,filterOptions:n,selectedCollection:r,uploads:s}=t,{config:i}=W(),{collections:l}=i,a=ct(),c=W7(),{closeModal:u,modalState:d,openModal:m,toggleModal:f}=ae(),[h,p]=G4(!1),[g,b]=G4(o),C;e[0]!==a||e[1]!==c?(C=H7({depth:a,uuid:c}),e[0]=a,e[1]=c,e[2]=C):C=e[2];let v=C,y,x;e[3]!==v||e[4]!==d?(y=()=>{p(!!d[v]?.isOpen)},x=[d,v],e[3]=v,e[4]=d,e[5]=y,e[6]=x):(y=e[5],x=e[6]),V4(y,x);let w,S;e[7]!==g||e[8]!==l||e[9]!==s?(w=()=>{if(!g||g.length===0){let G=l.filter(V=>{let{upload:z}=V;return s?!!z:!0});b(G.map(Z7))}},S=[g,s,l],e[7]=g,e[8]=l,e[9]=s,e[10]=w,e[11]=S):(w=e[10],S=e[11]),V4(w,S);let T;e[12]!==v||e[13]!==f?(T=()=>{f(v)},e[12]=v,e[13]=f,e[14]=T):T=e[14];let I=T,R;e[15]!==u||e[16]!==v?(R=()=>{u(v)},e[15]=u,e[16]=v,e[17]=R):R=e[17];let F=R,_;e[18]!==v||e[19]!==m?(_=()=>{m(v)},e[18]=v,e[19]=m,e[20]=_):_=e[20];let D=_,A,L;e[21]!==F||e[22]!==g||e[23]!==v||e[24]!==n||e[25]!==r||e[26]!==s?(L=G=>z7(X7,{...G,closeDrawer:F,collectionSlugs:g,drawerSlug:v,filterOptions:n,key:v,selectedCollection:r,uploads:s}),e[21]=F,e[22]=g,e[23]=v,e[24]=n,e[25]=r,e[26]=s,e[27]=L):L=e[27],A=L;let E=A,k,B;e[28]!==v?(B=G=>bp(U7,{...G,drawerSlug:v}),e[28]=v,e[29]=B):B=e[29],k=B;let $=k,P,M;e[30]!==F||e[31]!==g||e[32]!==a||e[33]!==v||e[34]!==h||e[35]!==D||e[36]!==I?(M={closeDrawer:F,collectionSlugs:g,drawerDepth:a,drawerSlug:v,isDrawerOpen:h,openDrawer:D,setCollectionSlugs:b,toggleDrawer:I},e[30]=F,e[31]=g,e[32]=a,e[33]=v,e[34]=h,e[35]=D,e[36]=I,e[37]=M):M=e[37],P=M;let j=P,O;return e[38]!==E||e[39]!==j||e[40]!==$?(O=[E,$,j],e[38]=E,e[39]=j,e[40]=$,e[41]=O):O=e[41],O};function Z7(t){let{slug:e}=t;return e}import{c as Y7}from"react/compiler-runtime";import{useRef as J7}from"react";var fv=(t,e)=>{let o=Y7(3),n=J7(void 0),r;return o[0]!==t||o[1]!==e?(r=(...s)=>{let i=s,l=()=>{clearTimeout(n.current),t(...i)};clearTimeout(n.current),n.current=setTimeout(l,e)},o[0]=t,o[1]=e,o[2]=r):r=o[2],r};import{useCallback as q7,useRef as W4}from"react";function vl(){let t=W4([]),e=W4(!1);return{queueTask:q7((n,r)=>{t.current.push(n);async function s(){if(!e.current&&!(typeof r?.beforeProcess=="function"&&r.beforeProcess()===!1))for(;t.current.length>0;){let i=t.current.pop();t.current=[],e.current=!0;try{await i()}catch(l){console.error("Error in queued function:",l)}finally{e.current=!1,typeof r?.afterProcess=="function"&&r.afterProcess()}}}s()},[])}}var pv=t=>{for(let e in t){let o=t[e];if((e.toLowerCase()==="and"||e.toLowerCase()==="or")&&Array.isArray(o))for(let n of o)pv(n);else o&&typeof o=="object"&&"in"in o&&Array.isArray(o.in)&&o.in.length===0&&(t[e]={exists:!1})}return t};var hv=({hasMany:t,relationTo:e,value:o})=>{let n=e.reduce((r,s)=>({...r,[s]:[]}),{});if(o===null)return n;if(o){let r=(s,i)=>{(typeof i=="string"||typeof i=="number")&&typeof s=="string"&&(n[s]?n[s].push(i):n[s]=[i])};t===!0?o.forEach(s=>{s&&r(s.relationTo,s.value)}):r(o.relationTo,o.value)}return n};var H4=({allowEdit:t,options:e,value:o})=>{if(o||typeof o=="number"){if(Array.isArray(o))return o.map(r=>{let s;return e.forEach(i=>{s||(s=i.options.find(l=>l.value===r.value&&l.relationTo===r.relationTo))}),s?{allowEdit:t,...s}:void 0});let n;return e.forEach(r=>{n||(n=r.options.find(s=>s.value===o.value&&s.relationTo===o.relationTo))}),n?{allowEdit:t,...n}:void 0}};import{getTranslation as Q7}from"@payloadcms/translations";var X4=t=>t.reduce((e,o)=>o.options?[...e,...X4(o.options)]:[...e,{id:o.value,relationTo:o.relationTo}],[]),U4=t=>t.sort((e,o)=>typeof e?.label?.localeCompare=="function"&&typeof o?.label?.localeCompare=="function"?e.label.localeCompare(o.label):0),Z4=(t,e)=>{switch(e.type){case"ADD":{let{collection:o,config:n,docs:r,i18n:s,ids:i=[],sort:l}=e,a=o.slug,c=X4(t),u=[...t],d=u.find(f=>f.label===o.labels.plural),m=r.reduce((f,h)=>{if(c.filter(p=>p.id===h.id&&p.relationTo===a).length===0){c.push({id:h.id,relationTo:a});let p=Zo({collectionConfig:o,data:h,dateFormat:n.admin.dateFormat,fallback:`${s.t("general:untitled")} - ID: ${h.id}`,i18n:s});return[...f,{label:p,relationTo:a,value:h.id}]}return f},[]);if(i.forEach(f=>{c.filter(h=>h.id===f&&h.relationTo===a).length===0&&(c.push({id:f,relationTo:a}),m.push({allowEdit:!1,label:`${s.t("general:untitled")} - ID: ${f}`,relationTo:a,value:f}))}),d){let f=[...d.options,...m];d.options=l?U4(f):f}else u.push({label:Q7(o.labels.plural,s),options:l?U4(m):m});return u}case"CLEAR":{let o=e.exemptValues?Array.isArray(e.exemptValues)?e.exemptValues:[e.exemptValues]:[];return t.filter(r=>{let s=r.options.filter(i=>o?o.some(l=>l&&i.value===l.value):!1);return r.options=s,s.length>0})}case"REMOVE":{let{id:o,collection:n}=e,r=[...t],s=r.findIndex(i=>i.label===n.labels.plural);return s===-1||(r[s]={...r[s],options:r[s].options.filter(i=>i.value!==o)}),r}case"UPDATE":{let{collection:o,config:n,doc:r,i18n:s}=e,i=o.slug,l=[...t],a=Zo({collectionConfig:o,data:r,dateFormat:n.admin.dateFormat,fallback:`${s.t("general:untitled")} - ID: ${r.id}`,i18n:s}),u=l.find(d=>d.label===o.labels.plural)?.options?.find(d=>d.value===r.id);return u&&(u.label=a,u.relationTo=i),l}default:return t}};import{c as K7}from"react/compiler-runtime";import{jsx as Au,jsxs as Y4}from"react/jsx-runtime";import{Fragment as e8,useState as t8}from"react";var Cl="relationship--multi-value-label",J4=t=>{let e=K7(26),{data:o,selectProps:n}=t,{allowEdit:r,label:s,relationTo:i,value:l}=o,a;e[0]!==n?(a=n===void 0?{}:n,e[0]=n,e[1]=a):a=e[1];let{customProps:c}=a,u;e[2]!==c?(u=c===void 0?{}:c,e[2]=c,e[3]=u):u=e[3];let{draggableProps:d,onDocumentOpen:m}=u,{permissions:f}=Ie(),[h,p]=t8(!1),{t:g}=N(),b=!!f?.collections?.[i]?.read,C;e[4]!==d?(C=d||{},e[4]=d,e[5]=C):C=e[5];let v;if(e[6]!==r||e[7]!==b||e[8]!==s||e[9]!==m||e[10]!==t||e[11]!==i||e[12]!==h||e[13]!==g||e[14]!==C||e[15]!==l){let y;e[17]!==r||e[18]!==b||e[19]!==s||e[20]!==m||e[21]!==i||e[22]!==h||e[23]!==g||e[24]!==l?(y=i&&b&&r!==!1&&Au(e8,{children:Y4("button",{"aria-label":`Edit ${s}`,className:`${Cl}__drawer-toggler`,onClick:x=>{p(!1),m({id:l,collectionSlug:i,hasReadPermission:b,openInNewTab:x.metaKey||x.ctrlKey})},onKeyDown:o8,onMouseDown:r8,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),onTouchEnd:n8,type:"button",children:[Au(Eo,{className:`${Cl}__tooltip`,show:h,children:g("general:editLabel",{label:""})}),Au(gr,{className:`${Cl}__icon`})]})}),e[17]=r,e[18]=b,e[19]=s,e[20]=m,e[21]=i,e[22]=h,e[23]=g,e[24]=l,e[25]=y):y=e[25],v=Y4("div",{className:Cl,children:[Au("div",{className:`${Cl}__content`,children:Au(To.MultiValueLabel,{...t,innerProps:{className:`${Cl}__text`,...C}})}),y]}),e[6]=r,e[7]=b,e[8]=s,e[9]=m,e[10]=t,e[11]=i,e[12]=h,e[13]=g,e[14]=C,e[15]=l,e[16]=v}else v=e[16];return v};function o8(t){t.key==="Enter"&&t.stopPropagation()}function r8(t){return t.stopPropagation()}function n8(t){return t.stopPropagation()}import{c as s8}from"react/compiler-runtime";import{jsx as yl,jsxs as q4}from"react/jsx-runtime";import{Fragment as i8,useState as a8}from"react";var xl="relationship--single-value",Q4=t=>{let e=s8(24),{children:o,data:n,selectProps:r}=t,{allowEdit:s,label:i,relationTo:l,value:a}=n,c;e[0]!==r?(c=r===void 0?{}:r,e[0]=r,e[1]=c):c=e[1];let{customProps:u}=c,d;e[2]!==u?(d=u===void 0?{}:u,e[2]=u,e[3]=d):d=e[3];let{onDocumentOpen:m}=d,[f,h]=a8(!1),{t:p}=N(),{permissions:g}=Ie(),b=!!g?.collections?.[l]?.read,C;if(e[4]!==s||e[5]!==o||e[6]!==b||e[7]!==i||e[8]!==m||e[9]!==t||e[10]!==l||e[11]!==f||e[12]!==p||e[13]!==a){let v;e[15]!==s||e[16]!==b||e[17]!==i||e[18]!==m||e[19]!==l||e[20]!==f||e[21]!==p||e[22]!==a?(v=l&&b&&s!==!1&&yl(i8,{children:q4("button",{"aria-label":p("general:editLabel",{label:i}),className:`${xl}__drawer-toggler`,onClick:y=>{h(!1),m({id:a,collectionSlug:l,hasReadPermission:b,openInNewTab:y.metaKey||y.ctrlKey})},onKeyDown:l8,onMouseDown:c8,onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),onTouchEnd:u8,type:"button",children:[yl(Eo,{className:`${xl}__tooltip`,show:f,children:p("general:edit")}),yl(gr,{})]})}),e[15]=s,e[16]=b,e[17]=i,e[18]=m,e[19]=l,e[20]=f,e[21]=p,e[22]=a,e[23]=v):v=e[23],C=yl(To.SingleValue,{...t,className:xl,children:yl("div",{className:`${xl}__label`,children:q4("div",{className:`${xl}__label-text`,children:[yl("div",{className:`${xl}__text`,children:o}),v]})})}),e[4]=s,e[5]=o,e[6]=b,e[7]=i,e[8]=m,e[9]=t,e[10]=l,e[11]=f,e[12]=p,e[13]=a,e[14]=C}else C=e[14];return C};function l8(t){t.key==="Enter"&&t.stopPropagation()}function c8(t){return t.stopPropagation()}function u8(t){return t.stopPropagation()}var Nu="relationship",vv=t=>{let{AfterInput:e,allowCreate:o=!0,allowEdit:n=!0,appearance:r="select",BeforeInput:s,className:i,description:l,Description:a,Error:c,filterOptions:u,formatDisplayedOptions:d,hasMany:m,initialValue:f,isSortable:h=!0,label:p,Label:g,localized:b,maxResultsPerRequest:C=10,onChange:v,path:y,placeholder:x,readOnly:w,relationTo:S,required:T,showError:I,sortOptions:R,style:F,value:_}=t,{config:D,getEntityConfig:A}=W(),{routes:{api:L},serverURL:E}=D,{i18n:k,t:B}=N(),{permissions:$}=Ie(),{code:P}=xe(),[M,j]=Js({id:void 0,collectionSlug:void 0,hasReadPermission:!1}),[O,G]=Js(-1),[V,z]=Js({}),[X,Q]=Js(""),[U,ee]=Js(""),[J,re]=Js(!1),[ie,le]=Js(!1),[Z,pe]=Js(!1),be=Eu(!1),{queueTask:Ae}=vl(),[ge,Te]=h8(Z4,[]),Y=Eu(_),[de,,{isDrawerOpen:H,openDrawer:q}]=St({id:M.id,collectionSlug:M.collectionSlug}),ne=p8(()=>{let se=u;if(_){let Ce=(m===!1?[_]:_).reduce((fe,Se)=>(fe[Se.relationTo]||(fe[Se.relationTo]=[]),fe[Se.relationTo].push(Se.value),fe),{});(Array.isArray(S)?S:[S]).forEach(fe=>{se={...se||{},[fe]:{...typeof u?.[fe]=="object"?u[fe]:{},...Ce[fe]?{id:{not_in:Ce[fe]}}:{}}}})}return se},[u,_,m,S]),[te,,{closeDrawer:ce,isDrawerOpen:he,openDrawer:$e}]=qi({collectionSlugs:S,filterOptions:ne}),me=Ys(({collectionSlug:se,doc:Ce})=>{m?v([...Array.isArray(_)?_:[],{relationTo:se,value:Ce.id}]):m===!1&&v({relationTo:se,value:Ce.id}),ce()},[m,v,ce,_]),ye=Eu(!1),Be=Ys(({filterOptions:se,hasMany:Ce,lastFullyLoadedRelation:fe,lastLoadedPage:Se,onSuccess:we,search:Me,sort:Ze,value:Je})=>{$&&Ae(async()=>{let Ye=typeof fe<"u"?fe:-1,Tt=Array.isArray(S)?S:[S],yo=Ye===-1?Tt:Tt.slice(Ye+1),Yt=0,je=hv(Ce===!0?{hasMany:!0,relationTo:S,value:Je}:{hasMany:!1,relationTo:S,value:Je});X||(await yo.reduce(async(xt,tt)=>{let Ue=se?.[tt],io;if(U!==Me?io=1:io=Se[tt]+1,await xt,Ue===!1)return G(Tt.indexOf(tt)),Promise.resolve();if(Yt<10){let Ao=A({collectionSlug:tt}),Wt=Ao?.admin?.useAsTitle||"id",Lr=Ao?.defaultSort||"id";typeof R=="string"?Lr=R:R?.[tt]&&(Lr=R[tt]);let In={depth:0,draft:!0,limit:C,locale:P,page:io,select:{[Wt]:!0},sort:Lr,where:{and:[{id:{not_in:je[tt]}}]}};Me&&In.where.and.push({[Wt]:{like:Me}}),Ue&&typeof Ue!="boolean"&&In.where.and.push(Ue),pv(In.where);let As=await fetch(`${E}${L}/${tt}`,{body:bv.stringify(In),credentials:"include",headers:{"Accept-Language":k.language,"Content-Type":"application/x-www-form-urlencoded","X-Payload-HTTP-Method-Override":"GET"},method:"POST"});if(As.ok){let mt=await As.json();z(rr=>({...rr,[tt]:io})),mt.nextPage||G(Tt.indexOf(tt)),mt.docs.length>0&&(Yt+=mt.docs.length,Te({type:"ADD",collection:Ao,config:D,docs:mt.docs,i18n:k,sort:Ze}))}else As.status===403?(G(Tt.indexOf(tt)),Te({type:"ADD",collection:Ao,config:D,docs:[],i18n:k,ids:je[tt],sort:Ze})):Q(B("error:unspecific"))}},Promise.resolve()),typeof we=="function"&&we())})},[$,Ae,S,X,U,A,R,C,P,E,L,k,D,B]),Oe=fv(({hasMany:se,search:Ce,value:fe})=>{no({filterOptions:u,lastLoadedPage:{},search:Ce,sort:!0,...se===!0?{hasMany:se,value:fe}:{hasMany:se,value:fe}}),ee(Ce)},300),ke=Ys(se=>{U!==se.search&&(z({}),Oe(se))},[U,Oe]),He=qt(({hasMany:se,value:Ce})=>{let fe=hv(se===!0?{hasMany:se,relationTo:S,value:Ce}:{hasMany:se,relationTo:S,value:Ce});Object.entries(fe).reduce(async(Se,[we,Me])=>{await Se;let Ze=Me.filter(Je=>!ge.find(Ye=>Ye?.options?.find(Tt=>Tt.value===Je&&Tt.relationTo===we)));if(Ze.length>0){let Je={depth:0,draft:!0,limit:Ze.length,locale:P,where:{id:{in:Ze}}};if(!X){let Ye=await fetch(`${E}${L}/${we}`,{body:bv.stringify(Je),credentials:"include",headers:{"Accept-Language":k.language,"Content-Type":"application/x-www-form-urlencoded","X-Payload-HTTP-Method-Override":"GET"},method:"POST"}),Tt=A({collectionSlug:we}),yo=[];Ye.ok&&(yo=(await Ye.json()).docs),Te({type:"ADD",collection:Tt,config:D,docs:yo,i18n:k,ids:Ze,sort:!0})}}},Promise.resolve())}),at=Ys(se=>{Te({type:"UPDATE",collection:se.collectionConfig,config:D,doc:se.doc,i18n:k});let Ce=se.doc.id;if(m){let Se=(_?Array.isArray(_)?_:[_]:[]).map(we=>({relationTo:we.value===Ce?se.collectionConfig.slug:we.relationTo,value:we.value}));v(Se)}else m===!1&&v({relationTo:se.collectionConfig.slug,value:Ce})},[k,D,m,v,_]),ht=Ys(se=>{Te({type:"ADD",collection:se.collectionConfig,config:D,docs:[se.doc],i18n:k,sort:!0}),m?v(_?_.concat({relationTo:se.collectionConfig.slug,value:se.doc.id}):null):m===!1&&v({relationTo:se.collectionConfig.slug,value:se.doc.id})},[k,D,m,v,_]),Ke=Ys(se=>{Te({id:se.id,type:"REMOVE",collection:se.collectionConfig,config:D,i18n:k}),v(m&&_?_.filter(Ce=>Ce.value!==se.id):null)},[k,D,m,v,_]),Dt=Ys((se,Ce)=>{if(!Ce)return!0;let fe=f8(Ce||""),Se=250,we=String(se.label);for(;we.length>Se;){let Me=we.indexOf(" ",Ce.length);if(fe.test(we.slice(0,Me===-1?Ce.length:Me+1)))return!0;we=we.slice(Me===-1?Ce.length:Me+1)}return fe.test(we.slice(-Se))},[]),dt=Ys(({id:se,collectionSlug:Ce,hasReadPermission:fe,openInNewTab:Se})=>{if(Se){if(fe&&se&&Ce){let we=m8({adminRoute:D.routes.admin,path:`/collections/${Ce}/${se}`});window.open(we,"_blank")}}else ye.current=!0,j({id:se,collectionSlug:Ce,hasReadPermission:fe})},[D.routes.admin]),no=qt(se=>Be(se));Pu(()=>{be.current&&Z&&(re(!0),no({filterOptions:u,lastLoadedPage:{},onSuccess:()=>{be.current=!0,re(!1)},...m===!0?{hasMany:m,value:Y.current}:{hasMany:m,value:Y.current}})),Te({type:"CLEAR",exemptValues:Y.current}),G(-1),z({})},[S,u,P,y,Z,m]);let gt=Eu(_),so=Eu(!0);Pu(()=>{(so.current||!d8(_,gt.current))&&He(m===!0?{hasMany:m,value:_}:{hasMany:m,value:_}),so.current=!1,gt.current=_},[_,m]),Pu(()=>{let Ce=(Array.isArray(S)?S:[S]).reduce((fe,Se)=>(A({collectionSlug:Se})?.admin?.useAsTitle||"id")==="id"&&fe,!0);le(!Ce)},[S,A]),Pu(()=>{ye.current&&(q(),ye.current=!1)},[q,M]),Pu(()=>{Y.current=_},[_]);let Co=H4({allowEdit:n,options:ge,value:_});return!Array.isArray(Co)&&Co?.value==="null"&&(Co.value=null),gv("div",{className:[Re,Nu,i,I&&"error",X&&"error-loading",w&&`${Nu}--read-only`,!w&&o&&`${Nu}--allow-create`].filter(Boolean).join(" "),id:`field-${y.replace(/\./g,"__")}`,style:F,children:[bn(ue,{CustomComponent:g,Fallback:bn(_e,{label:p,localized:b,path:y,required:T})}),gv("div",{className:`${Re}__wrap`,children:[bn(ue,{CustomComponent:c,Fallback:bn(Qe,{path:y,showError:I})}),s,X?bn("div",{className:`${Nu}__error-loading`,children:X}):gv("div",{className:`${Nu}__wrap`,children:[bn(pt,{backspaceRemovesValue:!(H||he),components:{MultiValueLabel:J4,SingleValue:Q4,...r!=="select"&&{DropdownIndicator:null}},customProps:{disableKeyDown:H||he,disableMouseDown:H||he,onDocumentOpen:dt,onSave:at},disabled:w||H||he,filterOption:ie?Dt:void 0,getOptionValue:se=>{if(se)return m&&Array.isArray(S)?`${se.relationTo}_${se.value}`:se.value},isLoading:r==="select"&&J,isMulti:m,isSearchable:r==="select",isSortable:h,menuIsOpen:r==="select"?Z:!1,onChange:w?void 0:se=>{m?se===null?(Y.current=[],v([])):(Y.current=se,v(se)):m===!1&&(se===null?(Y.current=null,v(null)):(Y.current=se,v(se)))},onInputChange:se=>ke({search:se,...m===!0?{hasMany:m,value:_}:{hasMany:m,value:_}}),onMenuClose:()=>{pe(!1)},onMenuOpen:()=>{r==="drawer"?setTimeout(()=>{$e()},100):r==="select"&&(pe(!0),be.current||(re(!0),no({filterOptions:u,lastLoadedPage:{},onSuccess:()=>{be.current=!0,re(!1)},...m===!0?{hasMany:m,value:_}:{hasMany:m,value:_}})))},onMenuScrollToBottom:()=>{no({filterOptions:u,lastFullyLoadedRelation:O,lastLoadedPage:V,search:U,sort:!1,...m===!0?{hasMany:m,value:f}:{hasMany:m,value:f}})},options:typeof d=="function"?d(ge):ge,placeholder:x,showError:I,value:Co??null}),!w&&o&&bn(j4,{path:y,relationTo:S,...m===!0?{hasMany:m,onChange:v,value:_}:{hasMany:m,onChange:v,value:_}})]}),e,bn(ue,{CustomComponent:a,Fallback:bn(Xe,{description:l,path:y})})]}),M.collectionSlug&&M.hasReadPermission&&bn(de,{onDelete:Ke,onDuplicate:ht,onSave:at}),r==="drawer"&&!w&&bn(te,{allowCreate:o,enableRowSelections:!1,onSelect:me})]})};var v8=t=>{let{field:e,field:{admin:{allowCreate:o=!0,allowEdit:n=!0,appearance:r="select",className:s,description:i,isSortable:l=!0,placeholder:a,sortOptions:c}={},hasMany:u,label:d,localized:m,relationTo:f,required:h},path:p,readOnly:g,validate:b}=t,C=yv((j,O)=>{if(typeof b=="function")return b(j,{...O,required:h})},[b,h]),{customComponents:{AfterInput:v,BeforeInput:y,Description:x,Error:w,Label:S}={},disabled:T,filterOptions:I,initialValue:R,path:F,setValue:_,showError:D,value:A}=Ne({potentiallyStalePath:p,validate:C}),L=b8(()=>rt(e),[e]),E=Array.isArray(f),[k]=Cv.useState(()=>Array.isArray(f)?f:[f]),B=yv(j=>{if(!j){_(null,j===A);return}let O=!1;E?O=Array.isArray(A)&&Array.isArray(j)&&A.length===j.length&&A.every((V,z)=>{let X=j[z];return V.value===X.value&&V.relationTo===X.relationTo}):O=Array.isArray(A)&&Array.isArray(j)&&A.length===j.length&&A.every((V,z)=>V===j[z].value);let G=j.map(V=>E?V:V.value);_(G,O)},[E,_,A]),$=yv(j=>{if(!j){_(null,j===A);return}let O=!1;E?O=A&&j&&A.value===j.value&&A.relationTo===j.relationTo:O=A&&j&&A===j.value;let G=E?j:j.value;_(G,O)},[E,_,A]),P=Cv.useMemo(()=>u===!0?Array.isArray(A)?A.map(j=>E?j:{relationTo:Array.isArray(k)?k[0]:k,value:j}):A:A&&(E?A:{relationTo:Array.isArray(k)?k[0]:k,value:A}),[u,A,E,k]),M=Cv.useMemo(()=>u===!0?Array.isArray(R)?R.map(j=>E?j:{relationTo:Array.isArray(k)?k[0]:k,value:j}):R:R&&(E?R:{relationTo:Array.isArray(k)?k[0]:k,value:R}),[R,E,k,u]);return g8(vv,{AfterInput:v,allowCreate:o,allowEdit:n,appearance:r,BeforeInput:y,className:s,Description:x,description:i,Error:w,filterOptions:I,formatDisplayedOptions:E?void 0:j=>j.map(O=>O.options).flat(),isSortable:l,Label:S,label:d,localized:m,maxResultsPerRequest:10,maxRows:e?.maxRows,minRows:e?.minRows,path:F,placeholder:a,readOnly:g||T,relationTo:k,required:h,showError:D,sortOptions:c,style:L,...u===!0?{hasMany:!0,initialValue:M,onChange:B,value:P}:{hasMany:!1,initialValue:M,onChange:$,value:P}})},Lu=ze(v8);var $u=()=>null;import{jsx as xv}from"react/jsx-runtime";import"react";var K4="row",C8=t=>{let{field:{admin:{className:e,style:o}={},fields:n},forceRender:r=!1,indexPath:s="",parentPath:i="",parentSchemaPath:l="",permissions:a,readOnly:c}=t;return xv(f_,{children:xv("div",{className:[Re,K4,e].filter(Boolean).join(" "),style:o||void 0,children:xv(jo,{className:`${K4}__fields`,fields:n,forceRender:r,margins:!1,parentIndexPath:s,parentPath:i,parentSchemaPath:l,permissions:a,readOnly:c})})})},ku=ze(C8);import{jsx as x8}from"react/jsx-runtime";import w8,{useCallback as tD,useMemo as S8}from"react";import{c as y8}from"react/compiler-runtime";import{jsx as Qi,jsxs as eD}from"react/jsx-runtime";import{getTranslation as wv}from"@payloadcms/translations";import"react";var Ln=t=>{let e=y8(42),{id:o,AfterInput:n,BeforeInput:r,className:s,Description:i,description:l,Error:a,filterOption:c,hasMany:u,isClearable:d,isSortable:m,label:f,Label:h,localized:p,onChange:g,onInputChange:b,options:C,path:v,placeholder:y,readOnly:x,required:w,showError:S,style:T,value:I}=t,R=u===void 0?!1:u,F=d===void 0?!0:d,_=m===void 0?!0:m,{i18n:D}=N(),A;if(e[0]!==n||e[1]!==r||e[2]!==i||e[3]!==a||e[4]!==h||e[5]!==s||e[6]!==l||e[7]!==c||e[8]!==R||e[9]!==D||e[10]!==o||e[11]!==F||e[12]!==_||e[13]!==f||e[14]!==p||e[15]!==g||e[16]!==b||e[17]!==C||e[18]!==v||e[19]!==y||e[20]!==x||e[21]!==w||e[22]!==S||e[23]!==T||e[24]!==I){let L;if(R&&Array.isArray(I)){let P;e[26]!==D||e[27]!==C?(P=M=>{let j=C.find(O=>O.value===M);return{label:j?wv(j.label,D):M,value:j?.value??M}},e[26]=D,e[27]=C,e[28]=P):P=e[28],L=I.map(P)}else if(I){let P,M;if(e[29]!==D||e[30]!==C||e[31]!==I){let j;e[34]!==I?(j=O=>O.value===I,e[34]=I,e[35]=j):j=e[35],P=C.find(j),M=P?wv(P.label,D):I,e[29]=D,e[30]=C,e[31]=I,e[32]=P,e[33]=M}else P=e[32],M=e[33];L={label:M,value:P?.value??I}}else L=null;let E=S&&"error",k=x&&"read-only",B;e[36]!==s||e[37]!==E||e[38]!==k?(B=[Re,"select",s,E,k].filter(Boolean),e[36]=s,e[37]=E,e[38]=k,e[39]=B):B=e[39];let $;e[40]!==D?($=P=>({...P,label:wv(P.label,D)}),e[40]=D,e[41]=$):$=e[41],A=eD("div",{className:B.join(" "),id:`field-${v.replace(/\./g,"__")}`,style:T,children:[Qi(ue,{CustomComponent:h,Fallback:Qi(_e,{label:f,localized:p,path:v,required:w})}),eD("div",{className:`${Re}__wrap`,children:[Qi(ue,{CustomComponent:a,Fallback:Qi(Qe,{path:v,showError:S})}),r,Qi(pt,{disabled:x,filterOption:c,id:o,isClearable:F,isMulti:R,isSortable:_,onChange:g,onInputChange:b,options:C.map($),placeholder:y,showError:S,value:L}),n]}),Qi(ue,{CustomComponent:i,Fallback:Qi(Xe,{description:l,path:v})})]}),e[0]=n,e[1]=r,e[2]=i,e[3]=a,e[4]=h,e[5]=s,e[6]=l,e[7]=c,e[8]=R,e[9]=D,e[10]=o,e[11]=F,e[12]=_,e[13]=f,e[14]=p,e[15]=g,e[16]=b,e[17]=C,e[18]=v,e[19]=y,e[20]=x,e[21]=w,e[22]=S,e[23]=T,e[24]=I,e[25]=A}else A=e[25];return A};var vp=t=>t.map(e=>typeof e=="object"&&(e.value||e.value==="")?e:{label:e,value:e}),I8=t=>{let{field:e,field:{name:o,admin:{className:n,description:r,isClearable:s=!0,isSortable:i=!0,placeholder:l}={},hasMany:a=!1,label:c,localized:u,options:d=[],required:m},onChange:f,path:h,readOnly:p,validate:g}=t,b=w8.useMemo(()=>vp(d),[d]),C=tD((E,k)=>{if(typeof g=="function")return g(E,{...k,hasMany:a,options:b,required:m})},[g,m,a,b]),{customComponents:{AfterInput:v,BeforeInput:y,Description:x,Error:w,Label:S}={},disabled:T,path:I,selectFilterOptions:R,setValue:F,showError:_,value:D}=Ne({potentiallyStalePath:h,validate:C}),A=tD(E=>{if(!p||T){let k=null;E&&a?Array.isArray(E)?k=E.map(B=>B.value):k=[]:E&&!Array.isArray(E)&&(k=E.value),typeof f=="function"&&f(k),F(k)}},[p,T,a,F,f]),L=S8(()=>rt(e),[e]);return x8(Ln,{AfterInput:v,BeforeInput:y,className:n,Description:x,description:r,Error:w,filterOption:R?({value:E})=>R?.some(k=>(typeof k=="string"?k:k.value)===E):void 0,hasMany:a,isClearable:s,isSortable:i,Label:S,label:c,localized:u,name:o,onChange:A,options:b,path:I,placeholder:l,readOnly:p||T,required:m,showError:_,style:L,value:D})},ju=ze(I8);import{c as CD}from"react/compiler-runtime";import{jsx as ms,jsxs as yD}from"react/jsx-runtime";import{getTranslation as uV}from"@payloadcms/translations";import{tabHasName as wp,toKebabCase as dV}from"payload/shared";import{useEffect as vD,useState as Ev}from"react";var pD=hi(_v(),1);import{jsx as vn}from"react/jsx-runtime";import{dequal as fD}from"dequal/lite";import{useRouter as K8}from"next/navigation.js";import{deepCopyObjectSimpleWithoutReactComponents as Rv,getDataByPath as eV,getSiblingData as tV,reduceFieldsToValues as Av,wait as oV}from"payload/shared";import rV,{useCallback as cr,useEffect as ea,useReducer as nV,useRef as Ou,useState as Qs}from"react";import{c as R8}from"react/compiler-runtime";import{jsx as sD,jsxs as A8}from"react/jsx-runtime";import P8 from"react";function E8(t){let e=[];for(let o of t)if(o){let n=o.split(" \u2192 "),r=!1;for(let s=0;s<e.length;s++)if(e[s].startsWith(n[0])){e.splice(s+1,0,o),r=!0;break}r||e.push(o)}return e}function N8(t){let[e,o]=t.split(":");if(!o)return{message:e};let n=o.split(",").map(r=>r.replaceAll(" > "," \u2192 ").trim());return n.length===1?{errors:n,message:`${e}:`}:{errors:E8(n),message:`${e} (${n.length}):`}}function iD(t){let e=R8(5),{errorMessage:o}=t,n;e[0]!==o?(n=()=>N8(o),e[0]=o,e[1]=n):n=e[1];let[r]=P8.useState(n),{errors:s,message:i}=r,l;return e[2]!==s||e[3]!==i?(l=A8("div",{children:[i,Array.isArray(s)&&s.length>0?sD("ul",{"data-testid":"field-errors",children:s.map(L8)}):null]}),e[2]=s,e[3]=i,e[4]=l):l=e[4],l}function L8(t,e){return sD("li",{children:t},e)}import{c as $8}from"react/compiler-runtime";import{useEffect as aD,useState as k8}from"react";function Dv(t,e,o){let n=$8(11),r;n[0]!==t?(r=()=>t,n[0]=t,n[1]=r):r=n[1];let[s,i]=k8(r),l;n[2]!==o||n[3]!==t?(l=()=>{let d=setTimeout(()=>{i(()=>t)},o);return()=>{clearTimeout(d)}},n[2]=o,n[3]=t,n[4]=l):l=n[4];let a;n[5]!==o||n[6]!==e?(a=[...e,o],n[5]=o,n[6]=e,n[7]=a):a=n[7],aD(l,a);let c,u;n[8]!==s?(c=()=>{s()},u=[s],n[8]=s,n[9]=c,n[10]=u):(c=n[9],u=n[10]),aD(c,u)}import{c as j8}from"react/compiler-runtime";import{jsx as B8}from"react/jsx-runtime";import lD,{useState as M8}from"react";var cD=lD.createContext(null),Tv=t=>{let e=j8(6),{children:o}=t,[n,r]=M8(O8),s;e[0]!==n?(s=u=>{let{collectionSlug:d}=u;return n.get(d)},e[0]=n,e[1]=s):s=e[1];let i=s,l;e[2]===Symbol.for("react.memo_cache_sentinel")?(l=u=>{let{collectionSlug:d,handler:m}=u;r(f=>{let h=new Map(f);return h.set(d,m),h})},e[2]=l):l=e[2];let a=l,c;return e[3]!==o||e[4]!==i?(c=B8(cD,{value:{getUploadHandler:i,setUploadHandler:a},children:o}),e[3]=o,e[4]=i,e[5]=c):c=e[5],c},Bu=()=>{let t=lD.use(cD);if(t===null)throw new Error("useUploadHandlers must be used within UploadHandlersProvider");return t};function O8(){return new Map}var uD={413:"Your request was too large to submit successfully."};var Fv=hi(Pb(),1);import{dequal as G8}from"dequal/lite";import{deepCopyObjectSimpleWithoutReactComponents as mD}from"payload/shared";import{dequal as V8}from"dequal/lite";var dD=({acceptValues:t,currentState:e={},incomingState:o})=>{let n={...e};for(let[r,s]of Object.entries(o||{}))!(r in e)&&!s.addedByServer||(!t&&!s.addedByServer&&(delete s.value,delete s.initialValue),n[r]={...e[r],...s},Array.isArray(s.rows)&&r in e&&(n[r].rows=[...e[r]?.rows||[]],s.rows.forEach(i=>{let l=e[r].rows?.findIndex(a=>a.id===i.id);l>-1&&(n[r].rows[l]={...e[r].rows[l],...i})})),s.valid!==!1&&(n[r].valid=!0),s.passesCondition!==!1&&(n[r].passesCondition=!0),delete n[r].addedByServer);return V8(n,e)?e:n};var wl=(t,e)=>{let o={},n=Object.entries(e).reduce((r,[s,i])=>{let l=r;if(s.indexOf(`${t}.`)===0){let[a]=s.replace(`${t}.`,"").split(".");l[a]||(l[a]={}),l[a][s.replace(`${t}.${String(a)}.`,"")]={...i}}else o[s]=i;return l},[]);return{remainingFields:o,rows:n}},Sl=(t,e)=>e.reduce((o,n,r)=>({...o,...Object.entries(n).reduce((s,[i,l])=>({...s,[`${t}.${r}.${i}`]:{...l}}),{})}),{});var qs=Fv.default.default||Fv.default;function Mu(t,e){switch(e.type){case"ADD_ROW":{let{blockType:o,path:n,rowIndex:r,subFieldState:s={}}=e,i=typeof r=="number"?r:t[n]?.rows?.length||0,l=[...t[n]?.rows||[]],a={id:s?.id?.value||new qs().toHexString(),isLoading:!0};o&&(a.blockType=o),l.splice(i,0,a),o&&(s.blockType={initialValue:o,valid:!0,value:o});let{remainingFields:c,rows:u}=wl(n,t);return u.splice(i,0,s),{...c,...Sl(n,u),[`${n}.${i}.id`]:{initialValue:a.id,passesCondition:!0,valid:!0,value:a.id},[n]:{...t[n],disableFormData:!0,rows:l,value:u.length}}}case"ADD_SERVER_ERRORS":{let o={...t},n=[];return e.errors.forEach(({message:r,path:s})=>{o[s]={...o[s]||{initialValue:null,value:null},errorMessage:r,valid:!1};let i=s.split(".");i.length>1&&n.push({fieldErrorPath:s,parentPath:i.slice(0,i.length-1).join(".")})}),o=Object.entries(o).reduce((r,[s,i])=>{let l=n.reduce((c,{fieldErrorPath:u,parentPath:d})=>(d.startsWith(s)&&c.push(u),c),[]),a=!1;if(l.length>0){let c=Array.isArray(i.errorPaths)?i.errorPaths:[];l.forEach(u=>{c.includes(u)||(c.push(u),a=!0)}),a&&(r[s]={...i,errorPaths:c})}return a||(r[s]=i),r},{}),o}case"DUPLICATE_ROW":{let{path:o,rowIndex:n}=e,{remainingFields:r,rows:s}=wl(o,t),i=[...t[o].rows||[]],l=mD(i[n]);l.id&&(l.id=new qs().toHexString()),i[n]?.customComponents?.RowLabel&&(l.customComponents={RowLabel:i[n].customComponents.RowLabel});let a=mD(s[n]);a.id&&(a.id.value=new qs().toHexString(),a.id.initialValue=new qs().toHexString());for(let u of Object.keys(a).filter(d=>d.endsWith(".id"))){let d=a[u];d&&typeof d.value=="string"&&qs.isValid(d.value)&&(a[u].value=new qs().toHexString(),a[u].initialValue=new qs().toHexString())}return Object.keys(a).length>0&&(s.splice(n+1,0,a),i.splice(n+1,0,l)),{...r,...Sl(o,s),[o]:{...t[o],disableFormData:!0,rows:i,value:s.length}}}case"MERGE_SERVER_STATE":{let{acceptValues:o,prevStateRef:n,serverState:r}=e,s=dD({acceptValues:o,currentState:t||{},incomingState:r});return n.current=s,s}case"MOVE_ROW":{let{moveFromIndex:o,moveToIndex:n,path:r}=e,{remainingFields:s,rows:i}=wl(r,t),l=i[o];i.splice(o,1),i.splice(n,0,l);let a=[...t[r]?.rows||[]],c={...a[o]};return a.splice(o,1),a.splice(n,0,c),{...s,...Sl(r,i),[r]:{...t[r],rows:a}}}case"REMOVE":{let o={...t};return o[e.path]&&delete o[e.path],o}case"REMOVE_ROW":{let{path:o,rowIndex:n}=e,{remainingFields:r,rows:s}=wl(o,t),i=[...t[o]?.rows||[]];return s.splice(n,1),i.splice(n,1),{...r,[o]:{...t[o],disableFormData:s.length>0,rows:i,value:s.length},...Sl(o,s)}}case"REPLACE_ROW":{let{blockType:o,path:n,rowIndex:r,subFieldState:s={}}=e,{remainingFields:i,rows:l}=wl(n,t),a=Math.max(0,Math.min(r,l?.length-1||0)),c=[...t[n]?.rows||[]];return c[a]={id:new qs().toHexString(),blockType:o||void 0,collapsed:!1},o&&(s.blockType={initialValue:o,valid:!0,value:o}),l[a]=s,{...i,...Sl(n,l),[n]:{...t[n],disableFormData:!0,rows:c,value:l.length}}}case"REPLACE_STATE":{if(e.optimize!==!1){let o={};for(let[n,r]of Object.entries(e.state)){let s=t[n];r.valid!==!1&&(r.valid=!0),r.passesCondition!==!1&&(r.passesCondition=!0),G8(s,r)?s&&(o[n]=s):o[n]=r}return o}if(e.sanitize)for(let o of Object.values(e.state))o.valid!==!1&&(o.valid=!0),o.passesCondition!==!1&&(o.passesCondition=!0);return e.state}case"SET_ALL_ROWS_COLLAPSED":{let{path:o,updatedRows:n}=e;return{...t,[o]:{...t[o],rows:n}}}case"SET_ROW_COLLAPSED":{let{path:o,updatedRows:n}=e;return{...t,[o]:{...t[o],rows:n}}}case"UPDATE":{let o=Object.entries(e).reduce((r,[s,i])=>["disableFormData","errorMessage","initialValue","rows","valid","validate","value"].includes(s)?{...r,[s]:i}:r,t?.[e.path]||{});return{...t,[e.path]:o}}case"UPDATE_MANY":{let o={...t};return Object.entries(e.formState).forEach(([n,r])=>{o[n]=r}),o}default:return t}}var z8=()=>{},W8=()=>{},H8=()=>{},U8=()=>{},X8=()=>{},Z8=()=>{},Y8=()=>{},J8=()=>{},q8=()=>{},Q8=()=>{},yp={addFieldRow:()=>{},buildRowErrors:()=>{},createFormData:X8,disabled:!1,dispatchFields:H8,fields:{},formRef:null,getData:()=>{},getDataByPath:()=>{},getField:()=>{},getFields:()=>({}),getSiblingData:W8,initializing:void 0,isValid:!0,moveFieldRow:()=>{},removeFieldRow:()=>{},replaceFieldRow:()=>{},replaceState:()=>{},reset:Q8,setBackgroundProcessing:J8,setDisabled:()=>{},setIsValid:()=>{},setModified:Z8,setProcessing:Y8,setSubmitted:q8,submit:z8,validateForm:U8};var sV="form",ds=t=>{let{id:e,collectionSlug:o,docConfig:n,docPermissions:r,getDocPreferences:s,globalSlug:i}=De(),{action:l,beforeSubmit:a,children:c,className:u,disabled:d,disableSuccessStatus:m,disableValidationOnSubmit:f,el:h,handleResponse:p,initialState:g,isDocumentForm:b,isInitializing:C,onChange:v,onSubmit:y,onSuccess:x,redirect:w,submitted:S,uuid:T,waitForAutocomplete:I}=t,R="method"in t?t?.method:void 0,F=K8(),_=Fa(),{code:D}=xe(),{i18n:A,t:L}=N(),{refreshCookie:E,user:k}=Ie(),B=yr(),{queueTask:$}=vl(),{getFormState:P}=$t(),{startRouteTransition:M}=qe(),{getUploadHandler:j}=Bu(),{config:O}=W(),[G,V]=Qs(d||!1),[z,X]=Qs(!1),[Q,U]=Qs(!1),[ee,J]=Qs(!0),[re,ie]=Qs(C),[le,Z]=Qs(!1),[pe,be]=Qs(!1),[Ae,ge]=Qs(!1),Te=Ou(null),Y=Ou({}),de=Ou(null),H=Ou(!0),q=nV(Mu,{},()=>g),[ne,te]=q;Y.current.fields=ne;let ce=Ou(ne),he=cr(async()=>{let fe={},Se=!0,we=Y.current.getData(),Me=Object.entries(Y.current.fields).map(async([Ze,Je])=>{let Ye=Je,Tt=Ze?Ze.split("."):[];if(Je.passesCondition!==!1){let yo=Ye.valid;if("validate"in Je&&typeof Je.validate=="function"){let Yt=Je.value;Je?.rows&&Array.isArray(Je.rows)&&(Yt=Y.current.getDataByPath(Ze)),yo=await Je.validate(Yt,{...Je,id:e,collectionSlug:o,blockData:void 0,data:_?.getData?_.getData():we,event:"submit",operation:B,path:Tt,preferences:{},req:{payload:{config:O},t:L,user:k},siblingData:Y.current.getSiblingData(Ze)}),typeof yo=="string"?(Ye.errorMessage=yo,Ye.valid=!1):(Ye.valid=!0,Ye.errorMessage=void 0)}Ye.valid===!1&&(Se=!1)}fe[Ze]=Ye});return await Promise.all(Me),fD(Y.current.fields,fe)||te({type:"REPLACE_STATE",state:fe}),J(Se),Se},[o,O,te,e,B,L,k,_]),$e=cr(async(fe={},Se)=>{let{action:we=l,method:Me=R,overrides:Ze={},skipValidation:Je}=fe;if(G){Se&&Se.preventDefault();return}let Ye,Tt,yo=new Promise((Ue,io)=>{Tt=Ue,Ye=io}),Yt=we||typeof l=="string"||typeof l=="function";if(w||m||!Yt?(Tt=Ue=>K.success(Ue),Ye=Ue=>K.error(Ue)):K.promise(yo,{error:Ue=>Ue,loading:L("general:submitting"),success:Ue=>Ue}),Se&&(Se.stopPropagation(),Se.preventDefault()),Z(!0),V(!0),I&&await oV(100),Array.isArray(a)){let Ue,io=Rv(Y.current.fields);await a.reduce(async(Wt,Lr)=>{await Wt,Ue=await Lr({formState:io})},Promise.resolve());let Ao=Object.entries(Ue).every(([,Wt])=>Wt.valid!==!1);if(J(Ao),!Ao)return Z(!1),ge(!0),V(!1),te({type:"REPLACE_STATE",state:Ue})}let je=Je||f?!0:await Y.current.validateForm();if(J(je),!je){Ye(L("error:correctInvalidFields")),Z(!1),ge(!0),V(!1);return}let xt={};if(typeof Ze=="function"?xt=Ze(Y.current.fields):typeof Ze=="object"&&(xt=Ze),y){let Ue=Rv(Y.current.fields),io=Av(Ue,!0);for(let[Ao,Wt]of Object.entries(xt))io[Ao]=Wt;y(Ue,io)}if(!Yt){Z(!1),ge(!0),V(!1);return}let tt=await Y.current.createFormData(xt,{mergeOverrideData:typeof Ze!="function"});try{let Ue;if(typeof we=="string"?Ue=await Ge[Me.toLowerCase()](we,{body:tt,headers:{"Accept-Language":A.language}}):typeof l=="function"&&(Ue=await l(tt)),U(!1),V(!1),typeof p=="function"){p(Ue,Tt,Ye);return}let io=Ue.headers.get("content-type"),Ao=io&&io.indexOf("application/json")!==-1,Wt={};if(Ao&&(Wt=await Ue.json()),Ue.status<400){if(typeof x=="function"){let Lr=await x(Wt);Lr&&te({type:"MERGE_SERVER_STATE",acceptValues:!0,prevStateRef:ce,serverState:Lr})}ge(!1),Z(!1),w?M(()=>F.push(w)):m||Tt(Wt.message||L("general:submissionSuccessful"))}else{if(Z(!1),ge(!0),Y.current={...Y.current},Wt.message){Ye(Wt.message);return}if(Array.isArray(Wt.errors)){let[In,As]=Wt.errors.reduce(([mt,rr],Po)=>{let pr=[],en=[];return Po?.message&&en.push(Po),Array.isArray(Po?.data?.errors)&&Po.data?.errors.forEach(Da=>{Da?.path?pr.push(Da):en.push(Da)}),[[...mt,...pr],[...rr,...en]]},[[],[]]);J(!1),te({type:"ADD_SERVER_ERRORS",errors:In}),As.forEach(mt=>{Ye(vn(iD,{errorMessage:mt.message||L("error:unknown")}))});return}let Lr=uD?.[Ue.status]||Ue?.statusText||L("error:unknown");Ye(Lr)}}catch(Ue){console.error("Error submitting form",Ue),Z(!1),ge(!0),V(!1),Ye(Ue.message)}},[a,M,l,m,f,G,te,p,R,y,x,w,F,L,A,I]),me=cr(()=>Y.current.fields,[]),ye=cr(fe=>Y.current.fields[fe],[]),Be=cr(()=>Av(Y.current.fields,!0),[]),Oe=cr(fe=>tV(Y.current.fields,fe),[]),ke=cr(fe=>eV(Y.current.fields,fe),[]),He=cr(async(fe,{mergeOverrideData:Se=!0})=>{let we=Av(Y.current.fields,!0),Me=we?.file;if(n&&"upload"in n&&n.upload&&Me){delete we.file;let Ye=j({collectionSlug:o});if(typeof Ye=="function"){let Tt=Me.name,yo=await Ye({file:Me,updateFilename:Yt=>{Tt=Yt}});Me=JSON.stringify({clientUploadContext:yo,collectionSlug:o,filename:Tt,mimeType:Me.type,size:Me.size})}}Se?we={...we,...fe}:we=fe;let Ze={_payload:JSON.stringify(we)};return n&&"upload"in n&&n.upload&&Me&&(Ze.file=Me),(0,pD.serialize)(Ze,{indices:!0,nullsAsUndefineds:!1})},[o,n,j]),at=cr(async fe=>{let Se=Dr(de),we=await s(),{state:Me}=await P({id:e,collectionSlug:o,data:fe,docPermissions:r,docPreferences:we,globalSlug:i,locale:D,operation:B,renderAllFields:!0,schemaPath:o||i,signal:Se.signal,skipValidation:!0});Y.current={...yp},U(!1),te({type:"REPLACE_STATE",state:Me}),de.current=null},[o,te,i,e,B,P,r,s,D]),ht=cr(fe=>{Y.current={...yp},U(!1),te({type:"REPLACE_STATE",state:fe})},[te]),Ke=cr(({blockType:fe,path:Se,rowIndex:we,subFieldState:Me})=>{let Ze=ke(Se)||[],Je=we===void 0?Ze.length:we;te({type:"ADD_ROW",blockType:fe,path:Se,rowIndex:Je,subFieldState:Me}),U(!0)},[te,ke]),Dt=cr(({moveFromIndex:fe,moveToIndex:Se,path:we})=>{te({type:"MOVE_ROW",moveFromIndex:fe,moveToIndex:Se,path:we}),U(!0)},[te]),dt=cr(({path:fe,rowIndex:Se})=>{te({type:"REMOVE_ROW",path:fe,rowIndex:Se}),U(!0)},[te]),no=cr(({blockType:fe,path:Se,rowIndex:we,subFieldState:Me})=>{let Ze=ke(Se),Je=we===void 0?Ze.length:we;te({type:"REPLACE_ROW",blockType:fe,path:Se,rowIndex:Je,subFieldState:Me}),U(!0)},[te,ke]);ea(()=>{let fe=de.current;return()=>{_r(fe)}},[]),ea(()=>{C!==void 0&&ie(C)},[C]),Y.current.submit=$e,Y.current.getFields=me,Y.current.getField=ye,Y.current.getData=Be,Y.current.getSiblingData=Oe,Y.current.getDataByPath=ke,Y.current.validateForm=he,Y.current.createFormData=He,Y.current.setModified=U,Y.current.setProcessing=Z,Y.current.setBackgroundProcessing=be,Y.current.setSubmitted=ge,Y.current.setIsValid=J,Y.current.disabled=G,Y.current.setDisabled=V,Y.current.formRef=Te,Y.current.reset=at,Y.current.replaceState=ht,Y.current.dispatchFields=te,Y.current.addFieldRow=Ke,Y.current.removeFieldRow=dt,Y.current.moveFieldRow=Dt,Y.current.replaceFieldRow=no,Y.current.uuid=T,Y.current.initializing=re,Y.current.isValid=ee,ea(()=>{X(!0)},[]),ea(()=>{typeof d=="boolean"&&V(d)},[d]),ea(()=>{typeof S=="boolean"&&ge(S)},[S]),ea(()=>{g&&(Y.current={...yp},te({type:"REPLACE_STATE",optimize:!1,sanitize:!0,state:g}))},[g,te]),Fi(()=>{E()},15e3,[ne]),ea(()=>{Y.current={...Y.current},U(!1)},[D]);let gt=[u,sV].filter(Boolean).join(" "),so=qt(fe=>{$(async()=>{if(Array.isArray(v)){let Se;for(let we of v)Se=await we({formState:Rv(ne),submitted:fe});te({type:"MERGE_SERVER_STATE",prevStateRef:ce,serverState:Se})}})});Dv(()=>{(H.current||!fD(ne,ce.current))&&Q&&so(Ae),ce.current=ne,H.current=!1},[Q,Ae,ne],250);let Co=b?mm:rV.Fragment,se=b?{value:Y.current}:{};return vn(h||"form",{action:typeof l=="function"?void 0:l,className:gt,method:R,noValidate:!0,onSubmit:fe=>void Y.current.submit({},fe),ref:Te,children:vn(Co,{...se,children:vn(dm,{value:Y.current,children:vn(fm,{value:{fields:ne,...Y.current},children:vn(pm,{value:Ae,children:vn(Sg,{value:!z||z&&re,children:vn(hm,{value:le,children:vn(wg,{value:pe,children:vn(gm,{value:Q,children:vn(hc.Provider,{value:q,children:c})})})})})})})})})})};import{c as iV}from"react/compiler-runtime";import{jsx as hD,jsxs as gD}from"react/jsx-runtime";import{getTranslation as aV}from"@payloadcms/translations";import{tabHasName as bD}from"payload/shared";import lV,{useState as cV}from"react";var xp="tabs-field__tab-button",Pv=t=>{let e=iV(15),{hidden:o,isActive:n,parentPath:r,setIsActive:s,tab:i}=t,{i18n:l}=N(),[a,c]=cV(void 0),u;if(e[0]!==a||e[1]!==o||e[2]!==l||e[3]!==n||e[4]!==r||e[5]!==s||e[6]!==i){let d=[...r?r.split(".").slice(0,-1):[],...bD(i)?[i.name]:[]],m=a>0,f=hD(ki,{fields:i.fields,path:d,setErrorCount:c}),h=m&&`${xp}--has-error`,p=n&&`${xp}--active`,g=o&&`${xp}--hidden`,b;e[8]!==h||e[9]!==p||e[10]!==g?(b=[xp,h,p,g].filter(Boolean),e[8]=h,e[9]=p,e[10]=g,e[11]=b):b=e[11];let C;e[12]!==l||e[13]!==i?(C=i.label?aV(i.label,l):bD(i)?i.name:"",e[12]=l,e[13]=i,e[14]=C):C=e[14],u=gD(lV.Fragment,{children:[f,gD("button",{className:b.join(" "),onClick:s,type:"button",children:[C,m&&hD(Io,{count:a,i18n:l})]})]}),e[0]=a,e[1]=o,e[2]=l,e[3]=n,e[4]=r,e[5]=s,e[6]=i,e[7]=u}else u=e[7];return u};var fs="tabs-field";function Il({activeTabConfig:t,path:e}){let o=e;return wp(t)&&t.name&&(e?o=`${e}.${t.name}`:o=t.name),o}var mV=t=>{let e=CD(89),{field:o,forceRender:n,indexPath:r,parentPath:s,parentSchemaPath:i,path:l,permissions:a,readOnly:c}=t,{admin:u,tabs:d}=o,m;e[0]!==u?(m=u===void 0?{}:u,e[0]=u,e[1]=m):m=e[1];let{className:f}=m,h;e[2]!==d?(h=d===void 0?[]:d,e[2]=d,e[3]=h):h=e[3];let p=h,g=n===void 0?!1:n,b=r===void 0?"":r,C=s===void 0?"":s,v=i===void 0?"":i,y=l===void 0?"":l,{getPreference:x,setPreference:w}=ao(),{preferencesKey:S}=De(),{i18n:T}=N(),{isWithinCollapsible:I}=Os(),R;e[4]!==p?(R=H=>{let[q]=H;return p.map((ne,te)=>{let ce=ne?.id;return{index:te,passesCondition:q?.[ce]?.passesCondition??!0,tab:ne}})},e[4]=p,e[5]=R):R=e[5];let F=Lt(R),_;e[6]!==F?(_=()=>F.filter(pV)?.[0]?.index??0,e[6]=F,e[7]=_):_=e[7];let[D,A]=Ev(_),L=`tabs-${b}`,E;e[8]!==D||e[9]!==C||e[10]!==p?(E=()=>Il({activeTabConfig:p[D],path:C}),e[8]=D,e[9]=C,e[10]=p,e[11]=E):E=e[11];let[k,B]=Ev(E),$;e[12]!==v||e[13]!==p[0]?($=()=>Il({activeTabConfig:p[0],path:v}),e[12]=v,e[13]=p[0],e[14]=$):$=e[14];let[P,M]=Ev($),j;e[15]!==D||e[16]!==k||e[17]!==C||e[18]!==p?(j=wp(p[D])?k:C,e[15]=D,e[16]=k,e[17]=C,e[18]=p,e[19]=j):j=e[19];let O=j,G=F[D],V=G?.tab,z;e[20]!==D||e[21]!==P||e[22]!==v||e[23]!==p?(z=wp(p[D])?P:v,e[20]=D,e[21]=P,e[22]=v,e[23]=p,e[24]=z):z=e[24];let X=z,Q=V.admin?.description??V.description,U;e[25]!==Q||e[26]!==T?(U=typeof Q=="function"?Q({i18n:T,t:T.t}):Q,e[25]=Q,e[26]=T,e[27]=U):U=e[27];let ee=U,J=F.some(hV),re;e[28]!==x||e[29]!==C||e[30]!==v||e[31]!==y||e[32]!==S||e[33]!==w||e[34]!==p||e[35]!==L?(re=async H=>{A(H),B(Il({activeTabConfig:p[H],path:C})),M(Il({activeTabConfig:p[H],path:v}));let q=await x(S);S&&w(S,{...q,...y?{fields:{...q?.fields||{},[y]:{...q?.fields?.[y],tabIndex:H}}}:{fields:{...q?.fields,[L]:{...q?.fields?.[L],tabIndex:H}}}})},e[28]=x,e[29]=C,e[30]=v,e[31]=y,e[32]=S,e[33]=w,e[34]=p,e[35]=L,e[36]=re):re=e[36];let ie=re,le,Z;e[37]!==x||e[38]!==C||e[39]!==v||e[40]!==y||e[41]!==S||e[42]!==p||e[43]!==L?(le=()=>{S&&(async()=>{let q=await x(S),te=(y?q?.fields?.[y]?.tabIndex:q?.fields?.[L]?.tabIndex)||0;A(te),B(Il({activeTabConfig:p[te],path:C})),M(Il({activeTabConfig:p[te],path:v}))})()},Z=[y,x,S,L,p,C,v],e[37]=x,e[38]=C,e[39]=v,e[40]=y,e[41]=S,e[42]=p,e[43]=L,e[44]=le,e[45]=Z):(le=e[44],Z=e[45]),vD(le,Z);let pe;e[46]!==G?.passesCondition||e[47]!==ie||e[48]!==F?(pe=()=>{if(G?.passesCondition===!1){let H=F.find(gV);H&&ie(H.index)}},e[46]=G?.passesCondition,e[47]=ie,e[48]=F,e[49]=pe):pe=e[49];let be;e[50]!==G||e[51]!==ie||e[52]!==F?(be=[G,F,ie],e[50]=G,e[51]=ie,e[52]=F,e[53]=be):be=e[53],vD(pe,be);let Ae=I&&`${fs}--within-collapsible`,ge=!J&&`${fs}--hidden`,Te;e[54]!==f||e[55]!==Ae||e[56]!==ge?(Te=[Re,f,fs,Ae,ge].filter(Boolean),e[54]=f,e[55]=Ae,e[56]=ge,e[57]=Te):Te=e[57];let Y=Te.join(" "),de;if(e[58]!==O||e[59]!==X||e[60]!==V||e[61]!==D||e[62]!==G||e[63]!==k||e[64]!==ee||e[65]!==g||e[66]!==ie||e[67]!==b||e[68]!==y||e[69]!==a||e[70]!==c||e[71]!==Y||e[72]!==F){let H;e[74]!==D||e[75]!==ie||e[76]!==y?(H=ne=>{let{index:te,passesCondition:ce,tab:he}=ne;return ms(Pv,{hidden:!ce,isActive:D===te,parentPath:y,setIsActive:()=>{ie(te)},tab:he},te)},e[74]=D,e[75]=ie,e[76]=y,e[77]=H):H=e[77];let q;e[78]!==O||e[79]!==X||e[80]!==V||e[81]!==G||e[82]!==k||e[83]!==ee||e[84]!==g||e[85]!==b||e[86]!==a||e[87]!==c?(q=V&&ms(fV,{description:ee,fields:V.fields,forceRender:g,hidden:!1,parentIndexPath:wp(V)?"":`${b?b+"-":""}`+String(G.index),parentPath:O,parentSchemaPath:X,path:k,permissions:a&&typeof a=="object"&&"name"in V?a[V.name]&&typeof a[V.name]=="object"&&"fields"in a[V.name]?a[V.name].fields:a[V.name]:a,readOnly:c}),e[78]=O,e[79]=X,e[80]=V,e[81]=G,e[82]=k,e[83]=ee,e[84]=g,e[85]=b,e[86]=a,e[87]=c,e[88]=q):q=e[88],de=ms("div",{className:Y,children:yD(Rb,{children:[ms("div",{className:`${fs}__tabs-wrap`,children:ms("div",{className:`${fs}__tabs`,children:F.map(H)})}),ms("div",{className:`${fs}__content-wrap`,children:q})]})}),e[58]=O,e[59]=X,e[60]=V,e[61]=D,e[62]=G,e[63]=k,e[64]=ee,e[65]=g,e[66]=ie,e[67]=b,e[68]=y,e[69]=a,e[70]=c,e[71]=Y,e[72]=F,e[73]=de}else de=e[73];return de},Vu=ze(mV);function fV(t){let e=CD(19),{description:o,fields:n,forceRender:r,hidden:s,label:i,parentIndexPath:l,parentPath:a,parentSchemaPath:c,permissions:u,readOnly:d}=t,{i18n:m}=N(),{customComponents:f,path:h}=Ne(),p;e[0]!==f?(p=f===void 0?{}:f,e[0]=f,e[1]=p):p=e[1];let{AfterInput:g,BeforeInput:b,Description:C,Field:v}=p;if(v)return v;let y=s&&`${fs}__tab--hidden`,x=i&&`${fs}__tabConfigLabel-${dV(uV(i,m))}`,w;e[2]!==y||e[3]!==x?(w=[y,`${fs}__tab`,x].filter(Boolean),e[2]=y,e[3]=x,e[4]=w):w=e[4];let S=w.join(" "),T;return e[5]!==g||e[6]!==b||e[7]!==C||e[8]!==o||e[9]!==n||e[10]!==r||e[11]!==l||e[12]!==a||e[13]!==c||e[14]!==h||e[15]!==u||e[16]!==d||e[17]!==S?(T=yD("div",{className:S,children:[ms(ue,{CustomComponent:C,Fallback:ms(Xe,{description:o,marginPlacement:"bottom",path:h})}),b,ms(jo,{fields:n,forceRender:r,parentIndexPath:l,parentPath:a,parentSchemaPath:c,permissions:u,readOnly:d}),g]}),e[5]=g,e[6]=b,e[7]=C,e[8]=o,e[9]=n,e[10]=r,e[11]=l,e[12]=a,e[13]=c,e[14]=h,e[15]=u,e[16]=d,e[17]=S,e[18]=T):T=e[18],T}function pV(t){let{passesCondition:e}=t;return e}function hV(t){let{passesCondition:e}=t;return e}function gV(t){let{passesCondition:e}=t;return e}import{jsx as xV}from"react/jsx-runtime";import{useCallback as wD,useEffect as wV,useMemo as SV,useState as IV}from"react";import{c as bV}from"react/compiler-runtime";import{jsx as Ks,jsxs as xD}from"react/jsx-runtime";import{getTranslation as vV}from"@payloadcms/translations";import"react";var Nv=t=>{let e=bV(32),{AfterInput:o,BeforeInput:n,className:r,Description:s,description:i,Error:l,hasMany:a,htmlAttributes:c,inputRef:u,Label:d,label:m,localized:f,maxRows:h,onChange:p,onKeyDown:g,path:b,placeholder:C,readOnly:v,required:y,rtl:x,showError:w,style:S,value:T,valueToRender:I}=t,{i18n:R,t:F}=N(),_=yV,D;if(e[0]!==o||e[1]!==n||e[2]!==s||e[3]!==l||e[4]!==d||e[5]!==r||e[6]!==i||e[7]!==a||e[8]!==c||e[9]!==R||e[10]!==u||e[11]!==m||e[12]!==f||e[13]!==h||e[14]!==p||e[15]!==g||e[16]!==b||e[17]!==C||e[18]!==v||e[19]!==y||e[20]!==x||e[21]!==w||e[22]!==S||e[23]!==F||e[24]!==T||e[25]!==I){let A=vV(C,R),L=w&&"error",E=v&&"read-only",k=a&&"has-many",B;e[27]!==r||e[28]!==L||e[29]!==E||e[30]!==k?(B=[Re,"text",r,L,E,k].filter(Boolean),e[27]=r,e[28]=L,e[29]=E,e[30]=k,e[31]=B):B=e[31],D=xD("div",{className:B.join(" "),style:S,children:[Ks(ue,{CustomComponent:d,Fallback:Ks(_e,{label:m,localized:f,path:b,required:y})}),xD("div",{className:`${Re}__wrap`,children:[Ks(ue,{CustomComponent:l,Fallback:Ks(Qe,{path:b,showError:w})}),n,a?Ks(pt,{className:`field-${b.replace(/\./g,"__")}`,components:{DropdownIndicator:null},customProps:{editableProps:_},disabled:v,filterOption:()=>h?!(Array.isArray(T)&&h&&T.length>=h):!0,isClearable:!1,isCreatable:!0,isMulti:!0,isSortable:!0,menuIsOpen:!1,noOptionsMessage:()=>Array.isArray(T)&&T.length>=h?F("validation:limitReached",{max:h,value:T.length+1}):null,onChange:p,options:[],placeholder:A,showError:w,value:I}):Ks("input",{"data-rtl":x,disabled:v,id:`field-${b?.replace(/\./g,"__")}`,name:b,onChange:p,onKeyDown:g,placeholder:A,ref:u,type:"text",value:T||"",...c??{}}),o,Ks(ue,{CustomComponent:s,Fallback:Ks(Xe,{description:i,path:b})})]})]}),e[0]=o,e[1]=n,e[2]=s,e[3]=l,e[4]=d,e[5]=r,e[6]=i,e[7]=a,e[8]=c,e[9]=R,e[10]=u,e[11]=m,e[12]=f,e[13]=h,e[14]=p,e[15]=g,e[16]=b,e[17]=C,e[18]=v,e[19]=y,e[20]=x,e[21]=w,e[22]=S,e[23]=F,e[24]=T,e[25]=I,e[26]=D}else D=e[26];return D};function CV(t){t.currentTarget.contentEditable="false"}function yV(t,e,o){let n=`${e}--editable`;return{onBlur:CV,onClick:r=>{r.currentTarget.contentEditable="true",r.currentTarget.classList.add(n),r.currentTarget.focus()},onKeyDown:r=>{if(r.key==="Enter"||r.key==="Tab"||r.key==="Escape"){if(r.currentTarget.contentEditable="false",r.currentTarget.classList.remove(n),t.value.value=r.currentTarget.innerText,t.label=r.currentTarget.innerText,t.value.value.replaceAll(`
`,""))o.onChange(o.value,{action:"create-option",option:t});else if(Array.isArray(o.value)){let s=o.value.filter(i=>i.id!==t.id);o.onChange(s,{action:"pop-value",removedValue:t})}r.preventDefault()}r.stopPropagation()}}}var _V=t=>{let{field:e,field:{admin:{autoComplete:o,className:n,description:r,placeholder:s,rtl:i}={},hasMany:l,label:a,localized:c,maxLength:u,maxRows:d,minLength:m,minRows:f,required:h},inputRef:p,path:g,readOnly:b,validate:C}=t,v=xe(),{config:{localization:y}}=W(),x=wD((M,j)=>{if(typeof C=="function")return C(M,{...j,maxLength:u,minLength:m,required:h})},[C,m,u,h]),{customComponents:{AfterInput:w,BeforeInput:S,Description:T,Error:I,Label:R}={},disabled:F,path:_,setValue:D,showError:A,value:L}=Ne({potentiallyStalePath:g,validate:x}),E=Xa({fieldLocalized:c,fieldRTL:i,locale:v,localizationConfig:y||void 0}),[k,B]=IV([]),$=wD(M=>{if(!(b||F)){let j;M?Array.isArray(M)?j=M.map(O=>O.value?.value||O.value):j=[M.value?.value||M.value]:j=[],D(j)}},[b,D,F]);wV(()=>{l&&Array.isArray(L)&&B(L.map((M,j)=>({id:`${M}${j}`,label:`${M}`,value:{toString:()=>`${M}${j}`,value:M?.value||M}})))},[L,l]);let P=SV(()=>rt(e),[e]);return xV(Nv,{AfterInput:w,BeforeInput:S,className:n,Description:T,description:r,Error:I,hasMany:l,htmlAttributes:{autoComplete:o||void 0},inputRef:p,Label:R,label:a,localized:c,maxRows:d,minRows:f,onChange:l?$:M=>{D(M.target.value)},path:_,placeholder:s,readOnly:b||F,required:h,rtl:E,showError:A,style:P,value:L||"",valueToRender:k})},ta=ze(_V);import{jsx as FV}from"react/jsx-runtime";import{getTranslation as RV}from"@payloadcms/translations";import{useCallback as AV,useMemo as PV}from"react";import{c as DV}from"react/compiler-runtime";import{jsx as ei,jsxs as SD}from"react/jsx-runtime";import{getTranslation as TV}from"@payloadcms/translations";import"react";var Lv=t=>{let e=DV(26),{AfterInput:o,BeforeInput:n,className:r,Description:s,description:i,Error:l,Label:a,label:c,localized:u,onChange:d,path:m,placeholder:f,readOnly:h,required:p,rows:g,rtl:b,showError:C,style:v,value:y}=t,{i18n:x}=N(),w=C&&"error",S=h&&"read-only",T;e[0]!==r||e[1]!==w||e[2]!==S?(T=[Re,"textarea",r,w,S].filter(Boolean),e[0]=r,e[1]=w,e[2]=S,e[3]=T):T=e[3];let I=T.join(" "),R=`field-${m.replace(/\./g,"__")}`,F;return e[4]!==o||e[5]!==n||e[6]!==s||e[7]!==l||e[8]!==a||e[9]!==i||e[10]!==x||e[11]!==c||e[12]!==u||e[13]!==d||e[14]!==m||e[15]!==f||e[16]!==h||e[17]!==p||e[18]!==g||e[19]!==b||e[20]!==C||e[21]!==v||e[22]!==I||e[23]!==R||e[24]!==y?(F=SD("div",{className:I,style:v,children:[ei(ue,{CustomComponent:a,Fallback:ei(_e,{htmlFor:R,label:c,localized:u,path:m,required:p})}),SD("div",{className:`${Re}__wrap`,children:[ei(ue,{CustomComponent:l,Fallback:ei(Qe,{path:m,showError:C})}),n,ei("div",{className:"textarea-outer",children:ei("textarea",{"data-rtl":b,disabled:h,id:`field-${m.replace(/\./g,"__")}`,name:m,onChange:d,placeholder:TV(f,x),rows:g,style:{"--rows":g},value:y||""})}),o,ei(ue,{CustomComponent:s,Fallback:ei(Xe,{description:i,path:m})})]})]}),e[4]=o,e[5]=n,e[6]=s,e[7]=l,e[8]=a,e[9]=i,e[10]=x,e[11]=c,e[12]=u,e[13]=d,e[14]=m,e[15]=f,e[16]=h,e[17]=p,e[18]=g,e[19]=b,e[20]=C,e[21]=v,e[22]=I,e[23]=R,e[24]=y,e[25]=F):F=e[25],F};var EV=t=>{let{field:e,field:{admin:{className:o,description:n,placeholder:r,rows:s,rtl:i}={},label:l,localized:a,maxLength:c,minLength:u,required:d},path:m,readOnly:f,validate:h}=t,{i18n:p}=N(),{config:{localization:g}}=W(),b=xe(),C=Xa({fieldLocalized:a,fieldRTL:i,locale:b,localizationConfig:g||void 0}),v=AV((L,E)=>{if(typeof h=="function")return h(L,{...E,maxLength:c,minLength:u,required:d})},[h,d,c,u]),{customComponents:{AfterInput:y,BeforeInput:x,Description:w,Error:S,Label:T}={},disabled:I,path:R,setValue:F,showError:_,value:D}=Ne({potentiallyStalePath:m,validate:v}),A=PV(()=>rt(e),[e]);return FV(Lv,{AfterInput:y,BeforeInput:x,className:o,Description:w,description:n,Error:S,Label:T,label:l,localized:a,onChange:L=>{F(L.target.value)},path:R,placeholder:RV(r,p),readOnly:f||I,required:d,rows:s,rtl:C,showError:_,style:A,value:D})},Gu=ze(EV);var zu=()=>null;import{jsx as KT}from"react/jsx-runtime";import Qz,{useMemo as Kz}from"react";import{c as VT}from"react/compiler-runtime";import{jsx as vs,jsxs as jz}from"react/jsx-runtime";import{validateMimeType as Bz}from"payload/shared";import bs from"react";import{c as NV}from"react/compiler-runtime";import{jsx as LV}from"react/jsx-runtime";import{createContext as $V,use as kV,useState as $v}from"react";var ID=$V(void 0),_l=t=>{let e=NV(5),{children:o}=t,[n,r]=$v(null),[s,i]=$v(""),[l,a]=$v(null),c;return e[0]!==o||e[1]!==l||e[2]!==n||e[3]!==s?(c=LV(ID,{value:{setUploadControlFile:a,setUploadControlFileName:r,setUploadControlFileUrl:i,uploadControlFile:l,uploadControlFileName:n,uploadControlFileUrl:s},children:o}),e[0]=o,e[1]=l,e[2]=n,e[3]=s,e[4]=c):c=e[4],c},kv=()=>{let t=kV(ID);if(!t)throw new Error("useUploadControls must be used within an UploadControlsProvider");return t};import{jsx as Ip,jsxs as jv}from"react/jsx-runtime";import zV from"react";import{jsx as jV}from"react/jsx-runtime";import ti from"react";var _D=t=>{t.preventDefault(),t.stopPropagation()},BV="dropzone";function oa({children:t,className:e,disabled:o=!1,dropzoneStyle:n="default",multipleFiles:r,onChange:s}){let i=ti.useRef(null),[l,a]=ti.useState(!1),c=ti.useCallback(p=>{if(!r&&p.length>1){let g=new DataTransfer;g.items.add(p[0]),s(g.files)}else s(p)},[r,s]),u=ti.useCallback(p=>{p.preventDefault(),p.stopPropagation(),p.clipboardData.files&&p.clipboardData.files.length>0&&c(p.clipboardData.files)},[c]),d=ti.useCallback(p=>{p.preventDefault(),p.stopPropagation(),a(!0)},[]),m=ti.useCallback(p=>{p.preventDefault(),p.stopPropagation(),a(!1)},[]),f=ti.useCallback(p=>{p.preventDefault(),p.stopPropagation(),a(!1),p.dataTransfer.files&&p.dataTransfer.files.length>0&&(c(p.dataTransfer.files),a(!1),p.dataTransfer.clearData())},[c]);ti.useEffect(()=>{let p=i.current;return p&&!o?(p.addEventListener("dragenter",d),p.addEventListener("dragleave",m),p.addEventListener("dragover",_D),p.addEventListener("drop",f),p.addEventListener("paste",u),()=>{p.removeEventListener("dragenter",d),p.removeEventListener("dragleave",m),p.removeEventListener("dragover",_D),p.removeEventListener("drop",f),p.removeEventListener("paste",u)}):()=>null},[o,d,m,f,u]);let h=[BV,e,l?"dragging":"",`dropzoneStyle--${n}`].filter(Boolean).join(" ");return jV("div",{className:h,ref:i,children:t})}import{jsx as TD,jsxs as VV}from"react/jsx-runtime";import"react";import{c as MV}from"react/compiler-runtime";import{jsx as DD}from"react/jsx-runtime";import"react";var OV="drawer-close-button";function Sp(t){let e=MV(3),{onClick:o}=t,{t:n}=N(),r;return e[0]!==o||e[1]!==n?(r=DD("button",{"aria-label":n("general:close"),className:OV,onClick:o,type:"button",children:DD(bt,{})}),e[0]=o,e[1]=n,e[2]=r):r=e[2],r}var GV="bulk-upload--drawer-header";function Dl({onClose:t,title:e}){return VV("div",{className:GV,children:[TD("h2",{title:e,children:e}),TD(Sp,{onClick:t})]})}var _p="bulk-upload--add-files";function Dp({acceptMimeTypes:t,onCancel:e,onDrop:o}){let{t:n}=N(),r=zV.useRef(null);return jv("div",{className:_p,children:[Ip(Dl,{onClose:e,title:n("upload:addFiles")}),Ip("div",{className:`${_p}__dropArea`,children:jv(oa,{multipleFiles:!0,onChange:o,children:[Ip(oe,{buttonStyle:"subtle",iconPosition:"left",onClick:()=>{r.current&&r.current.click()},size:"small",children:n("upload:selectFile")}),Ip("input",{accept:t,"aria-hidden":"true",className:`${_p}__hidden-input`,hidden:!0,multiple:!0,onChange:s=>{s.target.files&&s.target.files.length>0&&o(s.target.files)},ref:r,type:"file"}),jv("p",{className:`${_p}__dragAndDropText`,children:[n("general:or")," ",n("upload:dragAndDrop")]})]})})]})}import{c as Lz}from"react/compiler-runtime";import{jsx as ad,jsxs as o0}from"react/jsx-runtime";import{getTranslation as $z}from"@payloadcms/translations";import{reduceFieldsToValues as kz}from"payload/shared";import"react";import{c as GD}from"react/compiler-runtime";import{jsx as Cn,jsxs as Hu}from"react/jsx-runtime";import"react";import{c as aG}from"react/compiler-runtime";import{jsx as Pp,jsxs as lG}from"react/jsx-runtime";import"react";import{jsx as HV,jsxs as UV}from"react/jsx-runtime";import*as Tp from"qs-esm";import It from"react";var FD=hi(_v(),1);import{reduceFieldsToValues as WV}from"payload/shared";async function RD(t={},e={},o,n){let r=WV(t,!0),s=r?.file;if(s&&delete r.file,s&&typeof n=="function"){let a=s.name,c=await n({file:s,updateFilename:u=>{a=u}});s=JSON.stringify({clientUploadContext:c,collectionSlug:o,filename:a,mimeType:s.type,size:s.size})}let i={...r,...e},l={_payload:JSON.stringify(i),file:s};return(0,FD.serialize)(l,{indices:!0,nullsAsUndefineds:!1})}function AD(t,e){switch(e.type){case"ADD_FORMS":{let o=[];for(let n=0;n<e.files.length;n++)o[n]={errorCount:0,formID:crypto.randomUUID(),formState:{...e.initialState||{},file:{initialValue:e.files[n],valid:!0,value:e.files[n]}},uploadEdits:{}};return{...t,activeIndex:0,forms:[...o,...t.forms]}}case"REMOVE_FORM":{let o=[...t.forms],[n]=o.splice(e.index,1),r=t.activeIndex>=e.index,s=t.activeIndex===e.index?e.index:r?t.activeIndex-1:t.activeIndex,i=Math.min(o.length-1,s);return{...t,activeIndex:r?i:t.activeIndex,forms:o,totalErrorCount:t.totalErrorCount-n.errorCount}}case"REPLACE":return{...t,...e.state};case"SET_ACTIVE_INDEX":return{...t,activeIndex:e.index};case"UPDATE_ERROR_COUNT":{let o=[...t.forms];return o[e.index].errorCount=e.count,{...t,forms:o,totalErrorCount:t.forms.reduce((n,r)=>n+r.errorCount,0)}}case"UPDATE_FORM":{let o=[...t.forms];return o[e.index].errorCount=e.errorCount,o[e.index]={...o[e.index],formState:{...o[e.index].formState,...e.formState},uploadEdits:{...o[e.index].uploadEdits,...e.uploadEdits}},{...t,forms:o,totalErrorCount:t.forms.reduce((n,r)=>n+r.errorCount,0)}}default:return t}}var PD=It.createContext({activeIndex:0,addFiles:()=>Promise.resolve(),bulkUpdateForm:()=>null,collectionSlug:"",docPermissions:void 0,documentSlots:{},forms:[],getFormDataRef:{current:()=>({})},hasPublishPermission:!1,hasSavePermission:!1,hasSubmitted:!1,isInitializing:!1,removeFile:()=>{},saveAllDocs:()=>Promise.resolve(),setActiveIndex:()=>0,setFormTotalErrorCount:()=>{},totalErrorCount:0,updateUploadEdits:()=>{}}),XV={activeIndex:0,forms:[],totalErrorCount:0};function ED({children:t}){let{config:e}=W(),{routes:{api:o},serverURL:n}=e,{code:r}=xe(),{i18n:s,t:i}=N(),{getDocumentSlots:l,getFormState:a}=$t(),{getUploadHandler:c}=Bu(),[u,d]=It.useState({}),[m,f]=It.useState(!1),[h,p]=It.useState(),[g,b]=It.useState(!1),[C,v]=It.useState(!1),[y,x]=It.useState(!1),[w,S]=It.useState(!1),[T,I]=It.useState(!1),[R,F]=It.useReducer(AD,XV),{activeIndex:_,forms:D,totalErrorCount:A}=R,L=It.useRef(D);L.current=D;let{toggleLoadingOverlay:E}=Qf(),{closeModal:k}=ae(),{collectionSlug:B,drawerSlug:$,initialFiles:P,onSuccess:M,setInitialFiles:j}=Qo(),[O,G]=It.useState(!1),[V,z]=It.useState(""),X=It.useRef(!1),Q=It.useRef(null),U=It.useRef(()=>({})),ee=`${o}/${B}`,J=It.useCallback(async()=>{let Y={locale:r||void 0},de=`/${B}/access`,q=await(await fetch(`${n}${o}${de}?${Tp.stringify(Y)}`,{credentials:"include",headers:{"Accept-Language":s.language,"Content-Type":"application/json"},method:"post"})).json(),ne=await fetch(`${n}${o}${de}?${Tp.stringify(Y)}`,{body:JSON.stringify({_status:"published"}),credentials:"include",headers:{"Accept-Language":s.language,"Content-Type":"application/json"},method:"POST"}).then(te=>te.json());p(q),b(Ec({collectionSlug:B,docPermissions:q,isEditing:!1})),v(ne?.update),S(!0)},[o,r,B,s.language,n]),re=It.useCallback(async Y=>{Y?.signal&&Y.abort("aborting previous fetch for initial form state without files");let de=await l({collectionSlug:B});d(de);try{let{state:H}=await a({collectionSlug:B,docPermissions:h,docPreferences:{fields:{}},locale:r,operation:"create",renderAllFields:!0,schemaPath:B,skipValidation:!0});Q.current=H,x(!0)}catch{}},[l,B,a,h,r]),ie=It.useCallback(Y=>{let de=U.current();F({type:"REPLACE",state:{activeIndex:Y,forms:D.map((H,q)=>q===_?{errorCount:H.errorCount,formID:H.formID,formState:de,uploadEdits:H.uploadEdits}:H)}})},[D,_]),le=It.useCallback(async Y=>{D.length&&F({type:"UPDATE_FORM",errorCount:D[_].errorCount,formState:U.current(),index:_}),E({isLoading:!0,key:"addingDocs"}),y||await re(),F({type:"ADD_FORMS",files:Y,initialState:Q.current}),E({isLoading:!1,key:"addingDocs"})},[re,y,E,_,D]),Z=It.useCallback(Y=>{F({type:"REMOVE_FORM",index:Y})},[]),pe=It.useCallback(({errorCount:Y,index:de})=>{F({type:"UPDATE_ERROR_COUNT",count:Y,index:de})},[]),be=It.useCallback(async({overrides:Y}={})=>{let de=U.current(),H=[...D];H[_]={errorCount:H[_].errorCount,formID:H[_].formID,formState:de,uploadEdits:H[_].uploadEdits};let q=[];G(!0);for(let he=0;he<H.length;he++)try{let $e=H[he];z(i("general:uploadingBulk",{current:he+1,total:H.length}));let me=`${ee}${Tp.stringify({uploadEdits:$e?.uploadEdits||void 0},{addQueryPrefix:!0})}`,ye=await fetch(me,{body:await RD($e.formState,Y,B,c({collectionSlug:B})),method:"POST"}),Be=await ye.json();ye.status===201&&Be?.doc&&q.push(Be.doc);let[Oe,ke]=(Be?.errors||[]).reduce(([He,at],ht)=>{let Ke=[],Dt=[];return ht?.message&&Dt.push(ht),Array.isArray(ht?.data?.errors)&&ht.data?.errors.forEach(dt=>{dt?.path?Ke.push(dt):Dt.push(dt)}),[[...He,...Ke],[...at,...Dt]]},[[],[]]);H[he]={errorCount:Oe.length,formID:H[he].formID,formState:Mu(H[he].formState,{type:"ADD_SERVER_ERRORS",errors:Oe})},(ye.status===413||ye.status===400)&&(H[he]={...H[he],errorCount:H[he].errorCount+1},K.error(ke[0]?.message))}catch{}f(!0),z(""),G(!1);let ne=[];H.forEach(({errorCount:he},$e)=>{he&&ne.push(H[$e])});let te=Math.max(0,H.length-ne.length),ce=H.length-te;te&&(K.success(`Successfully saved ${te} files`),typeof M=="function"&&M(q,ce)),ce?K.error(`Failed to save ${ce} files`):k($),F({type:"REPLACE",state:{activeIndex:0,forms:ne,totalErrorCount:ne.reduce((he,{errorCount:$e})=>he+$e,0)}}),ne.length===0&&j(void 0)},[j,ee,B,c,i,D,_,k,$,M]),Ae=It.useCallback(async(Y,de)=>{for(let H=0;H<D.length;H++)if(Object.entries(Y).forEach(([q,ne])=>{D[H].formState[q]&&(D[H].formState[q].value=ne,F({type:"UPDATE_FORM",errorCount:D[H].errorCount,formState:D[H].formState,index:H}))}),typeof de=="function"&&de(),m){let{state:q}=await a({collectionSlug:B,docPermissions:h,docPreferences:null,formState:D[H].formState,operation:"create",schemaPath:B}),ne=Object.values(q).reduce((te,ce)=>ce?.valid===!1?te+1:te,0);F({type:"UPDATE_FORM",errorCount:ne,formState:q,index:H})}},[B,h,D,a,m]),ge=It.useCallback(Y=>{F({type:"UPDATE_FORM",errorCount:D[_].errorCount,formState:D[_].formState,index:_,uploadEdits:Y})},[_,D]),Te=It.useCallback(()=>{F({type:"REPLACE",state:{forms:D.map(Y=>({...Y,uploadEdits:{}}))}})},[D]);return It.useEffect(()=>{B&&(y||re(),w||J(),P&&I(!y||!w),y&&P&&!X.current&&(le(P),X.current=!0))},[le,P,re,J,B,y,w]),UV(PD,{value:{activeIndex:R.activeIndex,addFiles:le,bulkUpdateForm:Ae,collectionSlug:B,docPermissions:h,documentSlots:u,forms:D,getFormDataRef:U,hasPublishPermission:C,hasSavePermission:g,hasSubmitted:m,isInitializing:T,removeFile:Z,resetUploadEdits:Te,saveAllDocs:be,setActiveIndex:ie,setFormTotalErrorCount:pe,totalErrorCount:A,updateUploadEdits:ge},children:[O&&HV(hn,{animationDuration:"250ms",loadingText:V,overlayType:"fullscreen",show:!0}),t]})}function Wo(){return It.use(PD)}import{jsx as Ur,jsxs as Bv}from"react/jsx-runtime";import{getTranslation as rG}from"@payloadcms/translations";import{unflatten as BD}from"payload/shared";import nG,{useCallback as Mv,useEffect as sG,useMemo as iG,useState as MD}from"react";import{c as QV}from"react/compiler-runtime";import{jsx as jD,jsxs as KV}from"react/jsx-runtime";import{useState as eG}from"react";var ND=t=>{let e=["file","mimeType","thumbnailURL","width","height","filesize","filename","url","focalX","focalY","sizes"];return t.filter(o=>!e.includes("name"in o&&o.name))};import{fieldAffectsData as ZV,fieldHasSubFields as YV,fieldIsHiddenOrDisabled as JV,getFieldPermissions as qV}from"payload/shared";import{fieldAffectsData as LD}from"payload/shared";var Tl=(t,e)=>t?LD(e)?`${t}.${e.name}`:t:LD(e)?e.name:"";import{jsx as Fp,jsxs as $D}from"react/jsx-runtime";import{Fragment as kD}from"react";var Wu=({CustomLabel:t,field:e,prefix:o})=>$D(kD,{children:[o?$D(kD,{children:[Fp("span",{style:{display:"inline-block"},children:o})," > "]}):null,Fp("span",{style:{display:"inline-block"},children:Fp(ue,{CustomComponent:t,Fallback:Fp(_e,{label:"label"in e&&e.label})})})]});var Rp=({fields:t,formState:e,labelPrefix:o=null,parentPath:n="",path:r="",permissions:s})=>{if(!t)return[];let i=e?.[r]?.customComponents?.Label;return t?.reduce((l,a)=>{let{operation:c,permissions:u,read:d}=qV({field:a,operation:"update",parentName:n?.includes(".")?n.split(".")[n.split(".").length-1]:n,permissions:s});if((ZV(a)||a.type==="ui")&&(a.admin?.disableBulkEdit||a.unique||JV(a)||"readOnly"in a&&a.readOnly||!c||!d))return l;if(!(a.type==="array"||a.type==="blocks")&&YV(a))return[...l,...Rp({fields:a.fields,labelPrefix:Wu({CustomLabel:i,field:a,prefix:o}),parentPath:r,path:Tl(r,a),permissions:u})];if(a.type==="tabs"&&"tabs"in a)return[...l,...a.tabs.reduce((f,h)=>{if("fields"in h){let p="name"in h&&h.name;return[...f,...Rp({fields:h.fields,labelPrefix:o,parentPath:r,path:p?Tl(r,a):r,permissions:u})]}},[])];let m={label:Wu({CustomLabel:i,field:a,prefix:o}),value:{field:a,fieldPermissions:u,path:Tl(r,a)}};return[...l,m]},[])};var tG="field-select",Ap=t=>{let e=QV(14),{fields:o,onChange:n,permissions:r}=t,{t:s}=N(),{dispatchFields:i,getFields:l}=Ve(),a;e[0]!==o||e[1]!==l||e[2]!==r?(a=()=>Rp({fields:ND(o),formState:l(),permissions:r}),e[0]=o,e[1]=l,e[2]=r,e[3]=a):a=e[3];let[c]=eG(a),u;if(e[4]!==i||e[5]!==l||e[6]!==n||e[7]!==c||e[8]!==s){let d;e[10]!==i||e[11]!==l||e[12]!==n?(d=m=>n({dispatchFields:i,formState:l(),selected:m}),e[10]=i,e[11]=l,e[12]=n,e[13]=d):d=e[13],u=KV("div",{className:tG,children:[jD(_e,{label:s("fields:selectFieldsToEdit")}),jD(pt,{getOptionValue:oG,isMulti:!0,onChange:d,options:c})]}),e[4]=i,e[5]=l,e[6]=n,e[7]=c,e[8]=s,e[9]=u}else u=e[9];return u};function oG(t){return typeof t.value=="object"&&"path"in t.value?String(t.value.path):String(t.value)}var OD=t=>{let{collection:{fields:e,labels:{plural:o,singular:n}}={},collection:r,drawerSlug:s,forms:i}=t,[l,a]=MD(!1),{permissions:c}=Ie(),{i18n:u,t:d}=N(),{closeModal:m}=ae(),{bulkUpdateForm:f}=Wo(),{getFormState:h}=$t(),p=nG.useRef(null),[g,b]=MD([]),C=c?.collections?.[r.slug],v=iG(()=>BD(g.reduce((S,T)=>(S[T.value.path]=!0,S),{})),[g]),y=Mv(async({formState:S,submitted:T})=>{let I=Dr(p),{state:R}=await h({collectionSlug:r.slug,docPermissions:C,docPreferences:null,formState:S,operation:"update",schemaPath:r.slug,select:v,signal:I.signal,skipValidation:!T});return p.current=null,R},[h,r,C,v]);sG(()=>{let S=p.current;return()=>{_r(S)}},[]);let x=Mv(S=>{let T=g.reduce((I,R)=>(S[R.value.path]&&(I[R.value.path]=S[R.value.path].value),I),{});f(T,()=>m(s))},[m,s,f,g]),w=Mv(async({dispatchFields:S,formState:T,selected:I})=>{a(!0),b(I||[]);let{state:R}=await h({collectionSlug:r.slug,docPermissions:C,docPreferences:null,formState:T,operation:"update",schemaPath:r.slug,select:BD(I.reduce((F,_)=>(F[_.value.path]=!0,F),{})),skipValidation:!0});S({type:"UPDATE_MANY",formState:R}),a(!1)},[h,r,C]);return Bv("div",{className:`${Xr}__main`,children:[Bv("div",{className:`${Xr}__header`,children:[Ur("h2",{className:`${Xr}__header__title`,children:d("general:editingLabel",{count:i.length,label:rG(i.length>1?o:n,u)})}),Ur("button",{"aria-label":d("general:close"),className:`${Xr}__header__close`,id:`close-drawer__${s}`,onClick:()=>m(s),type:"button",children:Ur(bt,{})})]}),Bv(ds,{className:`${Xr}__form`,isInitializing:l,onChange:[y],onSubmit:x,children:[Ur(Ap,{fields:e,onChange:w,permissions:C.fields}),g.length===0?null:Ur("div",{className:"render-fields",children:Ur(kc,{value:void 0,children:g.map((S,T)=>{let{value:{field:I,fieldPermissions:R,path:F}}=S;return Ur(Fl,{clientFieldConfig:I,indexPath:"",parentPath:"",parentSchemaPath:"",path:F,permissions:R},`${F}-${T}`)})})}),Ur("div",{className:`${Xr}__sidebar-wrap`,children:Ur("div",{className:`${Xr}__sidebar`,children:Ur("div",{className:`${Xr}__sidebar-sticky-wrap`,children:Ur("div",{className:`${Xr}__document-actions`,children:Ur(oe,{type:"submit",children:d("general:applyChanges")})})})})})]})]})};var Xr="edit-many-bulk-uploads",VD=t=>{let e=aG(5),{collection:o,collection:n}=t,{slug:r}=o===void 0?{}:o,{permissions:s}=Ie(),{t:i}=N(),{forms:l}=Wo(),c=s?.collections?.[r]?.update,u=`edit-${r}-bulk-uploads`;if(!c)return null;let d;return e[0]!==n||e[1]!==u||e[2]!==l||e[3]!==i?(d=lG("div",{className:Xr,children:[Pp(ts,{"aria-label":i("general:editAll"),className:`${Xr}__toggle`,slug:u,children:i("general:editAll")}),Pp(Jn,{children:Pp(Bt,{Header:null,slug:u,children:Pp(OD,{collection:n,drawerSlug:u,forms:l})})})]}),e[0]=n,e[1]=u,e[2]=l,e[3]=i,e[4]=d):d=e[4],d};var Rl="bulk-upload--actions-bar";function zD(t){let e=GD(15),{collectionConfig:o}=t,{activeIndex:n,forms:r,setActiveIndex:s}=Wo(),{t:i}=N(),l=n+1,a;if(e[0]!==n||e[1]!==o||e[2]!==r.length||e[3]!==s||e[4]!==i||e[5]!==l){let c;e[7]!==n||e[8]!==r.length||e[9]!==s?(c=()=>{let d=n-1;d<0?s(r.length-1):s(d)},e[7]=n,e[8]=r.length,e[9]=s,e[10]=c):c=e[10];let u;e[11]!==n||e[12]!==r.length||e[13]!==s?(u=()=>{let d=n+1;d===r.length?s(0):s(d)},e[11]=n,e[12]=r.length,e[13]=s,e[14]=u):u=e[14],a=Hu("div",{className:Rl,children:[Hu("div",{className:`${Rl}__navigation`,children:[Hu("p",{className:`${Rl}__locationText`,children:[Cn("strong",{children:l}),` ${i("general:of")} `,Cn("strong",{children:r.length})]}),Hu("div",{className:`${Rl}__controls`,children:[Cn(oe,{"aria-label":i("general:previous"),buttonStyle:"none",onClick:c,type:"button",children:Cn(We,{direction:"left"})}),Cn(oe,{"aria-label":i("general:next"),buttonStyle:"none",onClick:u,type:"button",children:Cn(We,{direction:"right"})})]}),Cn(VD,{collection:o})]}),Cn(Ov,{className:`${Rl}__saveButtons`})]}),e[0]=n,e[1]=o,e[2]=r.length,e[3]=s,e[4]=i,e[5]=l,e[6]=a}else a=e[6];return a}function Ov(t){let e=GD(12),{className:o}=t,{getEntityConfig:n}=W(),{t:r}=N(),{collectionSlug:s,hasPublishPermission:i,hasSavePermission:l,saveAllDocs:a}=Wo(),c;e[0]!==s||e[1]!==n?(c=n({collectionSlug:s}),e[0]=s,e[1]=n,e[2]=c):c=e[2];let u=c,d;e[3]!==o?(d=[`${Rl}__buttons`,o].filter(Boolean),e[3]=o,e[4]=d):d=e[4];let m=d.join(" "),f;return e[5]!==u?.versions?.drafts||e[6]!==i||e[7]!==l||e[8]!==a||e[9]!==r||e[10]!==m?(f=Hu("div",{className:m,children:[u?.versions?.drafts&&l?Cn(oe,{buttonStyle:"secondary",onClick:()=>void a({overrides:{_status:"draft"}}),children:r("version:saveDraft")}):null,u?.versions?.drafts&&i?Cn(oe,{onClick:()=>void a({overrides:{_status:"published"}}),children:r("version:publish")}):null,!u?.versions?.drafts&&l?Cn(oe,{onClick:()=>void a(),children:r("general:save")}):null]}),e[5]=u?.versions?.drafts,e[6]=i,e[7]=l,e[8]=a,e[9]=r,e[10]=m,e[11]=f):f=e[11],f}import{c as cG}from"react/compiler-runtime";import{jsx as uG}from"react/jsx-runtime";import"react";var Uu="bulk-upload--discard-without-saving";function WD(){let t=cG(9),{t:e}=N(),{closeModal:o}=ae(),{drawerSlug:n}=Qo(),r;t[0]!==o?(r=()=>{o(Uu)},t[0]=o,t[1]=r):r=t[1];let s=r,i;t[2]!==o||t[3]!==n?(i=()=>{o(n),o(Uu)},t[2]=o,t[3]=n,t[4]=i):i=t[4];let l=i,a;return t[5]!==s||t[6]!==l||t[7]!==e?(a=uG(et,{body:e("general:changesNotSaved"),cancelLabel:e("general:stayOnThisPage"),confirmLabel:e("general:leaveAnyway"),heading:e("general:leaveWithoutSaving"),modalSlug:Uu,onCancel:s,onConfirm:l}),t[5]=s,t[6]=l,t[7]=e,t[8]=a):a=t[8],a}import{jsx as ii,jsxs as Iz}from"react/jsx-runtime";import id,{useCallback as LT,useEffect as $T}from"react";import{c as dG}from"react/compiler-runtime";import{jsx as mG}from"react/jsx-runtime";import{createContext as fG,use as pG,useState as hG}from"react";var HD=fG({mostRecentUpdate:null,reportUpdate:t=>null}),Vv=t=>{let e=dG(3),{children:o}=t,[n,r]=hG(null),s;return e[0]!==o||e[1]!==n?(s=mG(HD,{value:{mostRecentUpdate:n,reportUpdate:r},children:o}),e[0]=o,e[1]=n,e[2]=s):s=e[2],s},ps=()=>pG(HD);import{jsx as hs,jsxs as JD}from"react/jsx-runtime";import{fieldIsSidebar as CG}from"payload/shared";import{useMemo as yG}from"react";import{jsx as ZD,jsxs as gG}from"react/jsx-runtime";import{getTranslation as bG}from"@payloadcms/translations";import"react";import{jsx as UD}from"react/jsx-runtime";import"react";function XD({className:t}){return UD("svg",{className:[t,"icon icon--trash"].filter(Boolean).join(" "),fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:UD("path",{d:"M4.1499 6.1H15.8499M14.5499 6.1V15.2C14.5499 15.85 13.8999 16.5 13.2499 16.5H6.7499C6.0999 16.5 5.4499 15.85 5.4499 15.2V6.1M7.3999 6.1V4.8C7.3999 4.15 8.0499 3.5 8.6999 3.5H11.2999C11.9499 3.5 12.5999 4.15 12.5999 4.8V6.1M8.6999 9.35V13.25M11.2999 9.35V13.25",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})})}var vG="trash-banner",YD=()=>{let{getEntityConfig:t}=W(),{collectionSlug:e}=De(),o=t({collectionSlug:e}),{labels:n}=o,{i18n:r}=N();return gG("div",{className:vG,children:[ZD(XD,{}),ZD("p",{children:r.t("general:documentIsTrashed",{label:`${bG(n?.singular,r)}`})})]})};var Zr="document-fields",Xu=({AfterFields:t,BeforeFields:e,Description:o,docPermissions:n,fields:r,forceSidebarWrap:s,isTrashed:i=!1,readOnly:l,schemaPathSegments:a})=>{let{hasSidebarFields:c,mainFields:u,sidebarFields:d}=yG(()=>r.reduce((m,f)=>(CG(f)?(m.sidebarFields.push(f),m.mainFields.push(null),m.hasSidebarFields=!0):(m.mainFields.push(f),m.sidebarFields.push(null)),m),{hasSidebarFields:!1,mainFields:[],sidebarFields:[]}),[r]);return JD("div",{className:[Zr,c?`${Zr}--has-sidebar`:`${Zr}--no-sidebar`,s&&`${Zr}--force-sidebar-wrap`].filter(Boolean).join(" "),children:[hs("div",{className:`${Zr}__main`,children:JD(_o,{className:`${Zr}__edit`,children:[i&&hs(YD,{}),o?hs("header",{className:`${Zr}__header`,children:hs("div",{className:`${Zr}__sub-header`,children:o})}):null,e,hs(jo,{className:`${Zr}__fields`,fields:u,forceRender:!0,parentIndexPath:"",parentPath:"",parentSchemaPath:a.join("."),permissions:n?.fields,readOnly:l}),t]})}),c?hs("div",{className:`${Zr}__sidebar-wrap`,children:hs("div",{className:`${Zr}__sidebar`,children:hs("div",{className:`${Zr}__sidebar-fields`,children:hs(jo,{fields:d,forceRender:!0,parentIndexPath:"",parentPath:"",parentSchemaPath:a.join("."),permissions:n?.fields,readOnly:l})})})}):null]})};import{c as mT}from"react/compiler-runtime";import{jsx as Mp,jsxs as nz,Fragment as sz}from"react/jsx-runtime";import{getTranslation as iz}from"@payloadcms/translations";import dT,{useId as az}from"react";import{jsx as qD}from"react/jsx-runtime";import"react";function Zu({className:t}){return qD("svg",{className:[t,"icon icon--folder"].filter(Boolean).join(" "),fill:"none",height:"16",viewBox:"0 0 16 16",width:"16",xmlns:"http://www.w3.org/2000/svg",children:qD("path",{d:"M13.3333 13.3333C13.6869 13.3333 14.026 13.1929 14.2761 12.9428C14.5261 12.6928 14.6666 12.3536 14.6666 12V5.33333C14.6666 4.97971 14.5261 4.64057 14.2761 4.39052C14.026 4.14048 13.6869 4 13.3333 4H8.06659C7.84359 4.00219 7.62362 3.94841 7.42679 3.84359C7.22996 3.73877 7.06256 3.58625 6.93992 3.4L6.39992 2.6C6.27851 2.41565 6.11323 2.26432 5.91892 2.1596C5.7246 2.05488 5.50732 2.00004 5.28659 2H2.66659C2.31296 2 1.97382 2.14048 1.72378 2.39052C1.47373 2.64057 1.33325 2.97971 1.33325 3.33333V12C1.33325 12.3536 1.47373 12.6928 1.72378 12.9428C1.97382 13.1929 2.31296 13.3333 2.66659 13.3333H13.3333Z",fill:"currentColor"})})}import{c as Xv}from"react/compiler-runtime";import{jsx as At,jsxs as Bp,Fragment as HG}from"react/jsx-runtime";import{getTranslation as Uv}from"@payloadcms/translations";import{extractID as UG}from"payload/shared";import Yr from"react";import{jsx as xG}from"react/jsx-runtime";import{useRouter as wG,useSearchParams as SG}from"next/navigation.js";import{extractID as KD,formatAdminURL as eT,formatFolderOrDocumentItem as IG}from"payload/shared";import*as Ep from"qs-esm";import _t from"react";function QD(t){return t.reduce((e,o)=>(e[o.relationTo]||(e[o.relationTo]=[]),e[o.relationTo].push(o.value.id),e),{})}var tT=_t.createContext({activeCollectionFolderSlugs:[],allCollectionFolderSlugs:[],allowCreateCollectionSlugs:[],breadcrumbs:[],checkIfItemIsDisabled:()=>!1,clearSelections:()=>{},currentFolder:null,documents:[],dragOverlayItem:void 0,focusedRowIndex:-1,folderCollectionConfig:null,folderCollectionSlug:"",folderFieldName:"folder",folderID:void 0,FolderResultsComponent:null,folderType:void 0,getFolderRoute:()=>"",getSelectedItems:()=>[],isDragging:!1,itemKeysToMove:void 0,moveToFolder:()=>Promise.resolve(void 0),onItemClick:()=>{},onItemKeyPress:()=>{},refineFolderData:()=>{},search:"",selectedFolderCollections:void 0,selectedItemKeys:new Set,setBreadcrumbs:()=>{},setFocusedRowIndex:()=>-1,setIsDragging:()=>!1,sort:"name",subfolders:[]});function ra({activeCollectionFolderSlugs:t,allCollectionFolderSlugs:e=[],allowCreateCollectionSlugs:o,allowMultiSelection:n=!0,baseFolderPath:r,breadcrumbs:s=[],children:i,documents:l,folderFieldName:a,folderID:c,FolderResultsComponent:u,onItemClick:d,search:m,sort:f="name",subfolders:h}){let p=Mt(),{config:g}=W(),{routes:b,serverURL:C}=g,v=Mr(),{t:y}=N(),x=wG(),{startRouteTransition:w}=qe(),S=_t.useRef(new Set),[T,I]=_t.useState([]),[R,F]=_t.useState(u||(()=>null)),[_]=_t.useState(()=>g.collections.find(H=>g.folders&&H.slug===g.folders.slug)),D=_.slug,A=SG(),L=_t.useMemo(()=>Ht(A),[A]),[E,k]=_t.useState(L),[B,$]=_t.useState(!1),[P,M]=_t.useState(()=>new Set),[j,O]=_t.useState(-1),[G,V]=_t.useState(),[z,X]=_t.useState(s),Q=_t.useRef(null),U=h.length+l.length,ee=_t.useCallback(()=>{O(-1),M(new Set),V(void 0),S.current=new Set},[]),J=_t.useCallback((H={})=>{let q="page"in H?H.page:E?.page;return"search"in H&&(q="1"),{...E,...H,page:q,relationTo:"relationTo"in H?H.relationTo:E?.relationTo,search:"search"in H?H.search:E?.search,sort:"sort"in H?H.sort:E?.sort??void 0}},[E]),re=_t.useCallback(({query:H,updateURL:q})=>{if(q){let ne=J(H);w(()=>x.replace(`${Ep.stringify({...ne,relationTo:JSON.stringify(ne.relationTo)},{addQueryPrefix:!0})}`)),k(ne)}},[J,x,w]),ie=_t.useCallback(H=>{let q=J({page:"1",search:""});return eT({adminRoute:g.routes.admin,path:`${r}${H?`/${H}`:""}${Ep.stringify(q,{addQueryPrefix:!0})}`,serverURL:g.serverURL})},[r,g.routes.admin,g.serverURL,J]),le=_t.useCallback(H=>[...h,...l].find(q=>q.itemKey===H),[l,h]),Z=_t.useCallback(()=>Array.from(P).reduce((H,q)=>{let ne=le(q);return ne&&H.push(ne),H},[]),[P,le]),pe=_t.useCallback(({collectionSlug:H,docID:q})=>{v===1?H===D?w(()=>{x.push(ie(q)),ee()}):H&&w(()=>{x.push(eT({adminRoute:g.routes.admin,path:`/collections/${H}/${q}`})),ee()}):ee(),typeof d=="function"&&d(le(`${H}-${q}`))},[ee,g.routes.admin,v,D,ie,le,d,x,w]),be=_t.useCallback(H=>{let ne=[...h,...l].reduce((Oe,ke,He)=>(P.has(ke.itemKey)&&Oe.push(He),Oe),[]);if(ne.length===0)return[H];let te=Math.min(...ne),ce=Math.max(...ne),he=H>=te&&H<=ce,$e=H;if(he)if(H===te||H===ce)$e=H;else{let Oe=Math.abs(H-te),ke=Math.abs(H-ce);$e=Oe>=ke?te:ce}else{let Oe=Math.abs(H-te),ke=Math.abs(H-ce);$e=Oe<=ke?te:ce}let me=Math.min($e,H),ye=Math.max($e,H),Be=Array.from({length:ye-me+1},(Oe,ke)=>me+ke);return he?Be:[...new Set([...ne,...Be])]},[h,l,P]),Ae=_t.useCallback(({indexes:H})=>{let q=[...h,...l],{newSelectedFolderCollections:ne,newSelectedItemKeys:te}=q.reduce((ce,he,$e)=>(H.includes($e)&&(ce.newSelectedItemKeys.add(he.itemKey),he.relationTo===D?he.value.folderType?.forEach(me=>{ce.newSelectedFolderCollections.includes(me)||ce.newSelectedFolderCollections.push(me)}):ce.newSelectedFolderCollections.includes(he.relationTo)||ce.newSelectedFolderCollections.push(he.relationTo)),ce),{newSelectedFolderCollections:[],newSelectedItemKeys:new Set});I(ne),M(te)},[l,D,h]),ge=_t.useCallback(({event:H,item:q})=>{let{code:ne,ctrlKey:te,metaKey:ce,shiftKey:he}=H,$e=he,me=te||ce,ye=P.has(q.itemKey),Be=[...h,...l],Oe=Be.findIndex(ke=>ke.itemKey===q.itemKey);switch(ne){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":{if(H.preventDefault(),Oe===-1)break;let He=ne==="ArrowLeft"||ne==="ArrowUp"?Oe-1:Oe+1;if(He<0||He>U-1)return;if(O(He),me)break;if($e&&n){let at=be(He);Ae({indexes:at});return}if(!$e){let at=Be[He];M(new Set([at.itemKey]))}break}case"Enter":{if(P.size===1){O(void 0),pe({collectionSlug:q.relationTo,docID:KD(q.value)});return}break}case"Escape":{ee();break}case"KeyA":{n&&me&&(H.preventDefault(),O(U-1),Ae({indexes:Array.from({length:U},(ke,He)=>He)}));break}case"Space":{if(n&&$e){H.preventDefault();let ke=[...h,...l];Ae({indexes:ke.reduce((He,at,ht)=>{if(at.itemKey===q.itemKey){if(ye)return He;He.push(ht)}else P.has(at.itemKey)&&He.push(ht);return He},[])})}else H.preventDefault(),Ae({indexes:ye?[]:[Oe]});break}case"Tab":{if(n&&$e){let ke=Oe-1;ke<0&&P?.size>0&&O(ke)}else Oe+1===U&&P.size>0&&O(U-1);break}}},[P,h,l,n,be,Ae,pe,ee,U]),Te=_t.useCallback(({event:H,item:q})=>{let ne=!1,te=H.ctrlKey||H.metaKey,ce=H.shiftKey,he=P.has(q.itemKey),$e=[...h,...l],me=$e.findIndex(ye=>ye.itemKey===q.itemKey);if(n&&te){H.preventDefault();let ye,Be=$e.reduce((Oe,ke,He)=>{if(ke.itemKey===q.itemKey){if(he&&H.type!=="pointermove")return Oe;Oe.push(He),ye=ke.itemKey}else P.has(ke.itemKey)&&Oe.push(He);return Oe},[]);Ae({indexes:Be}),ye&&V(le(ye))}else if(n&&ce){if(me!==-1){let ye=be(me);Ae({indexes:ye})}}else if(n&&H.type==="pointermove")he||Ae({indexes:$e.reduce((ye,Be,Oe)=>(Be.itemKey===q.itemKey&&ye.push(Oe),ye),[])}),V(le(q.itemKey));else{let ye=Date.now();ne=ye-Q.current<400&&G?.itemKey===q.itemKey,Q.current=ye,ne||Ae({indexes:he&&P.size===1?[]:[me]}),V(le(q.itemKey))}ne&&pe({collectionSlug:q.relationTo,docID:KD(q.value)})},[P,h,l,n,G,le,Ae,pe,be]),Y=_t.useCallback(async H=>{let{itemsToMove:q,toFolderID:ne}=H;if(!q.length)return;if(q.length===1&&q[0].relationTo===D&&q[0].value.id===c)(await fetch(`${C}${b.api}/${D}/${c}?depth=0`,{body:JSON.stringify({[a]:ne||null}),credentials:"include",headers:{"content-type":"application/json"},method:"PATCH"})).status!==200&&K.error(y("general:error"));else for(let[ce,he]of Object.entries(QD(q))){let $e=Ep.stringify({depth:0,limit:0,where:{id:{in:he}}},{addQueryPrefix:!0});try{await fetch(`${C}${b.api}/${ce}${$e}`,{body:JSON.stringify({[a]:ne||null}),credentials:"include",headers:{"content-type":"application/json"},method:"PATCH"})}catch(me){K.error(y("general:error")),console.error(me);continue}}ee()},[c,ee,D,a,b.api,C,y]),de=_t.useCallback(H=>{function q({item:ne,selectedFolderCollections:te}){return!ne.value.folderType||Array.isArray(ne.value.folderType)&&ne.value.folderType.length===0?!1:te.length===0?!!(ne.value.folderType||ne.value.folderType.length>0):te.some(ce=>!ne.value.folderType.includes(ce))}if(B)return P.has(H.itemKey)?!0:H.relationTo===D?q({item:H,selectedFolderCollections:T}):!0;if(p?.selectedItemKeys?.size)return p.selectedItemKeys.has(H.itemKey)?!0:H.relationTo===D?q({item:H,selectedFolderCollections:p.selectedFolderCollections}):!0},[T,B,P,D,p?.selectedFolderCollections,p?.selectedItemKeys]);return _t.useEffect(()=>{u&&F(u)},[u]),xG(tT,{value:{activeCollectionFolderSlugs:t||e,allCollectionFolderSlugs:e,allowCreateCollectionSlugs:o,breadcrumbs:z,checkIfItemIsDisabled:de,clearSelections:ee,currentFolder:z?.[z.length-1]?.id!==void 0?IG({folderFieldName:a,isUpload:!1,relationTo:D,useAsTitle:_.admin.useAsTitle,value:z[z.length-1]}):null,documents:l,dragOverlayItem:G,focusedRowIndex:j,folderCollectionConfig:_,folderCollectionSlug:D,folderFieldName:a,folderID:c,FolderResultsComponent:R,folderType:z?.[z.length-1]?.folderType,getFolderRoute:ie,getSelectedItems:Z,isDragging:B,itemKeysToMove:p.selectedItemKeys,moveToFolder:Y,onItemClick:Te,onItemKeyPress:ge,refineFolderData:re,search:m,selectedFolderCollections:T,selectedItemKeys:P,setBreadcrumbs:X,setFocusedRowIndex:O,setIsDragging:$,sort:f,subfolders:h},children:i})}function Mt(){let t=_t.use(tT);if(t===void 0)throw new Error("useFolder must be used within a FolderProvider");return t}import{c as _G}from"react/compiler-runtime";import{jsx as DG}from"react/jsx-runtime";import{usePathname as TG,useRouter as FG}from"next/navigation.js";import{createContext as RG,use as AG,useEffect as PG}from"react";var oT=RG({cachingEnabled:!0,clearRouteCache:()=>{}}),Gv=t=>{let e=_G(13),{cachingEnabled:o,children:n}=t,r=o===void 0?!0:o,s=TG(),i=FG(),l;e[0]!==i?(l=()=>{i.refresh()},e[0]=i,e[1]=l):l=e[1];let a=l,c;e[2]!==r||e[3]!==a?(c=()=>{r&&a()},e[2]=r,e[3]=a,e[4]=c):c=e[4];let u;e[5]!==r||e[6]!==a||e[7]!==s?(u=[s,a,r],e[5]=r,e[6]=a,e[7]=s,e[8]=u):u=e[8],PG(c,u);let d;return e[9]!==r||e[10]!==n||e[11]!==a?(d=DG(oT,{value:{cachingEnabled:r,clearRouteCache:a},children:n}),e[9]=r,e[10]=n,e[11]=a,e[12]=d):d=e[12],d},kt=()=>AG(oT);import{c as NG}from"react/compiler-runtime";import{jsx as Np,jsxs as nT}from"react/jsx-runtime";import"react";import{jsx as rT}from"react/jsx-runtime";import"react";var EG="form-submit",Rr=t=>{let{type:e="submit",buttonId:o,children:n,disabled:r,onClick:s,programmaticSubmit:i,ref:l}=t,a=kr(),c=Ig(),u=vi(),{disabled:d,submit:m}=Ve();return rT("div",{className:EG,children:rT(oe,{ref:l,...t,disabled:!(r||u||a||c||d)?void 0:!0,id:o,onClick:s??(i?()=>{m()}:void 0),type:e,children:n})})};var Lp="drawer-action-header",sT=t=>{let e=NG(16),{cancelLabel:o,className:n,onCancel:r,onSave:s,saveLabel:i,title:l}=t,{t:a}=N(),c;e[0]!==n?(c=[Lp,n].filter(Boolean),e[0]=n,e[1]=c):c=e[1];let u=c.join(" "),d;if(e[2]!==o||e[3]!==r||e[4]!==s||e[5]!==i||e[6]!==a||e[7]!==u||e[8]!==l){let m;e[10]!==o||e[11]!==a?(m=o||a("general:cancel"),e[10]=o,e[11]=a,e[12]=m):m=e[12];let f;e[13]!==i||e[14]!==a?(f=i||a("general:applyChanges"),e[13]=i,e[14]=a,e[15]=f):f=e[15],d=Np("div",{className:u,children:nT("div",{className:`${Lp}__content`,children:[Np("h1",{className:`${Lp}__title`,children:l}),nT("div",{className:`${Lp}__actions`,children:[Np(oe,{"aria-label":a("general:cancel"),buttonStyle:"secondary",onClick:r,children:m}),Np(Rr,{"aria-label":a("general:applyChanges"),onClick:s,children:f})]})]})}),e[2]=o,e[3]=r,e[4]=s,e[5]=i,e[6]=a,e[7]=u,e[8]=l,e[9]=d}else d=e[9];return d};import{jsx as LG}from"react/jsx-runtime";import"react";var $G="drawer-content-container";function zv({children:t,className:e}){return LG("div",{className:[$G,e].filter(Boolean).join(" "),children:t})}import{c as kG}from"react/compiler-runtime";import{jsx as na,jsxs as jG}from"react/jsx-runtime";import{getTranslation as BG}from"@payloadcms/translations";import Wv from"react";var Hv="create-new-doc-in-folder";function yn(t){let e=kG(29),{buttonLabel:o,collectionSlugs:n,folderAssignedCollections:r,onCreateSuccess:s,slugPrefix:i}=t,l=`${i}-new-doc-in-folder-drawer`,{i18n:a}=N(),{closeModal:c,openModal:u}=ae(),{config:d}=W(),{folderCollectionConfig:m,folderCollectionSlug:f,folderFieldName:h,folderID:p}=Mt(),g;e[0]!==f?(g={collectionSlug:f},e[0]=f,e[1]=g):g=e[1];let[b,,C]=St(g),{closeDrawer:v,openDrawer:y}=C,[x,w]=Wv.useState(),S;e[2]!==n||e[3]!==d?(S=()=>n.reduce((R,F)=>{let _=d.collections.find(D=>{let{slug:A}=D;return A===F});return _&&R.push(_),R},[]),e[2]=n,e[3]=d,e[4]=S):S=e[4];let[T]=Wv.useState(S);if(T.length===0)return null;let I;if(e[5]!==b||e[6]!==o||e[7]!==v||e[8]!==c||e[9]!==n||e[10]!==x||e[11]!==T||e[12]!==r||e[13]!==m.slug||e[14]!==h||e[15]!==p||e[16]!==a||e[17]!==l||e[18]!==s||e[19]!==y||e[20]!==u){let R;e[22]!==c||e[23]!==x||e[24]!==h||e[25]!==p||e[26]!==l||e[27]!==s?(R=x&&na(Hb,{collectionSlug:x,drawerSlug:l,initialData:{[h]:p},onSave:async F=>{let{doc:_}=F;await s({collectionSlug:x,doc:_}),c(l)},redirectAfterCreate:!1}),e[22]=c,e[23]=x,e[24]=h,e[25]=p,e[26]=l,e[27]=s,e[28]=R):R=e[28],I=jG(Wv.Fragment,{children:[T.length===1?na(oe,{buttonStyle:"pill",className:`${Hv}__button`,el:"div",onClick:()=>{T[0].slug===m.slug?y():(w(T[0].slug),u(l))},size:"small",children:o}):na(lt,{button:na(oe,{buttonStyle:"pill",className:`${Hv}__popup-button`,el:"div",icon:"chevron",size:"small",children:o}),buttonType:"default",className:`${Hv}__action-popup`,children:na(ve.ButtonGroup,{children:T.map((F,_)=>na(ve.Button,{onClick:()=>{F.slug===m.slug?y():(w(F.slug),u(l))},children:BG(F.labels.singular,a)},_))})}),R,n.includes(m.slug)&&na(b,{initialData:{[h]:p,folderType:x?r||[x]:r},onSave:async F=>{await s({collectionSlug:m.slug,doc:F.doc}),v()},redirectAfterCreate:!1})]}),e[5]=b,e[6]=o,e[7]=v,e[8]=c,e[9]=n,e[10]=x,e[11]=T,e[12]=r,e[13]=m.slug,e[14]=h,e[15]=p,e[16]=a,e[17]=l,e[18]=s,e[19]=y,e[20]=u,e[21]=I}else I=e[21];return I}import{jsx as iT,jsxs as MG}from"react/jsx-runtime";import OG from"react";var aT="no-results";function Al({Actions:t,Message:e}){return MG("div",{className:aT,children:[e,t&&t.length>0&&iT("div",{className:`${aT}__actions`,children:t.map((o,n)=>iT(OG.Fragment,{children:o},n))})]})}import{jsx as $p}from"react/jsx-runtime";import"react";var lT=({elements:t,translationString:e})=>{let o=/(<[^>]+>.*?<\/[^>]+>)/g,n=e.split(o);return $p("span",{children:n.map((r,s)=>{if(t&&r.startsWith("<")&&r.endsWith(">")){let i=r[1],l=t[i];if(l){let a=new RegExp(`<${i}>(.*?)</${i}>`,"g"),c=r.replace(a,(u,d)=>d);return $p(l,{children:$p(lT,{translationString:c})},s)}}return r})})},eo=({elements:t,i18nKey:e,t:o,variables:n})=>{let r=o(e,n||{});return t?$p(lT,{elements:t,translationString:r}):r};import{c as VG}from"react/compiler-runtime";import{jsx as jp,jsxs as GG}from"react/jsx-runtime";import{useDroppable as zG}from"@dnd-kit/core";import"react";var kp="folderBreadcrumbs";function cT({breadcrumbs:t,className:e}){return jp("div",{className:`${kp} ${e||""}`.trim(),children:t?.map((o,n)=>GG("div",{className:`${kp}__crumb`,children:[o.onClick?jp(sa,{className:`${kp}__crumb-item`,id:o.id,onClick:o.onClick,children:o.name}):o.name,t.length>0&&n!==t.length-1&&jp(We,{className:`${kp}__crumb-chevron`,direction:"right"})]},n))})}function sa(t){let e=VG(13),{id:o,children:n,className:r,onClick:s}=t,i=`folder-${o}`,l;e[0]!==o?(l={id:o,type:"folder"},e[0]=o,e[1]=l):l=e[1];let a;e[2]!==i||e[3]!==l?(a={id:i,data:l},e[2]=i,e[3]=l,e[4]=a):a=e[4];let{isOver:c,setNodeRef:u}=zG(a),d=c&&"droppable-button--hover",m;e[5]!==r||e[6]!==d?(m=["droppable-button",r,d].filter(Boolean),e[5]=r,e[6]=d,e[7]=m):m=e[7];let f=m.join(" "),h;return e[8]!==n||e[9]!==s||e[10]!==u||e[11]!==f?(h=jp("button",{className:f,onClick:s,ref:u,type:"button",children:n}),e[8]=n,e[9]=s,e[10]=u,e[11]=f,e[12]=h):h=e[12],h}import{jsx as WG}from"react/jsx-runtime";function ur(){return WG(Zu,{className:"colored-folder-icon"})}var Yu="move-folder-drawer",XG="move-folder-drawer",uT=`${XG}-confirm-move`;function Pl(t){return At(Bt,{gutter:!1,Header:null,slug:t.drawerSlug,children:At(ZG,{...t})})}function ZG(t){let{permissions:e}=Ie(),[o,n]=Yr.useState([]),[r,s]=Yr.useState([]),[i,l]=Yr.useState([]),[a,c]=Yr.useState(null),[u,d]=Yr.useState(!1),[m,f]=Yr.useState(t.fromFolderID||null),h=Yr.useRef(!1),{getFolderResultsComponentAndData:p}=$t(),g=Yr.useCallback(async b=>{try{let C=await p({browseByFolder:!1,collectionsToDisplay:[t.folderCollectionSlug],displayAs:"grid",folderAssignedCollections:t.folderAssignedCollections,folderID:b,sort:"name"});l(C.breadcrumbs||[]),n(C?.subfolders||[]),s(C?.documents||[]),c(C.FolderResultsComponent||null),f(b),d(!0)}catch{l([]),n([]),s([])}h.current=!0},[p,t.folderAssignedCollections,t.folderCollectionSlug]);return Yr.useEffect(()=>{h.current||g(t.fromFolderID)},[g,t.fromFolderID]),u?At(ra,{allCollectionFolderSlugs:[t.folderCollectionSlug],allowCreateCollectionSlugs:e.collections[t.folderCollectionSlug]?.create?[t.folderCollectionSlug]:[],allowMultiSelection:!1,breadcrumbs:i,documents:r,folderFieldName:t.folderFieldName,folderID:m,FolderResultsComponent:a,onItemClick:async b=>{await g(b.value.id)},subfolders:o,children:At(YG,{...t,populateMoveToFolderDrawer:g})},m):At(hn,{})}function YG(t){let e=Xv(79),o,n,r,s,i,l,a,c;e[0]!==t?({drawerSlug:o,fromFolderID:n,fromFolderName:r,itemsToMove:s,onConfirm:i,populateMoveToFolderDrawer:l,skipConfirmModal:c,...a}=t,e[0]=t,e[1]=o,e[2]=n,e[3]=r,e[4]=s,e[5]=i,e[6]=l,e[7]=a,e[8]=c):(o=e[1],n=e[2],r=e[3],s=e[4],i=e[5],l=e[6],a=e[7],c=e[8]);let{clearRouteCache:u}=kt(),{closeModal:d,isModalOpen:m,openModal:f}=ae(),h;e[9]!==s?(h=()=>s.length,e[9]=s,e[10]=h):h=e[10];let[p]=Yr.useState(h),[g,b]=Yr.useState(!1),{i18n:C,t:v}=N(),{breadcrumbs:y,folderCollectionConfig:x,folderCollectionSlug:w,folderFieldName:S,folderID:T,FolderResultsComponent:I,folderType:R,getSelectedItems:F,subfolders:_}=Mt(),D;e[11]!==w?(D={collectionSlug:w},e[11]=w,e[12]=D):D=e[12];let[A,,L]=St(D),{closeDrawer:E,openDrawer:k}=L,B;e[13]!==y||e[14]!==F?(B=()=>{let U=F();if(U.length===0){let ee=y?.[y.length-1];return{id:ee?.id||null,name:ee?.name||null}}else return{id:U[0].value.id,name:U[0].value._folderOrDocumentTitle}},e[13]=y,e[14]=F,e[15]=B):B=e[15];let $=B,P;e[16]!==w||e[17]!==T||e[18]!==n||e[19]!==l?(P=async U=>{let{collectionSlug:ee,doc:J}=U;await l(T),ee===w&&(J?.folder&&n===UG(J?.folder)||!n&&!J?.folder)&&b(!0)},e[16]=w,e[17]=T,e[18]=n,e[19]=l,e[20]=P):P=e[20];let M=P,j;e[21]!==$||e[22]!==i?(j=()=>{typeof i=="function"&&i($())},e[21]=$,e[22]=i,e[23]=j):j=e[23];let O=j,G,V;e[24]!==u||e[25]!==o||e[26]!==g||e[27]!==m?(G=()=>{!m(o)&&g&&(b(!1),u())},V=[o,m,u,g],e[24]=u,e[25]=o,e[26]=g,e[27]=m,e[28]=G,e[29]=V):(G=e[28],V=e[29]),Yr.useEffect(G,V);let z;e[30]!==d||e[31]!==o?(z=()=>{d(o)},e[30]=d,e[31]=o,e[32]=z):z=e[32];let X;e[33]!==O||e[34]!==f||e[35]!==c?(X=()=>{c?O():f(uT)},e[33]=O,e[34]=f,e[35]=c,e[36]=X):X=e[36];let Q;if(e[37]!==A||e[38]!==I||e[39]!==y||e[40]!==E||e[41]!==p||e[42]!==x||e[43]!==w||e[44]!==S||e[45]!==T||e[46]!==R||e[47]!==n||e[48]!==r||e[49]!==$||e[50]!==C||e[51]!==O||e[52]!==M||e[53]!==k||e[54]!==l||e[55]!==a.action||e[56]!==a.folderAssignedCollections||e[57]!==a.title||e[58]!==c||e[59]!==_.length||e[60]!==v||e[61]!==X||e[62]!==z){let U;e[64]!==y.length||e[65]!==l?(U=y.length?()=>{l(null)}:void 0,e[64]=y.length,e[65]=l,e[66]=U):U=e[66];let ee;e[67]!==y.length||e[68]!==l?(ee=(re,ie)=>({id:re.id,name:re.name,onClick:ie!==y.length-1?()=>{l(re.id)}:void 0}),e[67]=y.length,e[68]=l,e[69]=ee):ee=e[69];let J;e[70]!==I||e[71]!==x||e[72]!==w||e[73]!==C||e[74]!==M||e[75]!==a.folderAssignedCollections||e[76]!==_.length||e[77]!==v?(J=_.length>0?I:At(Al,{Actions:[At(yn,{buttonLabel:`${v("general:create")} ${Uv(x.labels?.singular,C).toLowerCase()}`,collectionSlugs:[w],folderAssignedCollections:a.folderAssignedCollections,onCreateSuccess:M,slugPrefix:"create-new-folder-from-drawer--no-results"},"create-folder")],Message:At("p",{children:C.t("general:noResults",{label:`${Uv(x.labels?.plural,C)}`})})}),e[70]=I,e[71]=x,e[72]=w,e[73]=C,e[74]=M,e[75]=a.folderAssignedCollections,e[76]=_.length,e[77]=v,e[78]=J):J=e[78],Q=Bp("div",{className:Yu,children:[At(sT,{onCancel:z,onSave:X,saveLabel:v("general:select"),title:At(JG,{action:a.action,count:p,fromFolderName:n?r:void 0,title:a.action==="moveItemToFolder"?a.title:void 0})}),Bp("div",{className:`${Yu}__breadcrumbs-section`,children:[At(cT,{breadcrumbs:[{id:null,name:Bp("span",{className:`${Yu}__folder-breadcrumbs-root`,children:[At(ur,{}),v("folder:folders")]}),onClick:U},...y.map(ee)]}),_.length>0&&Bp(HG,{children:[At(oe,{buttonStyle:"pill",className:`${Yu}__add-folder-button`,margin:!1,onClick:()=>{k()},children:v("fields:addLabel",{label:Uv(x.labels?.singular,C)})}),At(A,{initialData:{[S]:T,folderType:R},onSave:re=>{M({collectionSlug:x.slug,doc:re.doc}),E()},redirectAfterCreate:!1})]})]}),At(zv,{className:`${Yu}__body-section`,children:J}),!c&&At(et,{body:At(qG,{action:a.action,count:p,fromFolderName:r,title:a.action==="moveItemToFolder"?a.title:void 0,toFolderName:$().name}),confirmingLabel:v("general:moving"),confirmLabel:v("general:move"),heading:v("general:confirmMove"),modalSlug:uT,onConfirm:O})]}),e[37]=A,e[38]=I,e[39]=y,e[40]=E,e[41]=p,e[42]=x,e[43]=w,e[44]=S,e[45]=T,e[46]=R,e[47]=n,e[48]=r,e[49]=$,e[50]=C,e[51]=O,e[52]=M,e[53]=k,e[54]=l,e[55]=a.action,e[56]=a.folderAssignedCollections,e[57]=a.title,e[58]=c,e[59]=_.length,e[60]=v,e[61]=X,e[62]=z,e[63]=Q}else Q=e[63];return Q}function JG(t){let e=Xv(14),{t:o}=N();switch(t.action){case"moveItemToFolder":if(t.fromFolderName){let n;return e[0]!==t.fromFolderName||e[1]!==t.title||e[2]!==o?(n=o("folder:movingFromFolder",{fromFolder:t.fromFolderName,title:t.title}),e[0]=t.fromFolderName,e[1]=t.title,e[2]=o,e[3]=n):n=e[3],n}else{let n;return e[4]!==t.title||e[5]!==o?(n=o("folder:selectFolderForItem",{title:t.title}),e[4]=t.title,e[5]=o,e[6]=n):n=e[6],n}case"moveItemsToFolder":if(t.fromFolderName){let n=`${t.count} ${t.count>1?o("general:items"):o("general:item")}`,r;return e[7]!==t.fromFolderName||e[8]!==o||e[9]!==n?(r=o("folder:movingFromFolder",{fromFolder:t.fromFolderName,title:n}),e[7]=t.fromFolderName,e[8]=o,e[9]=n,e[10]=r):r=e[10],r}else{let n=`${t.count} ${t.count>1?o("general:items"):o("general:item")}`,r;return e[11]!==o||e[12]!==n?(r=o("folder:selectFolderForItem",{title:n}),e[11]=o,e[12]=n,e[13]=r):r=e[13],r}}}function qG(t){let e=Xv(14),{t:o}=N();switch(t.action){case"moveItemToFolder":if(t.toFolderName){let n;return e[0]!==t.title||e[1]!==t.toFolderName||e[2]!==o?(n=At(eo,{elements:{1:rz,2:oz},i18nKey:"folder:moveItemToFolderConfirmation",t:o,variables:{title:t.title,toFolder:t.toFolderName}}),e[0]=t.title,e[1]=t.toFolderName,e[2]=o,e[3]=n):n=e[3],n}else{let n;return e[4]!==t.title||e[5]!==o?(n=At(eo,{elements:{1:tz},i18nKey:"folder:moveItemToRootConfirmation",t:o,variables:{title:t.title}}),e[4]=t.title,e[5]=o,e[6]=n):n=e[6],n}case"moveItemsToFolder":if(t.toFolderName){let n;return e[7]!==t.count||e[8]!==t.toFolderName||e[9]!==o?(n=At(eo,{elements:{1:ez,2:KG},i18nKey:"folder:moveItemsToFolderConfirmation",t:o,variables:{count:t.count,label:t.count>1?o("general:items"):o("general:item"),toFolder:t.toFolderName}}),e[7]=t.count,e[8]=t.toFolderName,e[9]=o,e[10]=n):n=e[10],n}else{let n;return e[11]!==t.count||e[12]!==o?(n=At(eo,{elements:{1:QG},i18nKey:"folder:moveItemsToRootConfirmation",t:o,variables:{count:t.count,label:t.count>1?o("general:items"):o("general:item")}}),e[11]=t.count,e[12]=o,e[13]=n):n=e[13],n}}}function QG(t){let{children:e}=t;return At("strong",{children:e})}function KG(t){let{children:e}=t;return At("strong",{children:e})}function ez(t){let{children:e}=t;return At("strong",{children:e})}function tz(t){let{children:e}=t;return At("strong",{children:e})}function oz(t){let{children:e}=t;return At("strong",{children:e})}function rz(t){let{children:e}=t;return At("strong",{children:e})}var lz="move-doc-to-folder";function Ju(t){let e=mT(29),{buttonProps:o,className:n,folderCollectionSlug:r,folderFieldName:s}=t,i=n===void 0?"":n,{t:l}=N(),a=Lt(cz),c;e[0]!==s?(c=_=>{let[D]=_;return D&&D?.[s]||null},e[0]=s,e[1]=c):c=e[1];let u=Lt(c),d=u?.value,{id:m,collectionSlug:f,initialData:h,title:p}=De(),{setModified:g}=Ve(),b;e[2]!==l?(b=()=>`${l("general:loading")}...`,e[2]=l,e[3]=b):b=e[3];let[C,v]=dT.useState(b),{config:y}=W(),x=az(),w,S;e[4]!==y.routes.api||e[5]!==r||e[6]!==d||e[7]!==l?(w=()=>{(async function(){if(d&&(typeof d=="string"||typeof d=="number")){let L=await(await fetch(`${y.routes.api}/${r}/${d}`)).json();v(L?.name||l("folder:noFolder"))}else v(l("folder:noFolder"))})()},S=[r,y.routes.api,d,l],e[4]=y.routes.api,e[5]=r,e[6]=d,e[7]=l,e[8]=w,e[9]=S):(w=e[8],S=e[9]),dT.useEffect(w,S);let T=`move-to-folder-${x}`,I;e[10]!==u||e[11]!==a||e[12]!==s||e[13]!==g?(I=_=>{let{id:D}=_;u.value!==D&&(a({type:"UPDATE",path:s,value:D}),g(!0))},e[10]=u,e[11]=a,e[12]=s,e[13]=g,e[14]=I):I=e[14];let R=!u?.value,F;return e[15]!==o||e[16]!==i||e[17]!==f||e[18]!==r||e[19]!==s||e[20]!==d||e[21]!==C||e[22]!==m||e[23]!==h||e[24]!==T||e[25]!==I||e[26]!==R||e[27]!==p?(F=Mp(fT,{buttonProps:o,className:i,collectionSlug:f,docData:h,docID:m,docTitle:p,folderCollectionSlug:r,folderFieldName:s,fromFolderID:d,fromFolderName:C,modalSlug:T,onConfirm:I,skipConfirmModal:R}),e[15]=o,e[16]=i,e[17]=f,e[18]=r,e[19]=s,e[20]=d,e[21]=C,e[22]=m,e[23]=h,e[24]=T,e[25]=I,e[26]=R,e[27]=p,e[28]=F):F=e[28],F}function cz(t){let[,e]=t;return e}var fT=t=>{let e=mT(27),{buttonProps:o,className:n,collectionSlug:r,docData:s,docID:i,docTitle:l,folderCollectionSlug:a,folderFieldName:c,fromFolderID:u,fromFolderName:d,modalSlug:m,onConfirm:f,skipConfirmModal:h}=t,{getEntityConfig:p}=W(),{i18n:g,t:b}=N(),{closeModal:C,openModal:v}=ae(),y=Mr(),x;if(e[0]!==o||e[1]!==n||e[2]!==C||e[3]!==r||e[4]!==s||e[5]!==i||e[6]!==l||e[7]!==y||e[8]!==a||e[9]!==c||e[10]!==u||e[11]!==d||e[12]!==p||e[13]!==g||e[14]!==m||e[15]!==f||e[16]!==v||e[17]!==h||e[18]!==b){let w=Tc({slug:m,depth:y}),S;e[20]!==r||e[21]!==l||e[22]!==p||e[23]!==g?(S=l||iz(p({collectionSlug:r}).labels.singular,g),e[20]=r,e[21]=l,e[22]=p,e[23]=g,e[24]=S):S=e[24];let T=S,I;e[25]!==n?(I=[lz,n].filter(Boolean),e[25]=n,e[26]=I):I=e[26],x=nz(sz,{children:[Mp(oe,{buttonStyle:"subtle",className:I.join(" "),icon:Mp(Zu,{}),iconPosition:"left",onClick:()=>{v(w)},...o,children:d}),Mp(Pl,{action:"moveItemToFolder",drawerSlug:w,folderAssignedCollections:[r],folderCollectionSlug:a,folderFieldName:c,fromFolderID:u,fromFolderName:d,itemsToMove:[{itemKey:`${r}-${i}`,relationTo:r,value:{...s,id:i}}],onConfirm:async R=>{if(u!==R.id&&typeof f=="function")try{await f(R),R.id?K.success(b("folder:itemHasBeenMoved",{folderName:`"${R.name}"`,title:T})):K.success(b("folder:itemHasBeenMovedToRoot",{title:T}))}catch(F){let _=F}C(w)},skipConfirmModal:h,title:T})]}),e[0]=o,e[1]=n,e[2]=C,e[3]=r,e[4]=s,e[5]=i,e[6]=l,e[7]=y,e[8]=a,e[9]=c,e[10]=u,e[11]=d,e[12]=p,e[13]=g,e[14]=m,e[15]=f,e[16]=v,e[17]=h,e[18]=b,e[19]=x}else x=e[19];return x};import{c as PT}from"react/compiler-runtime";import{jsx as Nt,jsxs as qr}from"react/jsx-runtime";import{isImage as ET}from"payload/shared";import sd,{Fragment as xz,useCallback as od,useEffect as rd,useRef as AT,useState as nd}from"react";import{jsx as Ot,jsxs as Ko}from"react/jsx-runtime";import Gp,{useRef as $l,useState as ni}from"react";import uo,{PureComponent as uz,createRef as pT}from"react";var Op={x:0,y:0,width:0,height:0,unit:"px"},El=(t,e,o)=>Math.min(Math.max(t,e),o),dz=(...t)=>t.filter(e=>e&&typeof e=="string").join(" "),hT=(t,e)=>t===e||t.width===e.width&&t.height===e.height&&t.x===e.x&&t.y===e.y&&t.unit===e.unit;function Nl(t,e,o){return t.unit==="%"?{...Op,...t,unit:"%"}:{unit:"%",x:t.x?t.x/e*100:0,y:t.y?t.y/o*100:0,width:t.width?t.width/e*100:0,height:t.height?t.height/o*100:0}}function oi(t,e,o){return t.unit?t.unit==="px"?{...Op,...t,unit:"px"}:{unit:"px",x:t.x?t.x*e/100:0,y:t.y?t.y*o/100:0,width:t.width?t.width*e/100:0,height:t.height?t.height*o/100:0}:{...Op,...t,unit:"px"}}function gT(t,e,o,n,r,s=0,i=0,l=n,a=r){let c={...t},u=Math.min(s,n),d=Math.min(i,r),m=Math.min(l,n),f=Math.min(a,r);e&&(e>1?(u=i?i*e:u,d=u/e,m=l*e):(d=s?s/e:d,u=d*e,f=a/e)),c.y<0&&(c.height=Math.max(c.height+c.y,d),c.y=0),c.x<0&&(c.width=Math.max(c.width+c.x,u),c.x=0);let h=n-(c.x+c.width);h<0&&(c.x=Math.min(c.x,n-u),c.width+=h);let p=r-(c.y+c.height);if(p<0&&(c.y=Math.min(c.y,r-d),c.height+=p),c.width<u&&((o==="sw"||o=="nw")&&(c.x-=u-c.width),c.width=u),c.height<d&&((o==="nw"||o=="ne")&&(c.y-=d-c.height),c.height=d),c.width>m&&((o==="sw"||o=="nw")&&(c.x-=m-c.width),c.width=m),c.height>f&&((o==="nw"||o=="ne")&&(c.y-=f-c.height),c.height=f),e){let g=c.width/c.height;if(g<e){let b=Math.max(c.width/e,d);(o==="nw"||o=="ne")&&(c.y-=b-c.height),c.height=b}else if(g>e){let b=Math.max(c.height*e,u);(o==="sw"||o=="nw")&&(c.x-=b-c.width),c.width=b}}return c}function mz(t,e,o,n){let r={...t};return e==="ArrowLeft"?n==="nw"?(r.x-=o,r.y-=o,r.width+=o,r.height+=o):n==="w"?(r.x-=o,r.width+=o):n==="sw"?(r.x-=o,r.width+=o,r.height+=o):n==="ne"?(r.y+=o,r.width-=o,r.height-=o):n==="e"?r.width-=o:n==="se"&&(r.width-=o,r.height-=o):e==="ArrowRight"&&(n==="nw"?(r.x+=o,r.y+=o,r.width-=o,r.height-=o):n==="w"?(r.x+=o,r.width-=o):n==="sw"?(r.x+=o,r.width-=o,r.height-=o):n==="ne"?(r.y-=o,r.width+=o,r.height+=o):n==="e"?r.width+=o:n==="se"&&(r.width+=o,r.height+=o)),e==="ArrowUp"?n==="nw"?(r.x-=o,r.y-=o,r.width+=o,r.height+=o):n==="n"?(r.y-=o,r.height+=o):n==="ne"?(r.y-=o,r.width+=o,r.height+=o):n==="sw"?(r.x+=o,r.width-=o,r.height-=o):n==="s"?r.height-=o:n==="se"&&(r.width-=o,r.height-=o):e==="ArrowDown"&&(n==="nw"?(r.x+=o,r.y+=o,r.width-=o,r.height-=o):n==="n"?(r.y+=o,r.height-=o):n==="ne"?(r.y+=o,r.width-=o,r.height-=o):n==="sw"?(r.x-=o,r.width+=o,r.height+=o):n==="s"?r.height+=o:n==="se"&&(r.width+=o,r.height+=o)),r}var Ll={capture:!0,passive:!1},ri=class xn extends uz{constructor(){super(...arguments),this.docMoveBound=!1,this.mouseDownOnCrop=!1,this.dragStarted=!1,this.evData={startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0},this.componentRef=pT(),this.mediaRef=pT(),this.initChangeCalled=!1,this.state={cropIsActive:!1,newCropIsBeingDrawn:!1},this.onCropPointerDown=e=>{let{crop:o,disabled:n}=this.props,r=this.getBox();if(!o)return;let s=oi(o,r.width,r.height);if(n)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});let i=e.target.dataset.ord,l=!!i,a=e.clientX,c=e.clientY,u=s.x,d=s.y;if(i){let m=e.clientX-r.x,f=e.clientY-r.y,h=0,p=0;i==="ne"||i=="e"?(h=m-(s.x+s.width),p=f-s.y,u=s.x,d=s.y+s.height):i==="se"||i==="s"?(h=m-(s.x+s.width),p=f-(s.y+s.height),u=s.x,d=s.y):i==="sw"||i=="w"?(h=m-s.x,p=f-(s.y+s.height),u=s.x+s.width,d=s.y):(i==="nw"||i=="n")&&(h=m-s.x,p=f-s.y,u=s.x+s.width,d=s.y+s.height),a=u+r.x+h,c=d+r.y+p}this.evData={startClientX:a,startClientY:c,startCropX:u,startCropY:d,clientX:e.clientX,clientY:e.clientY,isResize:l,ord:i},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})},this.onComponentPointerDown=e=>{let{crop:o,disabled:n,locked:r,keepSelection:s,onChange:i}=this.props,l=this.getBox();if(n||r||s&&o)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});let a=e.clientX-l.x,c=e.clientY-l.y,u={unit:"px",x:a,y:c,width:0,height:0};this.evData={startClientX:e.clientX,startClientY:e.clientY,startCropX:a,startCropY:c,clientX:e.clientX,clientY:e.clientY,isResize:!0},this.mouseDownOnCrop=!0,i(oi(u,l.width,l.height),Nl(u,l.width,l.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})},this.onDocPointerMove=e=>{let{crop:o,disabled:n,onChange:r,onDragStart:s}=this.props,i=this.getBox();if(n||!o||!this.mouseDownOnCrop)return;e.cancelable&&e.preventDefault(),this.dragStarted||(this.dragStarted=!0,s&&s(e));let{evData:l}=this;l.clientX=e.clientX,l.clientY=e.clientY;let a;l.isResize?a=this.resizeCrop():a=this.dragCrop(),hT(o,a)||r(oi(a,i.width,i.height),Nl(a,i.width,i.height))},this.onComponentKeyDown=e=>{let{crop:o,disabled:n,onChange:r,onComplete:s}=this.props;if(n)return;let i=e.key,l=!1;if(!o)return;let a=this.getBox(),c=this.makePixelCrop(a),u=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?xn.nudgeStepLarge:e.shiftKey?xn.nudgeStepMedium:xn.nudgeStep;if(i==="ArrowLeft"?(c.x-=u,l=!0):i==="ArrowRight"?(c.x+=u,l=!0):i==="ArrowUp"?(c.y-=u,l=!0):i==="ArrowDown"&&(c.y+=u,l=!0),l){e.cancelable&&e.preventDefault(),c.x=El(c.x,0,a.width-c.width),c.y=El(c.y,0,a.height-c.height);let d=oi(c,a.width,a.height),m=Nl(c,a.width,a.height);r(d,m),s&&s(d,m)}},this.onHandlerKeyDown=(e,o)=>{let{aspect:n=0,crop:r,disabled:s,minWidth:i=0,minHeight:l=0,maxWidth:a,maxHeight:c,onChange:u,onComplete:d}=this.props,m=this.getBox();if(s||!r)return;if(e.key==="ArrowUp"||e.key==="ArrowDown"||e.key==="ArrowLeft"||e.key==="ArrowRight")e.stopPropagation(),e.preventDefault();else return;let f=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?xn.nudgeStepLarge:e.shiftKey?xn.nudgeStepMedium:xn.nudgeStep,h=oi(r,m.width,m.height),p=mz(h,e.key,f,o),g=gT(p,n,o,m.width,m.height,i,l,a,c);if(!hT(r,g)){let b=Nl(g,m.width,m.height);u(g,b),d&&d(g,b)}},this.onDocPointerDone=e=>{let{crop:o,disabled:n,onComplete:r,onDragEnd:s}=this.props,i=this.getBox();this.unbindDocMove(),!(n||!o)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,s&&s(e),r&&r(oi(o,i.width,i.height),Nl(o,i.width,i.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))},this.onDragFocus=e=>{var o;(o=this.componentRef.current)==null||o.scrollTo(0,0)}}get document(){return document}getBox(){let e=this.mediaRef.current;if(!e)return{x:0,y:0,width:0,height:0};let{x:o,y:n,width:r,height:s}=e.getBoundingClientRect();return{x:o,y:n,width:r,height:s}}componentDidUpdate(e){let{crop:o,onComplete:n}=this.props;if(n&&!e.crop&&o){let{width:r,height:s}=this.getBox();r&&s&&n(oi(o,r,s),Nl(o,r,s))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,Ll),this.document.addEventListener("pointerup",this.onDocPointerDone,Ll),this.document.addEventListener("pointercancel",this.onDocPointerDone,Ll),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,Ll),this.document.removeEventListener("pointerup",this.onDocPointerDone,Ll),this.document.removeEventListener("pointercancel",this.onDocPointerDone,Ll),this.docMoveBound=!1)}getCropStyle(){let{crop:e}=this.props;if(e)return{top:`${e.y}${e.unit}`,left:`${e.x}${e.unit}`,width:`${e.width}${e.unit}`,height:`${e.height}${e.unit}`}}dragCrop(){let{evData:e}=this,o=this.getBox(),n=this.makePixelCrop(o),r=e.clientX-e.startClientX,s=e.clientY-e.startClientY;return n.x=El(e.startCropX+r,0,o.width-n.width),n.y=El(e.startCropY+s,0,o.height-n.height),n}getPointRegion(e,o,n,r){let{evData:s}=this,i=s.clientX-e.x,l=s.clientY-e.y,a;r&&o?a=o==="nw"||o==="n"||o==="ne":a=l<s.startCropY;let c;return n&&o?c=o==="nw"||o==="w"||o==="sw":c=i<s.startCropX,c?a?"nw":"sw":a?"ne":"se"}resolveMinDimensions(e,o,n=0,r=0){let s=Math.min(n,e.width),i=Math.min(r,e.height);return!o||!s&&!i?[s,i]:o>1?s?[s,s/o]:[i*o,i]:i?[i*o,i]:[s,s/o]}resizeCrop(){let{evData:e}=this,{aspect:o=0,maxWidth:n,maxHeight:r}=this.props,s=this.getBox(),[i,l]=this.resolveMinDimensions(s,o,this.props.minWidth,this.props.minHeight),a=this.makePixelCrop(s),c=this.getPointRegion(s,e.ord,i,l),u=e.ord||c,d=e.clientX-e.startClientX,m=e.clientY-e.startClientY;(i&&u==="nw"||u==="w"||u==="sw")&&(d=Math.min(d,-i)),(l&&u==="nw"||u==="n"||u==="ne")&&(m=Math.min(m,-l));let f={unit:"px",x:0,y:0,width:0,height:0};c==="ne"?(f.x=e.startCropX,f.width=d,o?(f.height=f.width/o,f.y=e.startCropY-f.height):(f.height=Math.abs(m),f.y=e.startCropY-f.height)):c==="se"?(f.x=e.startCropX,f.y=e.startCropY,f.width=d,o?f.height=f.width/o:f.height=m):c==="sw"?(f.x=e.startCropX+d,f.y=e.startCropY,f.width=Math.abs(d),o?f.height=f.width/o:f.height=m):c==="nw"&&(f.x=e.startCropX+d,f.width=Math.abs(d),o?(f.height=f.width/o,f.y=e.startCropY-f.height):(f.height=Math.abs(m),f.y=e.startCropY+m));let h=gT(f,o,c,s.width,s.height,i,l,n,r);return o||xn.xyOrds.indexOf(u)>-1?a=h:xn.xOrds.indexOf(u)>-1?(a.x=h.x,a.width=h.width):xn.yOrds.indexOf(u)>-1&&(a.y=h.y,a.height=h.height),a.x=El(a.x,0,s.width-a.width),a.y=El(a.y,0,s.height-a.height),a}createCropSelection(){let{ariaLabels:e=xn.defaultProps.ariaLabels,disabled:o,locked:n,renderSelectionAddon:r,ruleOfThirds:s,crop:i}=this.props,l=this.getCropStyle();if(i)return uo.createElement("div",{style:l,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":e.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!o&&!n&&uo.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},uo.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),uo.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),uo.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),uo.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),uo.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":e.nwDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"nw"),role:"button"}),uo.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":e.nDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"n"),role:"button"}),uo.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":e.neDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"ne"),role:"button"}),uo.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":e.eDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"e"),role:"button"}),uo.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":e.seDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"se"),role:"button"}),uo.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":e.sDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"s"),role:"button"}),uo.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":e.swDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"sw"),role:"button"}),uo.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":e.wDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"w"),role:"button"})),r&&uo.createElement("div",{className:"ReactCrop__selection-addon",onMouseDown:a=>a.stopPropagation()},r(this.state)),s&&uo.createElement(uo.Fragment,null,uo.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),uo.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(e){let o={...Op,...this.props.crop||{}};return oi(o,e.width,e.height)}render(){let{aspect:e,children:o,circularCrop:n,className:r,crop:s,disabled:i,locked:l,style:a,ruleOfThirds:c}=this.props,{cropIsActive:u,newCropIsBeingDrawn:d}=this.state,m=s?this.createCropSelection():null,f=dz("ReactCrop",r,u&&"ReactCrop--active",i&&"ReactCrop--disabled",l&&"ReactCrop--locked",d&&"ReactCrop--new-crop",s&&e&&"ReactCrop--fixed-aspect",s&&n&&"ReactCrop--circular-crop",s&&c&&"ReactCrop--rule-of-thirds",!this.dragStarted&&s&&!s.width&&!s.height&&"ReactCrop--invisible-crop",n&&"ReactCrop--no-animate");return uo.createElement("div",{ref:this.componentRef,className:f,style:a},uo.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},o),m)}};ri.xOrds=["e","w"];ri.yOrds=["n","s"];ri.xyOrds=["nw","ne","se","sw"];ri.nudgeStep=1;ri.nudgeStepMedium=10;ri.nudgeStepLarge=100;ri.defaultProps={ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}};var bT=ri;import"react-image-crop/dist/ReactCrop.css";var Et="edit-upload",Vp=t=>{let{name:e,onChange:o,ref:n,value:r}=t;return Ko("div",{className:`${Et}__input`,children:[e,Ot("input",{name:e,onChange:s=>o(s.target.value),ref:n,type:"number",value:r})]})},fz={height:100,unit:"%",width:100,x:0,y:0},Zv=({fileName:t,fileSrc:e,imageCacheTag:o,initialCrop:n,initialFocalPoint:r,onSave:s,showCrop:i,showFocalPoint:l})=>{let{closeModal:a}=ae(),{t:c}=N(),[u,d]=ni(()=>({...fz,...n||{}})),m={x:50,y:50},[f,h]=ni(()=>({...m,...r})),[p,g]=ni(!1),[b,C]=ni(0),[v,y]=ni(0),x=$l(void 0),w=$l(void 0),S=$l(void 0),T=$l(null),I=$l(null),[R,F]=ni(!1),_=$=>{C($.currentTarget.naturalHeight),y($.currentTarget.naturalWidth),F(!0)},D=({dimension:$,value:P})=>{let M=parseInt(P);if($==="width"&&M>=v||$==="height"&&M>=b)return null;let j=100*(M/($==="width"?v:b));if(j===100||j===0)return null;d({...u,[$]:j})},A=({coordinate:$,value:P})=>{let M=parseInt(P);M>=0&&M<=100&&h(j=>({...j,[$]:M}))},L=()=>{typeof s=="function"&&s({crop:u||void 0,focalPoint:f,heightInPixels:Number(T?.current?.value??b),widthInPixels:Number(I?.current?.value??v)}),a(qu)},E=Gp.useCallback(({x:$,y:P})=>{h({x:$,y:P}),g(!1)},[]),k=()=>{let $=x.current.getBoundingClientRect(),P=i?S.current.getBoundingClientRect():w.current.getBoundingClientRect(),M=(P.left-$.left+P.width/2)/$.width*100,j=(P.top-$.top+P.height/2)/$.height*100;h({x:M,y:j})},B=o?`${e}?${encodeURIComponent(o)}`:e;return Ko("div",{className:Et,children:[Ko("div",{className:`${Et}__header`,children:[Ko("h2",{title:`${c("general:editing")} ${t}`,children:[c("general:editing")," ",t]}),Ko("div",{className:`${Et}__actions`,children:[Ot(oe,{"aria-label":c("general:cancel"),buttonStyle:"secondary",className:`${Et}__cancel`,onClick:()=>a(qu),children:c("general:cancel")}),Ot(oe,{"aria-label":c("general:applyChanges"),buttonStyle:"primary",className:`${Et}__save`,disabled:!R,onClick:L,children:c("general:applyChanges")})]})]}),Ko("div",{className:`${Et}__toolWrap`,children:[Ot("div",{className:`${Et}__crop`,children:Ko("div",{className:`${Et}__focal-wrapper`,ref:x,style:{aspectRatio:`${v/b}`},children:[i?Ot(bT,{className:`${Et}__reactCrop`,crop:u,onChange:($,P)=>d(P),onComplete:()=>g(!0),renderSelectionAddon:()=>Ot("div",{className:`${Et}__crop-window`,ref:S}),children:Ot("img",{alt:c("upload:setCropArea"),onLoad:_,ref:w,src:B})}):Ot("img",{alt:c("upload:setFocalPoint"),onLoad:_,ref:w,src:B}),l&&Ot(pz,{boundsRef:i?S:w,checkBounds:i?p:!1,className:`${Et}__focalPoint`,containerRef:x,initialPosition:f,onDragEnd:E,setCheckBounds:i?g:!1,children:Ot(jr,{})})]})}),(i||l)&&Ko("div",{className:`${Et}__sidebar`,children:[i&&Ko("div",{className:`${Et}__groupWrap`,children:[Ot("div",{children:Ko("div",{className:`${Et}__titleWrap`,children:[Ot("h3",{children:c("upload:crop")}),Ot(oe,{buttonStyle:"none",className:`${Et}__reset`,onClick:()=>d({height:100,unit:"%",width:100,x:0,y:0}),children:c("general:reset")})]})}),Ot("span",{className:`${Et}__description`,children:c("upload:cropToolDescription")}),Ko("div",{className:`${Et}__inputsWrap`,children:[Ot(Vp,{name:`${c("upload:width")} (px)`,onChange:$=>D({dimension:"width",value:$}),ref:I,value:(u.width/100*v).toFixed(0)}),Ot(Vp,{name:`${c("upload:height")} (px)`,onChange:$=>D({dimension:"height",value:$}),ref:T,value:(u.height/100*b).toFixed(0)})]})]}),l&&Ko("div",{className:`${Et}__groupWrap`,children:[Ot("div",{children:Ko("div",{className:`${Et}__titleWrap`,children:[Ot("h3",{children:c("upload:focalPoint")}),Ot(oe,{buttonStyle:"none",className:`${Et}__reset`,onClick:k,children:c("general:reset")})]})}),Ot("span",{className:`${Et}__description`,children:c("upload:focalPointDescription")}),Ko("div",{className:`${Et}__inputsWrap`,children:[Ot(Vp,{name:"X %",onChange:$=>A({coordinate:"x",value:$}),value:f.x.toFixed(0)}),Ot(Vp,{name:"Y %",onChange:$=>A({coordinate:"y",value:$}),value:f.y.toFixed(0)})]})]})]})]})]})},pz=({boundsRef:t,checkBounds:e,children:o,className:n,containerRef:r,initialPosition:s={x:50,y:50},onDragEnd:i,setCheckBounds:l})=>{let[a,c]=ni({x:s.x,y:s.y}),[u,d]=ni(!1),m=$l(void 0),f=Gp.useCallback((b,C,v)=>{let y=r.current.getBoundingClientRect(),x=t.current.getBoundingClientRect(),w=b??x.left,S=C??x.top,T=w<x.left||w>x.right,I=S<x.top||S>x.bottom,R=(w-y.left)/y.width*100,F=(S-y.top)/y.height*100,_=(x.left-y.left+x.width/2)/y.width*100,D=(x.top-y.top+x.height/2)/y.height*100;return(T||I)&&(d(!1),w<x.left?R=(x.left-y.left)/y.width*100:w>x.right&&(R=(y.width-(y.right-x.right))/y.width*100),S<x.top?F=(x.top-y.top)/y.height*100:S>x.bottom&&(F=(y.height-(y.bottom-x.bottom))/y.height*100),v&&(R=T?_:R,F=I?D:F)),{x:R,y:F}},[t,r]),h=b=>{b.preventDefault(),d(!0)},p=b=>{if(!u)return null;let{x:C,y:v}=f(b.clientX,b.clientY);c({x:C,y:v})},g=()=>{d(!1),i(a)};return Gp.useEffect(()=>{if(!(u||!m.current)&&e){let{height:b,left:C,top:v,width:y}=m.current.getBoundingClientRect(),{x,y:w}=f(C+y/2,v+b/2,!0);i({x,y:w}),c({x,y:w}),l(!1);return}},[f,u,e,l,a.x,a.y,i]),Gp.useEffect(()=>{c({x:s.x,y:s.y})},[s.x,s.y]),Ko("div",{className:[`${Et}__draggable-container`,u&&`${Et}__draggable-container--dragging`].filter(Boolean).join(" "),onMouseMove:p,children:[Ot("button",{className:[`${Et}__draggable`,n].filter(Boolean).join(" "),onMouseDown:h,onMouseUp:g,ref:m,style:{left:`${a.x}%`,top:`${a.y}%`},type:"button",children:o}),Ot("div",{})]})};import{jsx as DT}from"react/jsx-runtime";import"react";import{c as hz}from"react/compiler-runtime";import{jsx as gs,jsxs as Yv}from"react/jsx-runtime";import"react";var si="file-details-draggable",vT=t=>{let e=hz(20),{collectionSlug:o,doc:n,hideRemoveFile:r,imageCacheTag:s,isSortable:i,removeItem:l,rowIndex:a,uploadConfig:c}=t,{id:u,filename:d,thumbnailURL:m,url:f}=n,h;e[0]!==o||e[1]!==u?(h={id:u,collectionSlug:o},e[0]=o,e[1]=u,e[2]=h):h=e[2];let[p,g]=St(h),b;e[3]!==p||e[4]!==g||e[5]!==o||e[6]!==n||e[7]!==d||e[8]!==r||e[9]!==s||e[10]!==i||e[11]!==l||e[12]!==a||e[13]!==m||e[14]!==c||e[15]!==f?(b=v=>Yv("div",{className:[si,v&&i&&`${si}--has-drag-handle`].filter(Boolean).join(" "),ref:v.setNodeRef,style:{transform:v.transform,transition:v.transition,zIndex:v.isDragging?1:void 0},children:[Yv("div",{className:`${si}--drag-wrapper`,children:[i&&v&&gs("div",{className:`${si}__drag`,...v.attributes,...v.listeners,children:gs(cn,{})}),gs(Tr,{className:`${si}__thumbnail`,collectionSlug:o,doc:n,fileSrc:m||f,imageCacheTag:s,uploadConfig:c})]}),gs("div",{className:`${si}__main-detail`,children:d}),Yv("div",{className:`${si}__actions`,children:[gs(p,{}),gs(g,{children:gs(gr,{})}),!r&&l&&gs(oe,{buttonStyle:"icon-label",className:`${si}__remove`,icon:"x",iconStyle:"none",onClick:()=>l(a),round:!0})]})]}),e[3]=p,e[4]=g,e[5]=o,e[6]=n,e[7]=d,e[8]=r,e[9]=s,e[10]=i,e[11]=l,e[12]=a,e[13]=m,e[14]=c,e[15]=f,e[16]=b):b=e[16];let C;return e[17]!==u||e[18]!==b?(C=gs(Dn,{id:u,children:b},u),e[17]=u,e[18]=b,e[19]=C):C=e[19],C};import{jsx as td,jsxs as IT}from"react/jsx-runtime";import"react";import{jsx as wT,jsxs as Ku}from"react/jsx-runtime";import{formatFilesize as vz}from"payload/shared";import ST from"react";import{jsx as CT,jsxs as yT}from"react/jsx-runtime";import{useRef as gz,useState as xT}from"react";var bz="copy-to-clipboard",Qu=({defaultMessage:t,successMessage:e,value:o})=>{let n=gz(null),[r,s]=xT(!1),[i,l]=xT(!1),{t:a}=N();return o?yT("button",{className:bz,onClick:()=>{n&&n.current&&(n.current.select(),n.current.setSelectionRange(0,o.length+1),document.execCommand("copy"),s(!0))},onMouseEnter:()=>{l(!0),s(!1)},onMouseLeave:()=>{l(!1),s(!1)},type:"button",children:[CT(xi,{}),yT(Eo,{delay:r?0:void 0,show:i||r,children:[r&&(e??a("general:copied")),!r&&(t??a("general:copy"))]}),CT("textarea",{readOnly:!0,ref:n,tabIndex:-1,value:o})]}):null};var Jv="file-meta",ed=t=>{let{filename:e,filesize:o,height:n,mimeType:r,url:s,width:i}=t;return Ku("div",{className:Jv,children:[Ku("div",{className:`${Jv}__url`,children:[wT("a",{href:s,rel:"noopener noreferrer",target:"_blank",children:e}),wT(Qu,{defaultMessage:"Copy URL",value:s})]}),Ku("div",{className:`${Jv}__size-type`,children:[vz(o),typeof i=="number"&&typeof n=="number"&&Ku(ST.Fragment,{children:["\xA0-\xA0",i,"x",n]}),r&&Ku(ST.Fragment,{children:["\xA0-\xA0",r]})]})]})};var zp="file-details",_T=t=>{let{customUploadActions:e,doc:o,enableAdjustments:n,handleRemove:r,hasImageSizes:s,hideRemoveFile:i,imageCacheTag:l,uploadConfig:a}=t,{filename:c,filesize:u,height:d,mimeType:m,thumbnailURL:f,url:h,width:p}=o,g=a.displayPreview??!0;return td("div",{className:zp,children:IT("header",{children:[g&&td(Tr,{className:`${zp}__thumbnail`,doc:o,fileSrc:f||h,imageCacheTag:l,uploadConfig:a}),IT("div",{className:`${zp}__main-detail`,children:[td(ed,{filename:c,filesize:u,height:d,mimeType:m,url:h,width:p}),(n||s&&o.filename||e)&&td(qv,{customActions:e,enableAdjustments:!!n,enablePreviewSizes:s&&o.filename,mimeType:m})]}),!i&&r&&td(oe,{buttonStyle:"icon-label",className:`${zp}__remove`,icon:"x",iconStyle:"with-border",onClick:r,round:!0})]})})};var Qv=t=>{let{hasMany:e}=t;return e?DT(vT,{...t}):DT(_T,{...t})};import{jsx as $n,jsxs as kl}from"react/jsx-runtime";import{useEffect as Cz,useMemo as yz,useState as TT}from"react";var Jr="preview-sizes",FT=(t,e)=>{if(!e||e.length===0)return t;let o={};return e.forEach(({name:n})=>{t[n]&&(o[n]=t[n])}),o},RT=({name:t,active:e,meta:o,onClick:n,previewSrc:r})=>kl("div",{className:[`${Jr}__sizeOption`,e&&`${Jr}--selected`].filter(Boolean).join(" "),onClick:typeof n=="function"?n:void 0,onKeyDown:s=>{typeof n=="function"&&s.key==="Enter"&&n()},role:"button",tabIndex:0,children:[$n("div",{className:`${Jr}__image`,children:$n("img",{alt:o.filename,src:r})}),kl("div",{className:`${Jr}__sizeMeta`,children:[$n("div",{className:`${Jr}__sizeName`,children:t}),$n(ed,{...o})]})]}),Kv=({doc:t,imageCacheTag:e,uploadConfig:o})=>{let{imageSizes:n}=o,{sizes:r}=t,[s,i]=TT(()=>FT(r,n)),[l,a]=TT(null),c=f=>{if(!f.filename)return null;if(f.url)return`${f.url}${e?`?${encodeURIComponent(e)}`:""}`};Cz(()=>{i(FT(r,n))},[r,n,e]);let u=c(l?t.sizes[l]:t),d=yz(()=>({filename:t.filename,filesize:t.filesize,height:t.height,mimeType:t.mimeType,url:t.url,width:t.width}),[t]),m="Original";return kl("div",{className:Jr,children:[kl("div",{className:`${Jr}__imageWrap`,children:[kl("div",{className:`${Jr}__meta`,children:[$n("div",{className:`${Jr}__sizeName`,children:l||m}),$n(ed,{...l?s[l]:d})]}),$n("img",{alt:t.filename,className:`${Jr}__preview`,src:u})]}),$n("div",{className:`${Jr}__listWrap`,children:kl("div",{className:`${Jr}__list`,children:[$n(RT,{active:!l,meta:d,name:m,onClick:()=>a(null),previewSrc:c(t)}),Object.entries(s).map(([f,h])=>{let p=l===f,g=c(h);return g?$n(RT,{active:p,meta:h,name:f,onClick:()=>a(f),previewSrc:g},f):null})]})})]})};var go="file-field",qu="edit-upload",NT="preview-sizes",wz=t=>!t&&t!==void 0?"A file is required.":!0,qv=t=>{let e=PT(10),{customActions:o,enableAdjustments:n,enablePreviewSizes:r,mimeType:s}=t,{t:i}=N(),{openModal:l}=ae(),a,c;if(e[0]!==o||e[1]!==n||e[2]!==r||e[3]!==s||e[4]!==l||e[5]!==i){c=Symbol.for("react.early_return_sentinel");e:{let u=ET(s)&&s!=="image/svg+xml"&&s!=="image/jxl";if(!u&&(!o||o.length===0)){c=null;break e}let d;e[8]!==o?(d=o&&o.map(Sz),e[8]=o,e[9]=d):d=e[9],a=qr("div",{className:`${go}__upload-actions`,children:[u&&qr(sd.Fragment,{children:[r&&Nt(oe,{buttonStyle:"pill",className:`${go}__previewSizes`,margin:!1,onClick:()=>{l(NT)},size:"small",children:i("upload:previewSizes")}),n&&Nt(oe,{buttonStyle:"pill",className:`${go}__edit`,margin:!1,onClick:()=>{l(qu)},size:"small",children:i("upload:editImage")})]}),d]})}e[0]=o,e[1]=n,e[2]=r,e[3]=s,e[4]=l,e[5]=i,e[6]=a,e[7]=c}else a=e[6],c=e[7];return c!==Symbol.for("react.early_return_sentinel")?c:a},e0=t=>{let e=PT(5),{resetUploadEdits:o,updateUploadEdits:n,uploadEdits:r}=Pi(),s;return e[0]!==t||e[1]!==o||e[2]!==n||e[3]!==r?(s=Nt(_l,{children:Nt(t0,{...t,resetUploadEdits:o,updateUploadEdits:n,uploadEdits:r})}),e[0]=t,e[1]=o,e[2]=n,e[3]=r,e[4]=s):s=e[4],s},t0=t=>{let{collectionSlug:e,customActions:o,initialState:n,onChange:r,resetUploadEdits:s,updateUploadEdits:i,uploadConfig:l,UploadControls:a,uploadEdits:c}=t,{setUploadControlFile:u,setUploadControlFileName:d,setUploadControlFileUrl:m,uploadControlFile:f,uploadControlFileName:h,uploadControlFileUrl:p}=kv(),{config:{routes:{api:g},serverURL:b}}=W(),{t:C}=N(),{setModified:v}=Ve(),{id:y,docPermissions:x,savedDocumentData:w,setUploadStatus:S}=De(),T=kr(),{errorMessage:I,setValue:R,showError:F,value:_}=Ne({path:"file",validate:wz}),[D,A]=nd(null),[L,E]=nd(!1),[k,B]=nd(_?.name||""),[$,P]=nd(!1),[M,j]=nd(""),O=AT(null),G=AT(null),V=typeof l?.pasteURL=="object"&&l.pasteURL.allowList?.length>0,z=od(de=>{de instanceof File&&A(URL.createObjectURL(de)),R(de),P(!1),m(""),d(null),u(null),typeof r=="function"&&r(de)},[r,R,u,d,m]),X=(de,H)=>new File([de],H,{type:de.type,lastModified:de.lastModified}),Q=sd.useCallback(de=>{let H=de.target.value;_&&(z(X(_,H)),B(H))},[z,_]),U=od(de=>{let H=de?.[0];z(H)},[z]),ee=od(()=>{E(!0),z(null),A(""),j(""),s(),P(!1),m(""),d(null),u(null)},[z,s,u,d,m]),J=od(de=>{v(!0),i(de)},[v,i]),re=od(async()=>{if(!(!M||l?.pasteURL===!1)){S("uploading");try{let de=await fetch(M);if(!de.ok)throw new Error(`Fetch failed with status: ${de.status}`);let H=await de.blob(),q=h||decodeURIComponent(M.split("/").pop()||""),ne=new File([H],q,{type:H.type});z(ne),S("idle");return}catch{if(!V){K.error("Failed to fetch the file."),S("failed");return}}try{let de=`/${e}/paste-url${y?`/${y}?`:"?"}src=${encodeURIComponent(M)}`,H=await fetch(`${b}${g}${de}`);if(!H.ok)throw new Error(`Fetch failed with status: ${H.status}`);let q=await H.blob(),ne=decodeURIComponent(M.split("/").pop()||""),te=new File([q],ne,{type:q.type});z(te),S("idle")}catch{K.error("The provided URL is not allowed."),S("failed")}}},[g,e,M,z,y,b,S,l,h,V]);rd(()=>{n?.file?.value instanceof File&&(A(URL.createObjectURL(n.file.value)),E(!1))},[n]),rd(()=>{$&&O.current},[$]),rd(()=>{T&&E(!1)},[T]);let ie=x?.update&&"delete"in x&&x?.delete,le=l?.imageSizes?.length>0,Z=!!l?.resizeOptions,pe=l?.focalPoint===!0,{crop:be=!0,focalPoint:Ae=!0}=l,ge=Ae&&(le||Z||pe),Te=l.mimeTypes?.join(", "),Y=l?.cacheTags&&w?.updatedAt;return rd(()=>{(async()=>{p&&(j(p),await re())})()},[p,re]),rd(()=>{(()=>{f&&z(f)})()},[f,z]),qr("div",{className:[Re,go].filter(Boolean).join(" "),children:[Nt(Qe,{message:I,showError:F}),w&&w.filename&&!L&&Nt(Qv,{collectionSlug:e,customUploadActions:o,doc:w,enableAdjustments:be||ge,handleRemove:ie?ee:void 0,hasImageSizes:le,hideRemoveFile:l.hideRemoveFile,imageCacheTag:Y,uploadConfig:l}),(!l.hideFileInputOnCreate&&!w?.filename||L)&&qr("div",{className:`${go}__upload`,children:[!_&&!$&&Nt(oa,{onChange:U,children:qr("div",{className:`${go}__dropzoneContent`,children:[qr("div",{className:`${go}__dropzoneButtons`,children:[Nt(oe,{buttonStyle:"pill",onClick:()=>{G.current&&G.current.click()},size:"small",children:C("upload:selectFile")}),Nt("input",{accept:Te,"aria-hidden":"true",className:`${go}__hidden-input`,hidden:!0,onChange:de=>{de.target.files&&de.target.files.length>0&&U(de.target.files)},ref:G,type:"file"}),l?.pasteURL!==!1&&qr(xz,{children:[Nt("span",{className:`${go}__orText`,children:C("general:or")}),Nt(oe,{buttonStyle:"pill",onClick:()=>{P(!0),m(""),u(null),d(null)},size:"small",children:C("upload:pasteURL")})]}),a||null]}),qr("p",{className:`${go}__dragAndDropText`,children:[C("general:or")," ",C("upload:dragAndDrop")]})]})}),$&&qr(sd.Fragment,{children:[qr("div",{className:`${go}__remote-file-wrap`,children:[Nt("input",{className:`${go}__remote-file`,onChange:de=>{j(de.target.value)},ref:O,title:M,type:"text",value:M}),Nt("div",{className:`${go}__add-file-wrap`,children:Nt("button",{className:`${go}__add-file`,onClick:()=>{re()},type:"button",children:C("upload:addFile")})})]}),Nt(oe,{buttonStyle:"icon-label",className:`${go}__remove`,icon:"x",iconStyle:"with-border",onClick:()=>{P(!1),m(""),u(null),d(null)},round:!0,tooltip:C("general:cancel")})]}),_&&D&&qr(sd.Fragment,{children:[Nt("div",{className:`${go}__thumbnail-wrap`,children:Nt(Tr,{collectionSlug:e,fileSrc:ET(_.type)?D:null})}),qr("div",{className:`${go}__file-adjustments`,children:[Nt("input",{className:`${go}__filename`,onChange:Q,title:k||_.name,type:"text",value:k||_.name}),Nt(qv,{customActions:o,enableAdjustments:be||ge,enablePreviewSizes:le&&w?.filename&&!L,mimeType:_.type})]}),Nt(oe,{buttonStyle:"icon-label",className:`${go}__remove`,icon:"x",iconStyle:"with-border",onClick:ee,round:!0,tooltip:C("general:cancel")})]})]}),(_||w?.filename)&&Nt(Jn,{children:Nt(Bt,{Header:null,slug:qu,children:Nt(Zv,{fileName:_?.name||w?.filename,fileSrc:w?.url||D,imageCacheTag:Y,initialCrop:c?.crop??void 0,initialFocalPoint:{x:c?.focalPoint?.x||w?.focalX||50,y:c?.focalPoint?.y||w?.focalY||50},onSave:J,showCrop:be,showFocalPoint:ge})})}),w&&le&&Nt(Bt,{className:`${go}__previewDrawer`,hoverTitle:!0,slug:NT,title:C("upload:sizesFor",{label:w.filename}),children:Nt(Kv,{doc:w,imageCacheTag:Y,uploadConfig:l})})]})};function Sz(t,e){return Nt(sd.Fragment,{children:t},e)}var _z="collection-edit";function kT({resetUploadEdits:t,submitted:e,updateUploadEdits:o,uploadEdits:n}){let{action:r,collectionSlug:s,docPermissions:i,getDocPreferences:l,hasSavePermission:a,initialState:c,isInitializing:u,Upload:d}=De(),{onSave:m}=Zi(),{getFormState:f}=$t(),{config:{folders:h},getEntityConfig:p}=W(),g=id.useRef(null),b=p({collectionSlug:s}),{reportUpdate:C}=ps(),v=b.slug,[y]=id.useState(v),x=LT(S=>{C({entitySlug:v,updatedAt:S?.result?.updatedAt||new Date().toISOString()}),typeof m=="function"&&m({...S,operation:"create"}),t()},[v,m,C,t]),w=LT(async({formState:S,submitted:T})=>{let I=Dr(g),R=await l(),{state:F}=await f({collectionSlug:v,docPermissions:i,docPreferences:R,formState:S,operation:"create",schemaPath:y,signal:I.signal,skipValidation:!T});return g.current=null,F},[v,y,l,f,i]);return $T(()=>{let S=g.current;return()=>{_r(S)}},[]),ii($c,{operation:"create",children:Iz(ds,{action:r,className:`${_z}__form`,disabled:u||!a,initialState:u?void 0:c,isInitializing:u,method:"POST",onChange:[w],onSuccess:x,submitted:e,children:[ii(Xu,{BeforeFields:ii(id.Fragment,{children:d||ii(t0,{collectionSlug:b.slug,customActions:[h&&b.folders&&ii(Ju,{buttonProps:{buttonStyle:"pill",size:"small"},folderCollectionSlug:h.slug,folderFieldName:h.fieldName},"move-doc-to-folder")].filter(Boolean),initialState:c,resetUploadEdits:t,updateUploadEdits:o,uploadConfig:b.upload,uploadEdits:n})}),docPermissions:i,fields:b.fields,schemaPathSegments:[b.slug]}),ii(Tz,{}),ii(Dz,{})]})})}function Dz(){let{getFields:t}=Ve(),{getFormDataRef:e}=Wo();return $T(()=>{e.current=t},[t,e]),null}function Tz(){let{docConfig:t}=De(),{activeIndex:e,setFormTotalErrorCount:o}=Wo(),n=id.useRef(0),r=id.useCallback(s=>{s!==n.current&&(o({errorCount:s,index:e}),n.current=s)},[e,o]);return t?ii(ki,{fields:t.fields,path:[],setErrorCount:r}):null}import{c as Fz}from"react/compiler-runtime";import{jsx as Vt,jsxs as wn}from"react/jsx-runtime";import{isImage as Rz}from"payload/shared";import Hp from"react";var jT=t=>new Promise((e,o)=>{let n=new Image;n.src=URL.createObjectURL(t),n.onload=()=>{let s,i,l=n.width/n.height;l>1?(i=280,s=280/l):(i=280*l,s=280);let a=new OffscreenCanvas(i,s),c=a.getContext("2d"),u=t.type==="image/png"?"image/png":"image/jpeg",d=t.type==="image/png"?void 0:.8;c.drawImage(n,0,0,i,s),a.convertToBlob({type:u,...d&&{quality:d}}).then(m=>{URL.revokeObjectURL(n.src);let f=new FileReader;f.onload=()=>e(f.result),f.onerror=o,f.readAsDataURL(m)}).catch(o)},n.onerror=r=>{URL.revokeObjectURL(n.src),o(r)}});var Wp="bulk-upload-drawer--add-more-files",Pt="file-selections";function BT(){let t=Fz(34),{activeIndex:e,addFiles:o,forms:n,isInitializing:r,removeFile:s,setActiveIndex:i,totalErrorCount:l}=Wo(),{initialFiles:a,maxFiles:c}=Qo(),{i18n:u,t:d}=N(),{closeModal:m,openModal:f}=ae(),[h,p]=Hp.useState(!1),{breakpoints:g}=Go(),b;t[0]!==s?(b=F=>{s(F)},t[0]=s,t[1]=b):b=t[1];let C=b,v;t[2]!==o||t[3]!==m?(v=F=>{o(F),m(Wp)},t[2]=o,t[3]=m,t[4]=v):v=t[4];let y=v,x=Ez,w=r?a.length:n.length,S=h&&`${Pt}__showingFiles`,T;t[5]!==S?(T=[Pt,S].filter(Boolean),t[5]=S,t[6]=T):T=t[6];let I=T.join(" "),R;if(t[7]!==e||t[8]!==g.m||t[9]!==m||t[10]!==n||t[11]!==y||t[12]!==C||t[13]!==u||t[14]!==a||t[15]!==r||t[16]!==c||t[17]!==f||t[18]!==i||t[19]!==h||t[20]!==d||t[21]!==I||t[22]!==l||t[23]!==w){let F;t[25]===Symbol.for("react.memo_cache_sentinel")?(F=()=>p(Pz),t[25]=F):F=t[25];let _;t[26]!==m?(_=()=>m(Wp),t[26]=m,t[27]=_):_=t[27];let D;t[28]!==e||t[29]!==C||t[30]!==u||t[31]!==i||t[32]!==d?(D=(A,L)=>{let{errorCount:E,formID:k,formState:B}=A,$=B?.file?.value||{};return wn("div",{className:[`${Pt}__fileRowContainer`,L===e&&`${Pt}__fileRowContainer--active`,E&&E>0&&`${Pt}__fileRowContainer--error`].filter(Boolean).join(" "),children:[wn("button",{className:`${Pt}__fileRow`,onClick:()=>i(L),type:"button",children:[Vt(Nz,{file:$,formID:k}),Vt("div",{className:`${Pt}__fileDetails`,children:Vt("p",{className:`${Pt}__fileName`,title:$.name,children:$.name||d("upload:noFile")})}),$ instanceof File?Vt("p",{className:`${Pt}__fileSize`,children:x($)}):null,Vt("div",{className:`${Pt}__remove ${Pt}__remove--underlay`,children:Vt(bt,{})}),E?Vt(Io,{className:`${Pt}__errorCount`,count:E,i18n:u}):null]}),Vt("button",{"aria-label":d("general:remove"),className:`${Pt}__remove ${Pt}__remove--overlay`,onClick:()=>C(L),type:"button",children:Vt(bt,{})})]},k)},t[28]=e,t[29]=C,t[30]=u,t[31]=i,t[32]=d,t[33]=D):D=t[33],R=wn("div",{className:I,children:[g.m&&h?Vt("div",{className:`${Pt}__mobileBlur`}):null,wn("div",{className:`${Pt}__header`,children:[wn("div",{className:`${Pt}__headerTopRow`,children:[wn("div",{className:`${Pt}__header__text`,children:[Vt(Io,{count:l,i18n:u,withMessage:!0}),Vt("p",{children:wn("strong",{title:`${w} ${d(w>1?"upload:filesToUpload":"upload:fileToUpload")}`,children:[w," ",d(w>1?"upload:filesToUpload":"upload:fileToUpload")]})})]}),wn("div",{className:`${Pt}__header__actions`,children:[typeof c!="number"||w<c?Vt(vt,{className:`${Pt}__header__addFile`,onClick:()=>f(Wp),size:"small",children:d("upload:addFile")}):null,wn(oe,{buttonStyle:"transparent",className:`${Pt}__toggler`,onClick:F,children:[Vt("span",{className:`${Pt}__toggler__label`,children:wn("strong",{title:`${w} ${d(w>1?"upload:filesToUpload":"upload:fileToUpload")}`,children:[w," ",d(w>1?"upload:filesToUpload":"upload:fileToUpload")]})}),Vt(We,{direction:h?"down":"up"})]}),Vt(Bt,{gutter:!1,Header:null,slug:Wp,children:Vt(Dp,{onCancel:_,onDrop:y})})]})]}),Vt("div",{className:`${Pt}__header__mobileDocActions`,children:Vt(Ov,{})})]}),Vt("div",{className:`${Pt}__animateWrapper`,children:Vt(wr,{height:!g.m||h?"auto":0,children:wn("div",{className:`${Pt}__filesContainer`,children:[r&&n.length===0&&a.length>0?Array.from(a).map(Az):null,n.map(D)]})})})]}),t[7]=e,t[8]=g.m,t[9]=m,t[10]=n,t[11]=y,t[12]=C,t[13]=u,t[14]=a,t[15]=r,t[16]=c,t[17]=f,t[18]=i,t[19]=h,t[20]=d,t[21]=I,t[22]=l,t[23]=w,t[24]=R}else R=t[24];return R}function Az(t,e){return Vt(Ft,{animationDelay:`calc(${e} * 60ms)`,height:"35px"},e)}function Pz(t){return!t}function Ez(t){let e=t.size,o=e===0?0:Math.floor(Math.log(e)/Math.log(1024)),n=o>1?1:0;return(e/Math.pow(1024,o)).toFixed(n)+" "+["B","kB","MB","GB","TB"][o]}function Nz({file:t,formID:e}){let[o,n]=Hp.useState(null),[r,s]=Hp.useState(!0);return Hp.useEffect(()=>{let i=!1;async function l(){s(!0),n(null);try{if(Rz(t.type)){let a=await jT(t);i||n(a)}else n(null)}catch{i||n(null)}finally{i||s(!1)}}return l(),()=>{i=!0}},[t]),r?Vt(Ft,{className:`${Pt}__thumbnail-shimmer`,disableInlineStyles:!0}):Vt(Tr,{className:`${Pt}__thumbnail`,fileSrc:o},`${e}-${o||"placeholder"}`)}var MT="bulk-upload--file-manager";function OT(){let t=Lz(18),{activeIndex:e,collectionSlug:o,docPermissions:n,documentSlots:r,forms:s,hasPublishPermission:i,hasSavePermission:l,hasSubmitted:a,resetUploadEdits:c,updateUploadEdits:u}=Wo(),d=s[e],{getEntityConfig:m}=W(),{i18n:f}=N(),{user:h}=Ie(),{openModal:p}=ae(),g;if(t[0]!==d||t[1]!==e||t[2]!==o||t[3]!==n||t[4]!==r||t[5]!==s.length||t[6]!==m||t[7]!==i||t[8]!==l||t[9]!==a||t[10]!==f||t[11]!==p||t[12]!==c||t[13]!==u||t[14]!==h){let b=m({collectionSlug:o}),C;t[16]!==p?(C=()=>p(Uu),t[16]=p,t[17]=C):C=t[17],g=o0("div",{className:MT,children:[ad(BT,{}),o0("div",{className:`${MT}__editView`,children:[ad(Dl,{onClose:C,title:$z(b.labels.singular,f)}),d?o0(Lc,{collectionSlug:o,currentEditor:h,docPermissions:n,hasPublishedDoc:!1,hasPublishPermission:i,hasSavePermission:l,id:null,initialData:kz(d.formState,!0),initialState:d.formState,isLocked:!1,lastUpdateTime:0,mostRecentVersionIsAutosaved:!1,unpublishedVersionCount:0,Upload:r.Upload,versionCount:0,children:[ad(zD,{collectionConfig:b}),ad(kT,{resetUploadEdits:c,submitted:a,updateUploadEdits:u,uploadEdits:d?.uploadEdits})]},`${e}-${s.length}`):null]}),ad(WD,{})]}),t[0]=d,t[1]=e,t[2]=o,t[3]=n,t[4]=r,t[5]=s.length,t[6]=m,t[7]=i,t[8]=l,t[9]=a,t[10]=f,t[11]=p,t[12]=c,t[13]=u,t[14]=h,t[15]=g}else g=t[15];return g}var Mz="bulk-upload-drawer-slug";function Oz(){let{addFiles:t,forms:e,isInitializing:o}=Wo(),{closeModal:n}=ae(),{collectionSlug:r,drawerSlug:s}=Qo(),{getEntityConfig:i}=W(),{t:l}=N(),u=i({collectionSlug:r})?.upload?.mimeTypes,d=bs.useCallback(m=>{let f=new DataTransfer;for(let h of m)(u===void 0||u.length===0||Bz(h.type,u))&&f.items.add(h);f.files.length===0?K.error(l("error:invalidFileType")):t(f.files)},[t,l,u]);return r?!e.length&&!o?vs(Dp,{acceptMimeTypes:u?.join(", "),onCancel:()=>n(s),onDrop:d}):vs(OT,{}):null}function GT(){let t=VT(2),{drawerSlug:e}=Qo(),o;return t[0]!==e?(o=vs(Bt,{gutter:!1,Header:null,slug:e,children:vs(ED,{children:vs(_l,{children:vs(Jn,{children:vs(Oz,{})})})})}),t[0]=e,t[1]=o):o=t[1],o}var zT=bs.createContext({collectionSlug:"",drawerSlug:"",initialFiles:void 0,maxFiles:void 0,onCancel:()=>null,onSuccess:()=>null,setCollectionSlug:()=>null,setInitialFiles:()=>null,setMaxFiles:()=>null,setOnCancel:()=>null,setOnSuccess:()=>null});function r0(t){let e=VT(14),{children:o,drawerSlugPrefix:n}=t,[r,s]=bs.useState(),[i,l]=bs.useState(),[a,c]=bs.useState(),[u,d]=bs.useState(void 0),[m,f]=bs.useState(void 0),h=`${n?`${n}-`:""}${WT()}`,p;e[0]===Symbol.for("react.memo_cache_sentinel")?(p=w=>{s(w)},e[0]=p):p=e[0];let g=p,b;e[1]===Symbol.for("react.memo_cache_sentinel")?(b=w=>{l(()=>w)},e[1]=b):b=e[1];let C=b,v;e[2]!==a?(v=()=>{typeof a=="function"&&a()},e[2]=a,e[3]=v):v=e[3];let y;e[4]!==i?(y=(w,S)=>{typeof i=="function"&&i(w,S)},e[4]=i,e[5]=y):y=e[5];let x;return e[6]!==o||e[7]!==r||e[8]!==h||e[9]!==u||e[10]!==m||e[11]!==v||e[12]!==y?(x=vs(zT,{value:{collectionSlug:r,drawerSlug:h,initialFiles:u,maxFiles:m,onCancel:v,onSuccess:y,setCollectionSlug:g,setInitialFiles:d,setMaxFiles:f,setOnCancel:c,setOnSuccess:C},children:jz(bs.Fragment,{children:[o,vs(GT,{})]})}),e[6]=o,e[7]=r,e[8]=h,e[9]=u,e[10]=m,e[11]=v,e[12]=y,e[13]=x):x=e[13],x}var Qo=()=>bs.use(zT);function WT(){let t=Mr();return`${Mz}-${t||1}`}import{jsx as to,jsxs as la,Fragment as cd}from"react/jsx-runtime";import*as QT from"qs-esm";import Sn,{useCallback as YT,useEffect as JT,useMemo as qT}from"react";import{c as Wz}from"react/compiler-runtime";import{jsx as aa,jsxs as Hz}from"react/jsx-runtime";import"react";import{c as Vz}from"react/compiler-runtime";import{jsx as ia,jsxs as Up}from"react/jsx-runtime";import{formatFilesize as Gz}from"payload/shared";import"react";var Cs="upload-relationship-details";function Xp(t){let e=Vz(34),{id:o,allowEdit:n,allowRemove:r,alt:s,byteSize:i,className:l,collectionSlug:a,displayPreview:c,filename:u,mimeType:d,onRemove:m,reloadDoc:f,src:h,thumbnailSrc:p,withMeta:g,x:b,y:C}=t,v=g===void 0?!0:g,{config:y}=W(),x;e[0]!==a||e[1]!==y?(x="collections"in y?y.collections.find(O=>O.slug===a):void 0,e[0]=a,e[1]=y,e[2]=x):x=e[2];let w=x,S=h?o:void 0,T;e[3]!==a||e[4]!==S?(T={id:S,collectionSlug:a},e[3]=a,e[4]=S,e[5]=T):T=e[5];let[I,,R]=St(T),{openDrawer:F}=R,_;e[6]!==a||e[7]!==f?(_=async O=>{let{doc:G}=O;return f(G.id,a)},e[6]=a,e[7]=f,e[8]=_):_=e[8];let D=_,A;e[9]!==b||e[10]!==C?(A=function(G,V){let z=[];return V&&z.push(Gz(V)),b&&C&&z.push(`${b}x${C}`),G&&z.push(G),z.join(" \u2014 ")},e[9]=b,e[10]=C,e[11]=A):A=e[11];let E=v?A(d,i):"",k=c??w.upload?.displayPreview??!0,B;e[12]!==l?(B=[Cs,l].filter(Boolean),e[12]=l,e[13]=B):B=e[13];let $=B.join(" "),P;e[14]!==s||e[15]!==u||e[16]!==k||e[17]!==p?(P=k&&ia(u4,{alt:s,className:`${Cs}__thumbnail`,filename:u,fileSrc:p,size:"small"}),e[14]=s,e[15]=u,e[16]=k,e[17]=p,e[18]=P):P=e[18];let M;e[19]!==u||e[20]!==h?(M=h?ia("a",{href:h,target:"_blank",children:u}):u,e[19]=u,e[20]=h,e[21]=M):M=e[21];let j;return e[22]!==I||e[23]!==n||e[24]!==r||e[25]!==E||e[26]!==m||e[27]!==D||e[28]!==F||e[29]!==M||e[30]!==$||e[31]!==P||e[32]!==v?(j=Up("div",{className:$,children:[Up("div",{className:`${Cs}__imageAndDetails`,children:[P,Up("div",{className:`${Cs}__details`,children:[ia("p",{className:`${Cs}__filename`,children:M}),v?ia("p",{className:`${Cs}__meta`,children:E}):null]})]}),n!==!1||r!==!1?Up("div",{className:`${Cs}__actions`,children:[n!==!1?ia(oe,{buttonStyle:"icon-label",className:`${Cs}__edit`,icon:"edit",iconStyle:"none",onClick:F}):null,r!==!1?ia(oe,{buttonStyle:"icon-label",className:`${Cs}__remove`,icon:"x",iconStyle:"none",onClick:()=>m()}):null,ia(I,{onSave:D})]}):null]}),e[22]=I,e[23]=n,e[24]=r,e[25]=E,e[26]=m,e[27]=D,e[28]=F,e[29]=M,e[30]=$,e[31]=P,e[32]=v,e[33]=j):j=e[33],j}import{jsx as zz}from"react/jsx-runtime";import"react";var HT="upload-field-card";function Zp({children:t,className:e,size:o="medium"}){return zz("div",{className:[HT,e,`${HT}--size-${o}`].filter(Boolean).join(" "),children:t})}import{getBestFitFromSizes as Uz,isImage as Xz}from"payload/shared";var ld="upload upload--has-many";function UT(t){let e=Wz(27),{className:o,displayPreview:n,fileDocs:r,isSortable:s,onRemove:i,onReorder:l,readonly:a,reloadDoc:c,serverURL:u}=t,d;e[0]!==r||e[1]!==l?(d=(C,v)=>{if(C===v)return;let y=[...r],[x]=y.splice(C,1);y.splice(v,0,x),l(y)},e[0]=r,e[1]=l,e[2]=d):d=e[2];let m=d,f;e[3]!==r||e[4]!==i?(f=C=>{let v=[...r||[]];v.splice(C,1),i(v.length===0?[]:v)},e[3]=r,e[4]=i,e[5]=f):f=e[5];let h=f,p;e[6]!==o?(p=[ld,o].filter(Boolean),e[6]=o,e[7]=p):p=e[7];let g=p.join(" "),b;if(e[8]!==n||e[9]!==r||e[10]!==s||e[11]!==m||e[12]!==a||e[13]!==c||e[14]!==h||e[15]!==u||e[16]!==g){let C;e[18]!==m?(C=y=>{let{moveFromIndex:x,moveToIndex:w}=y;return m(x,w)},e[18]=m,e[19]=C):C=e[19];let v;e[20]!==n||e[21]!==s||e[22]!==a||e[23]!==c||e[24]!==h||e[25]!==u?(v=(y,x)=>{let{relationTo:w,value:S}=y,T=String(S.id),I,R;if(S.url)try{I=new URL(S.url,u).toString()}catch{I=`${u}${S.url}`}if(S.thumbnailURL)try{R=new URL(S.thumbnailURL,u).toString()}catch{R=`${u}${S.thumbnailURL}`}return Xz(S.mimeType)&&(R=Uz({sizes:S.sizes,thumbnailURL:R,url:I,width:S.width})),aa(Dn,{disabled:!s||a,id:T,children:F=>aa("div",{className:[`${ld}__dragItem`,F&&s&&`${ld}--has-drag-handle`].filter(Boolean).join(" "),ref:F.setNodeRef,style:{transform:F.transform,transition:F.transition,zIndex:F.isDragging?1:void 0},children:Hz(Zp,{size:"small",children:[F&&aa("div",{className:`${ld}__drag`,...F.attributes,...F.listeners,children:aa(cn,{})}),aa(Xp,{allowEdit:!a,allowRemove:!a,alt:S?.alt||S?.filename,byteSize:S.filesize,collectionSlug:w,displayPreview:n,filename:S.filename,id:T,mimeType:S?.mimeType,onRemove:()=>h(x),reloadDoc:c,src:I,thumbnailSrc:R,withMeta:!1,x:S?.width,y:S?.height})]})})},T)},e[20]=n,e[21]=s,e[22]=a,e[23]=c,e[24]=h,e[25]=u,e[26]=v):v=e[26],b=aa("div",{className:g,children:aa(Br,{className:`${ld}__draggable-rows`,ids:r?.map(Zz),onDragEnd:C,children:r.map(v)})}),e[8]=n,e[9]=r,e[10]=s,e[11]=m,e[12]=a,e[13]=c,e[14]=h,e[15]=u,e[16]=g,e[17]=b}else b=e[17];return b}function Zz(t){let{value:e}=t;return String(e.id)}import{jsx as XT}from"react/jsx-runtime";import{getBestFitFromSizes as Yz,isImage as Jz}from"payload/shared";import"react";var qz="upload upload--has-one";function ZT(t){let{className:e,displayPreview:o,fileDoc:n,onRemove:r,readonly:s,reloadDoc:i,serverURL:l}=t,{relationTo:a,value:c}=n,u=String(c?.id),d,m;if(c.url)try{d=new URL(c.url,l).toString()}catch{d=`${l}${c.url}`}if(c.thumbnailURL)try{m=new URL(c.thumbnailURL,l).toString()}catch{m=`${l}${c.thumbnailURL}`}return Jz(c.mimeType)&&(m=Yz({sizes:c.sizes,thumbnailURL:m,url:d,width:c.width})),XT(Zp,{className:[qz,e].filter(Boolean).join(" "),children:XT(Xp,{allowEdit:!s,allowRemove:!s,alt:c?.alt||c?.filename,byteSize:c.filesize,collectionSlug:a,displayPreview:o,filename:c.filename,id:u,mimeType:c?.mimeType,onRemove:r,reloadDoc:i,src:d,thumbnailSrc:m,x:c?.width,y:c?.height})})}var kn="upload";function Yp(t){let{AfterInput:e,allowCreate:o,api:n,BeforeInput:r,className:s,Description:i,description:l,displayPreview:a,Error:c,filterOptions:u,hasMany:d,isSortable:m,Label:f,label:h,localized:p,maxRows:g,onChange:b,path:C,readOnly:v,relationTo:y,required:x,serverURL:w,showError:S,style:T,value:I}=t,[R,F]=Sn.useState(),[_,D]=Sn.useState(Array.isArray(y)?y[0]:y),{openModal:A}=ae(),{drawerSlug:L,setCollectionSlug:E,setInitialFiles:k,setMaxFiles:B,setOnSuccess:$}=Qo(),{permissions:P}=Ie(),{code:M}=xe(),{i18n:j,t:O}=N(),G=qT(()=>({...u,[_]:{...u?.[_]||{},id:{...u?.[_]?.id||{},not_in:(u?.[_]?.id?.not_in||[]).concat(...Array.isArray(I)||I?[I]:[])}}}),[I,_,u]),[V,,{closeDrawer:z,openDrawer:X}]=qi({collectionSlugs:typeof y=="string"?[y]:y,filterOptions:G}),[Q,,{closeDrawer:U,openDrawer:ee}]=St({collectionSlug:_}),J=Sn.useRef(!1),re=qT(()=>o?!!(typeof _=="string"&&P?.collections&&P.collections?.[_]?.create):!1,[_,P,o]),ie=Sn.useCallback(q=>{typeof b=="function"&&b(q)},[b]),le=Sn.useCallback(async(q,ne)=>{if(!q.length)return;let te={depth:0,draft:!0,limit:q.length,locale:M,where:{and:[{id:{in:q}}]}},ce=await fetch(`${w}${n}/${ne}`,{body:QT.stringify(te),credentials:"include",headers:{"Accept-Language":j.language,"Content-Type":"application/x-www-form-urlencoded","X-Payload-HTTP-Method-Override":"GET"},method:"POST"});if(ce.ok){let he=await ce.json(),$e=q.map(me=>he.docs.find(ye=>String(ye.id)===String(me)));return $e.includes(void 0)&&d&&($e=$e.map((me,ye)=>me||{id:q[ye],filename:`${O("general:untitled")} - ID: ${q[ye]}`,isPlaceholder:!0})),{...he,docs:$e}}return null},[M,w,n,j.language,O,d]),Z=YT(q=>{if(d){let ne=[...Array.isArray(I)?I:[],...q.map(te=>te.id)];ie(ne),F(te=>[...te||[],...q.map(ce=>({relationTo:_,value:ce}))])}else{let ne=q[0];ie(ne.id),F([{relationTo:_,value:ne}])}},[I,ie,_,d]),pe=Sn.useCallback(q=>{let ne=q;if(!d&&q&&q.length>1){let te=new DataTransfer;te.items.add(q[0]),ne=te.files}ne&&k(ne),E(y),typeof g=="number"&&B(g),A(L)},[L,d,A,y,E,k,g,B]),be=Sn.useCallback(async q=>{let ne=[];for(let[ce,he]of q)he&&ne.push(ce);let te=await le(ne,_);te&&F(ce=>[...ce||[],...te.docs.map(he=>({relationTo:_,value:he}))]),ie([...Array.isArray(I)?I:[],...ne]),z()},[_,z,ie,le,I]),Ae=Sn.useCallback(q=>{q.doc&&(F(ne=>[...ne||[],{relationTo:_,value:q.doc}]),ie(q.doc.id)),U()},[U,_,ie]),ge=YT(async({collectionSlug:q,doc:ne})=>{let te=await le([ne.id],q),ce=te?te.docs?.[0]:null;F(he=>ce?d?[...he||[],{relationTo:_,value:ce}]:[{relationTo:_,value:ce}]:he),ie(d?[...Array.isArray(I)?I:[],ne.id]:ne.id),z()},[z,d,le,ie,I,_]),Te=Sn.useCallback(async(q,ne)=>{let{docs:te}=await le([q],ne);if(te[0]){let ce=[];F(he=>{let $e=he?.findIndex(me=>(me.value?.id===te[0].id||me.value?.isPlaceholder)&&me.relationTo===ne);if($e>-1){let me=[...he];return me[$e]={relationTo:ne,value:te[0]},ce=me,me}}),ce.length&&d&&ie(ce.map(he=>he.value?.id))}},[le,ie,d]),Y=Sn.useCallback(q=>{let ne=q.map(({value:te})=>te.id);ie(ne),F(q)},[ie]),de=Sn.useCallback(q=>{let ne=q?q.map(({value:te})=>te.id):null;ie(d?ne:ne?ne[0]:null),F(q||[])},[ie,d]);JT(()=>{async function q(){if(I){J.current=!0;let ne=await le(Array.isArray(I)?I:[I],_);ne&&F(ne.docs.map(te=>({relationTo:_,value:te})))}}J.current||q()},[le,_,I]),JT(()=>{$(Z)},[I,C,Z,$]);let H=!I||d&&Array.isArray(I)&&(typeof g!="number"||I.length<g)||!d&&R?.[0]&&typeof R[0].value>"u";return la("div",{className:[Re,kn,s,S&&"error",v&&"read-only"].filter(Boolean).join(" "),id:`field-${C?.replace(/\./g,"__")}`,style:T,children:[to(ue,{CustomComponent:f,Fallback:to(_e,{label:h,localized:p,path:C,required:x})}),to("div",{className:`${kn}__wrap`,children:to(ue,{CustomComponent:c,Fallback:to(Qe,{path:C,showError:S})})}),r,la("div",{className:`${kn}__dropzoneAndUpload`,children:[d&&Array.isArray(I)&&I.length>0?to(cd,{children:R&&R?.length>0?to(UT,{displayPreview:a,fileDocs:R,isSortable:m&&!v,onRemove:de,onReorder:Y,readonly:v,reloadDoc:Te,serverURL:w}):to("div",{className:`${kn}__loadingRows`,children:I.map(q=>to(Ft,{height:"40px"},q))})}):null,!d&&I?to(cd,{children:R&&R?.length>0&&R[0].value?to(ZT,{displayPreview:a,fileDoc:R[0],onRemove:de,readonly:v,reloadDoc:Te,serverURL:w}):R&&I&&!R?.[0]?.value?la(cd,{children:[O("general:untitled")," - ID: ",I]}):to(Ft,{height:"62px"})}):null,H?to(oa,{disabled:v||!re,multipleFiles:d,onChange:pe,children:la("div",{className:`${kn}__dropzoneContent`,children:[la("div",{className:`${kn}__dropzoneContent__buttons`,children:[re&&la(cd,{children:[to(oe,{buttonStyle:"pill",className:`${kn}__createNewToggler`,disabled:v||!re,onClick:()=>{v||(d?pe():ee())},size:"small",children:O("general:createNew")}),to("span",{className:`${kn}__dropzoneContent__orText`,children:O("general:or")})]}),to(oe,{buttonStyle:"pill",className:`${kn}__listToggler`,disabled:v,onClick:X,size:"small",children:O("fields:chooseFromExisting")}),to(Q,{onSave:Ae}),to(V,{allowCreate:re,enableRowSelections:d,onBulkSelect:be,onSelect:ge})]}),re&&!v&&la("p",{className:`${kn}__dragAndDropText`,children:[O("general:or")," ",O("upload:dragAndDrop")]})]})}):to(cd,{children:!v&&!R&&(!I||typeof g!="number"||Array.isArray(I)&&I.length<g)?to(Ft,{height:"40px"}):null})]}),e,to(ue,{CustomComponent:i,Fallback:to(Xe,{description:l,path:C})})]})}function eW(t){let{field:e,field:{admin:{allowCreate:o,className:n,description:r,isSortable:s}={},hasMany:i,label:l,localized:a,maxRows:c,relationTo:u,required:d},path:m,readOnly:f,validate:h}=t,{config:p}=W(),g=e.displayPreview,b=Qz.useCallback((A,L)=>{if(typeof h=="function")return h(A,{...L,required:d})},[h,d]),{customComponents:{AfterInput:C,BeforeInput:v,Description:y,Error:x,Label:w}={},disabled:S,filterOptions:T,path:I,setValue:R,showError:F,value:_}=Ne({potentiallyStalePath:m,validate:b}),D=Kz(()=>rt(e),[e]);return KT(r0,{drawerSlugPrefix:m,children:KT(Yp,{AfterInput:C,allowCreate:o!==!1,api:p.routes.api,BeforeInput:v,className:n,Description:y,description:r,displayPreview:g,Error:x,filterOptions:T,hasMany:i,isSortable:s,label:l,Label:w,localized:a,maxRows:c,onChange:R,path:I,readOnly:f||S,relationTo:u,required:d,serverURL:p.serverURL,showError:F,style:D,value:_})})}var ud=ze(eW);function Fl(t){let e=tW(13),{clientFieldConfig:o,forceRender:n,indexPath:r,parentPath:s,parentSchemaPath:i,path:l,permissions:a,readOnly:c,schemaPath:u}=t,d;e[0]!==l?(d=h=>{let[p]=h;return p&&p?.[l]?.customComponents?.Field},e[0]=l,e[1]=d):d=e[1];let m=Lt(d);if(m!==void 0)return m||null;let f;if(e[2]!==o||e[3]!==n||e[4]!==r||e[5]!==s||e[6]!==i||e[7]!==l||e[8]!==a||e[9]!==c||e[10]!==u){f=Symbol.for("react.early_return_sentinel");e:{let h={forceRender:n,permissions:a,readOnly:c,schemaPath:u},p={...h,indexPath:r,parentPath:s,parentSchemaPath:i};if(o.admin?.hidden){f=Ut(mu,{...h,path:l});break e}switch(o.type){case"array":{f=Ut(dd,{...p,field:o,path:l});break e}case"blocks":{f=Ut(Wc,{...p,field:o,path:l});break e}case"checkbox":{f=Ut(Vr,{...h,field:o,path:l});break e}case"code":{f=Ut(Uc,{...h,field:o,path:l});break e}case"collapsible":{f=Ut(Zc,{...p,field:o,path:l});break e}case"date":{f=Ut(uu,{...h,field:o,path:l});break e}case"email":{f=Ut(Wi,{...h,field:o,path:l});break e}case"group":{f=Ut(du,{...p,field:o,path:l});break e}case"join":{f=Ut(xu,{...h,field:o,path:l});break e}case"json":{f=Ut(wu,{...h,field:o,path:l});break e}case"number":{f=Ut(Su,{...h,field:o,path:l});break e}case"point":{f=Ut(Iu,{...h,field:o,path:l});break e}case"radio":{f=Ut(Tu,{...h,field:o,path:l});break e}case"relationship":{f=Ut(Lu,{...h,field:o,path:l});break e}case"richText":{f=Ut($u,{...h,field:o,path:l});break e}case"row":{f=Ut(ku,{...p,field:o});break e}case"select":{f=Ut(ju,{...h,field:o,path:l});break e}case"tabs":{f=Ut(Vu,{...p,field:o,path:l});break e}case"text":{f=Ut(ta,{...h,field:o,path:l});break e}case"textarea":{f=Ut(Gu,{...h,field:o,path:l});break e}case"ui":{let g;e[12]===Symbol.for("react.memo_cache_sentinel")?(g=Ut(zu,{}),e[12]=g):g=e[12],f=g;break e}case"upload":{f=Ut(ud,{...h,field:o,path:l});break e}}}e[2]=o,e[3]=n,e[4]=r,e[5]=s,e[6]=i,e[7]=l,e[8]=a,e[9]=c,e[10]=u,e[11]=f}else f=e[11];if(f!==Symbol.for("react.early_return_sentinel"))return f}var s0="render-fields",jo=t=>{let e=oW(22),{className:o,fields:n,forceRender:r,margins:s,parentIndexPath:i,parentPath:l,parentSchemaPath:a,permissions:c,readOnly:u}=t,d=yr();if(n&&n.length>0){let m=s&&`${s0}--margins-${s}`,f=s===!1&&`${s0}--margins-none`,h;e[0]!==o||e[1]!==m||e[2]!==f?(h=[s0,o,m,f].filter(Boolean),e[0]=o,e[1]=m,e[2]=f,e[3]=h):h=e[3];let p=h.join(" "),g;if(e[4]!==n||e[5]!==r||e[6]!==d||e[7]!==i||e[8]!==l||e[9]!==a||e[10]!==c||e[11]!==u||e[12]!==p){let b;e[14]!==r||e[15]!==d||e[16]!==i||e[17]!==l||e[18]!==a||e[19]!==c||e[20]!==u?(b=(C,v)=>{if(!C||rW(C))return null;let{operation:y,permissions:x,read:w}=sW({field:C,operation:d,parentName:l?.includes(".")?l.split(".")[l.split(".").length-1]:l,permissions:c});if("name"in C&&!w)return null;let S=u||C?.admin?.readOnly;S&&C.admin?.readOnly===!1&&(S=!1),"name"in C&&!y&&(S=!0);let{indexPath:T,path:I,schemaPath:R}=nW({field:C,index:v,parentIndexPath:i,parentPath:l,parentSchemaPath:a});return n0(kc,{value:I,children:n0(Fl,{clientFieldConfig:C,forceRender:r,indexPath:T,parentPath:l,parentSchemaPath:a,path:I,permissions:x,readOnly:S,schemaPath:R})},`${I}-${v}`)},e[14]=r,e[15]=d,e[16]=i,e[17]=l,e[18]=a,e[19]=c,e[20]=u,e[21]=b):b=e[21],g=n0(Z2,{className:p,forceRender:r,children:n.map(b)}),e[4]=n,e[5]=r,e[6]=d,e[7]=i,e[8]=l,e[9]=a,e[10]=c,e[11]=u,e[12]=p,e[13]=g}else g=e[13];return g}return null};var md="array-field",eF=t=>{let e=iW(44),{addRow:o,attributes:n,copyRow:r,CustomRowLabel:s,duplicateRow:i,errorCount:l,fields:a,forceRender:c,hasMaxRows:u,isDragging:d,isLoading:m,isSortable:f,labels:h,listeners:p,moveRow:g,parentPath:b,pasteRow:C,path:v,permissions:y,readOnly:x,removeRow:w,row:S,rowCount:T,rowIndex:I,schemaPath:R,setCollapse:F,setNodeRef:_,transform:D,transition:A}=t,L=c===void 0?!1:c,E=lf(m,500),{i18n:k}=N(),B=fo(),$=`${lW(h.singular,k)} ${String(I+1).padStart(2,"0")}`,P=l>0&&B,M=P?`${md}__row--has-errors`:`${md}__row--no-errors`,j;e[0]!==M?(j=[`${md}__row`,M].filter(Boolean),e[0]=M,e[1]=j):j=e[1];let O=j.join(" "),G=`${b.split(".").join("-")}-row-${I}`,V=d?1:void 0,z;if(e[2]!==s||e[3]!==o||e[4]!==n||e[5]!==O||e[6]!==r||e[7]!==i||e[8]!==l||e[9]!==$||e[10]!==P||e[11]!==a||e[12]!==L||e[13]!==u||e[14]!==k||e[15]!==E||e[16]!==f||e[17]!==p||e[18]!==g||e[19]!==b||e[20]!==C||e[21]!==v||e[22]!==y||e[23]!==x||e[24]!==w||e[25]!==S.collapsed||e[26]!==S.id||e[27]!==T||e[28]!==I||e[29]!==R||e[30]!==F||e[31]!==_||e[32]!==G||e[33]!==V||e[34]!==D||e[35]!==A){let X;e[37]!==l||e[38]!==P||e[39]!==k?(X=P&&ai(Io,{count:l,i18n:k,withMessage:!0}),e[37]=l,e[38]=P,e[39]=k,e[40]=X):X=e[40];let Q;e[41]!==S.id||e[42]!==F?(Q=U=>F(S.id,U),e[41]=S.id,e[42]=F,e[43]=Q):Q=e[43],z=ai("div",{id:G,ref:_,style:{transform:D,transition:A,zIndex:V},children:ai(Ni,{actions:x?void 0:ai(sf,{addRow:o,copyRow:r,duplicateRow:i,hasMaxRows:u,index:I,isSortable:f,moveRow:g,pasteRow:C,removeRow:w,rowCount:T}),className:O,collapsibleStyle:P?"error":"default",dragHandleProps:f?{id:S.id,attributes:n,listeners:p}:void 0,header:aW("div",{className:`${md}__row-header`,children:[E?ai(Ft,{height:"1rem",width:"8rem"}):ai(Zn,{CustomComponent:s,label:$,path:v,rowNumber:I}),X]}),isCollapsed:S.collapsed,onToggle:Q,children:E?ai(Ft,{}):ai(jo,{className:`${md}__fields`,fields:a,forceRender:L,margins:"small",parentIndexPath:"",parentPath:v,parentSchemaPath:R,permissions:y===!0?y:y?.fields,readOnly:x})})},`${b}-row-${S.id}`),e[2]=s,e[3]=o,e[4]=n,e[5]=O,e[6]=r,e[7]=i,e[8]=l,e[9]=$,e[10]=P,e[11]=a,e[12]=L,e[13]=u,e[14]=k,e[15]=E,e[16]=f,e[17]=p,e[18]=g,e[19]=b,e[20]=C,e[21]=v,e[22]=y,e[23]=x,e[24]=w,e[25]=S.collapsed,e[26]=S.id,e[27]=T,e[28]=I,e[29]=R,e[30]=F,e[31]=_,e[32]=G,e[33]=V,e[34]=D,e[35]=A,e[36]=z}else z=e[36];return z};var Ar="array-field",mW=t=>{let e=cW(73),{field:o,forceRender:n,path:r,permissions:s,readOnly:i,schemaPath:l,validate:a}=t,{name:c,type:u,admin:d,fields:m,label:f,localized:h,maxRows:p,minRows:g,required:b}=o,C;e[0]!==d?(C=d===void 0?{}:d,e[0]=d,e[1]=C):C=e[1];let{className:v,description:y,isSortable:x}=C,w=x===void 0?!0:x,S=n===void 0?!1:n,T=l??c,I=g??b?1:0,{setDocFieldPreferences:R}=De(),{addFieldRow:F,dispatchFields:_,getFields:D,moveFieldRow:A,removeFieldRow:L,replaceState:E,setModified:k}=Ve(),B=fo(),{code:$}=xe(),{i18n:P,t:M}=N(),{config:j}=W(),{localization:O}=j,G;e:{if(O&&O.fallback){let je=O.defaultLocale;G=$===je;break e}G=!0}let V=G,z;e[2]!==M?(z=je=>"labels"in je&&je?.labels?je.labels:"labels"in je.field&&je.field.labels?{plural:je.field.labels?.plural,singular:je.field.labels?.singular}:"label"in je.field&&je.field.label?{plural:void 0,singular:je.field.label}:{plural:M("general:rows"),singular:M("general:row")},e[2]=M,e[3]=z):z=e[3];let Q=z(t),U;e[4]!==V||e[5]!==p||e[6]!==I||e[7]!==b||e[8]!==a?(U=(je,xt)=>{if(!V&&je===null)return!0;if(typeof a=="function")return a(je,{...xt,maxRows:p,minRows:I,required:b})},e[4]=V,e[5]=p,e[6]=I,e[7]=b,e[8]=a,e[9]=U):U=e[9];let ee=U,J;e[10]!==ee||e[11]!==r?(J={hasRows:!0,potentiallyStalePath:r,validate:ee},e[10]=ee,e[11]=r,e[12]=J):J=e[12];let{customComponents:re,disabled:ie,errorPaths:le,path:Z,rows:pe,showError:be,valid:Ae,value:ge}=Ne(J),Te;e[13]!==re?(Te=re===void 0?{}:re,e[13]=re,e[14]=Te):Te=e[14];let{AfterInput:Y,BeforeInput:de,Description:H,Error:q,Label:ne}=Te,te;e[15]!==pe?(te=pe===void 0?[]:pe,e[15]=pe,e[16]=te):te=e[16];let ce=te,he;e[17]!==F||e[18]!==Z||e[19]!==T?(he=je=>{F({path:Z,rowIndex:je,schemaPath:T}),setTimeout(()=>{Za(`${Z}-row-${je}`)},0)},e[17]=F,e[18]=Z,e[19]=T,e[20]=he):he=e[20];let $e=he,me;e[21]!==_||e[22]!==Z||e[23]!==k?(me=je=>{_({type:"DUPLICATE_ROW",path:Z,rowIndex:je}),k(!0),setTimeout(()=>{Za(`${Z}-row-${je}`)},0)},e[21]=_,e[22]=Z,e[23]=k,e[24]=me):me=e[24];let ye=me,Be;e[25]!==Z||e[26]!==L?(Be=je=>{L({path:Z,rowIndex:je})},e[25]=Z,e[26]=L,e[27]=Be):Be=e[27];let Oe=Be,ke;e[28]!==A||e[29]!==Z?(ke=(je,xt)=>{A({moveFromIndex:je,moveToIndex:xt,path:Z})},e[28]=A,e[29]=Z,e[30]=ke):ke=e[30];let He=ke,at;e[31]!==_||e[32]!==Z||e[33]!==ce||e[34]!==R?(at=je=>{let{collapsedIDs:xt,updatedRows:tt}=Jm({collapsed:je,rows:ce});R(Z,{collapsed:xt}),_({type:"SET_ALL_ROWS_COLLAPSED",path:Z,updatedRows:tt})},e[31]=_,e[32]=Z,e[33]=ce,e[34]=R,e[35]=at):at=e[35];let ht=at,Ke;e[36]!==_||e[37]!==Z||e[38]!==ce||e[39]!==R?(Ke=(je,xt)=>{let{collapsedIDs:tt,updatedRows:Ue}=Ym({collapsed:xt,rowID:je,rows:ce});_({type:"SET_ROW_COLLAPSED",path:Z,updatedRows:Ue}),R(Z,{collapsed:tt})},e[36]=_,e[37]=Z,e[38]=ce,e[39]=R,e[40]=Ke):Ke=e[40];let Dt=Ke,dt;e[41]!==m||e[42]!==D||e[43]!==Z||e[44]!==M||e[45]!==u?(dt=je=>{let xt={...D()},tt=Pa({type:u,fields:m,getDataToCopy:()=>$a({formState:xt,path:Z,rowIndex:je}),path:Z,rowIndex:je,t:M});typeof tt=="string"?K.error(tt):K.success(M("general:copied"))},e[41]=m,e[42]=D,e[43]=Z,e[44]=M,e[45]=u,e[46]=dt):dt=e[46];let no=dt,gt;e[47]!==m||e[48]!==D||e[49]!==Z||e[50]!==E||e[51]!==k||e[52]!==M?(gt=je=>{let xt={...D()},Ue=Ea({onPaste:io=>{let Ao=ka({dataFromClipboard:io,formState:xt,path:Z,rowIndex:je});E(Ao),k(!0)},path:Z,schemaFields:m,t:M});typeof Ue=="string"&&K.error(Ue)},e[47]=m,e[48]=D,e[49]=Z,e[50]=E,e[51]=k,e[52]=M,e[53]=gt):gt=e[53];let so=gt,Co;e[54]!==D||e[55]!==Z||e[56]!==E||e[57]!==k?(Co=je=>{let xt={...D()},tt=ka({dataFromClipboard:je,formState:xt,path:Z});E(tt),k(!0)},e[54]=D,e[55]=Z,e[56]=E,e[57]=k,e[58]=Co):Co=e[58];let se=Co,Ce;e[59]!==D||e[60]!==Z?(Ce=()=>$a({formState:{...D()},path:Z}),e[59]=D,e[60]=Z,e[61]=Ce):Ce=e[61];let fe=Ce,Se=p&&ce.length>=p,we=le.length,Me=B&&le.length>0,Ze=(i||ie)&&ce.length===0,Je=ce.length&&ce.length<I||b&&ce.length===0,Ye=Me?`${Ar}--has-error`:`${Ar}--has-no-error`,Tt;e[62]!==v||e[63]!==Ye?(Tt=[Re,Ar,v,Ye].filter(Boolean),e[62]=v,e[63]=Ye,e[64]=Tt):Tt=e[64];let yo;e[65]!==q||e[66]!==Z||e[67]!==be?(yo=be&&bo(ue,{CustomComponent:q,Fallback:bo(Qe,{path:Z,showError:be})}),e[65]=q,e[66]=Z,e[67]=be,e[68]=yo):yo=e[68];let Yt;return e[69]!==we||e[70]!==Me||e[71]!==P?(Yt=Me&&we>0&&bo(Io,{count:we,i18n:P,withMessage:!0}),e[69]=we,e[70]=Me,e[71]=P,e[72]=Yt):Yt=e[72],li("div",{className:Tt.join(" "),id:`field-${Z.replace(/\./g,"__")}`,children:[yo,li("header",{className:`${Ar}__header`,children:[li("div",{className:`${Ar}__header-wrap`,children:[li("div",{className:`${Ar}__header-content`,children:[bo("h3",{className:`${Ar}__title`,children:bo(ue,{CustomComponent:ne,Fallback:bo(_e,{as:"span",label:f,localized:h,path:Z,required:b})})}),Yt]}),li("ul",{className:`${Ar}__header-actions`,children:[ce?.length>0&&li(dW,{children:[bo("li",{children:bo("button",{className:`${Ar}__header-action`,onClick:()=>ht(!0),type:"button",children:M("fields:collapseAll")})}),bo("li",{children:bo("button",{className:`${Ar}__header-action`,onClick:()=>ht(!1),type:"button",children:M("fields:showAll")})})]}),bo("li",{children:bo(_m,{allowCopy:ce?.length>0,allowPaste:!i,className:`${Ar}__header-action`,disabled:ie,fields:m,getDataToCopy:fe,onPaste:se,path:Z,type:u})})]})]}),bo(ue,{CustomComponent:H,Fallback:bo(Xe,{description:y,path:Z})})]}),bo(Oc,{fieldValue:ge,localized:h,path:Z}),de,(ce?.length>0||!Ae&&(Ze||Je))&&li(Br,{className:`${Ar}__draggable-rows`,ids:ce.map(fW),onDragEnd:je=>{let{moveFromIndex:xt,moveToIndex:tt}=je;return He(xt,tt)},children:[ce.map((je,xt)=>{let{id:tt,isLoading:Ue}=je,io=`${Z}.${xt}`,Ao=le?.filter(Wt=>Wt.startsWith(io+".")).length;return bo(Dn,{disabled:i||ie||!w,id:tt,children:Wt=>bo(eF,{...Wt,addRow:$e,copyRow:no,CustomRowLabel:ce?.[xt]?.customComponents?.RowLabel,duplicateRow:ye,errorCount:Ao,fields:m,forceRender:S,hasMaxRows:Se,isLoading:Ue,isSortable:w,labels:Q,moveRow:He,parentPath:Z,pasteRow:so,path:io,permissions:s,readOnly:i||ie,removeRow:Oe,row:je,rowCount:ce?.length,rowIndex:xt,schemaPath:T,setCollapse:Dt})},tt)}),!Ae&&li(uW.Fragment,{children:[Ze&&bo(nn,{children:M("validation:fieldHasNo",{label:i0(Q.plural,P)})}),Je&&bo(nn,{type:"error",children:M("validation:requiresAtLeast",{count:I,label:i0(I>1?Q.plural:Q.singular,P)||M(I>1?"general:rows":"general:row")})})]})]}),!Se&&!i&&bo(oe,{buttonStyle:"icon-label",className:`${Ar}__add-row`,disabled:ie,icon:"plus",iconPosition:"left",iconStyle:"with-border",onClick:()=>{$e(ge||0)},children:M("fields:addLabel",{label:i0(Q.singular,P)})}),Y]})},dd=ze(mW);function fW(t){return t.id}import{c as pW}from"react/compiler-runtime";import{jsx as a0,jsxs as tF}from"react/jsx-runtime";import{confirmPassword as hW}from"payload/shared";import"react";var fd=t=>{let e=pW(12),{disabled:o,path:n}=t,r=n===void 0?"confirm-password":n,{t:s}=N(),i;e[0]!==r?(i={path:r,validate:gW},e[0]=r,e[1]=i):i=e[1];let{disabled:l,setValue:a,showError:c,value:u}=Ne(i),d=c&&"error",m;e[2]!==d?(m=[Re,"confirm-password",d].filter(Boolean),e[2]=d,e[3]=m):m=e[3];let f=m.join(" "),h;return e[4]!==l||e[5]!==o||e[6]!==r||e[7]!==a||e[8]!==s||e[9]!==f||e[10]!==u?(h=tF("div",{className:f,children:[a0(_e,{htmlFor:"field-confirm-password",label:s("authentication:confirmPassword"),required:!0}),tF("div",{className:`${Re}__wrap`,children:[a0(Qe,{path:r}),a0("input",{"aria-label":s("authentication:confirmPassword"),autoComplete:"off",disabled:!!(l||o),id:"field-confirm-password",name:"confirm-password",onChange:a,type:"password",value:u||""})]})]}),e[4]=l,e[5]=o,e[6]=r,e[7]=a,e[8]=s,e[9]=f,e[10]=u,e[11]=h):h=e[11],h};function gW(t,e){return hW(t,{name:"confirm-password",type:"text",required:!0,...e})}import{jsx as vW}from"react/jsx-runtime";import{password as CW}from"payload/shared";import{useCallback as yW,useMemo as xW}from"react";import{c as bW}from"react/compiler-runtime";import{jsx as ca,jsxs as l0}from"react/jsx-runtime";import{getTranslation as oF}from"@payloadcms/translations";import"react";var rF=t=>{let e=bW(28),{AfterInput:o,autoComplete:n,BeforeInput:r,className:s,description:i,Description:l,Error:a,inputRef:c,Label:u,label:d,localized:m,onChange:f,onKeyDown:h,path:p,placeholder:g,readOnly:b,required:C,rtl:v,showError:y,style:x,value:w,width:S}=t,T=n===void 0?"off":n,{i18n:I}=N(),R=y&&"error",F=b&&"read-only",_;e[0]!==s||e[1]!==R||e[2]!==F?(_=[Re,"password",s,R,F].filter(Boolean),e[0]=s,e[1]=R,e[2]=F,e[3]=_):_=e[3];let D=_.join(" "),A;return e[4]!==o||e[5]!==r||e[6]!==l||e[7]!==a||e[8]!==u||e[9]!==T||e[10]!==i||e[11]!==I||e[12]!==c||e[13]!==d||e[14]!==m||e[15]!==f||e[16]!==h||e[17]!==p||e[18]!==g||e[19]!==b||e[20]!==C||e[21]!==v||e[22]!==y||e[23]!==x||e[24]!==D||e[25]!==w||e[26]!==S?(A=l0("div",{className:D,style:{...x,width:S},children:[ca(ue,{CustomComponent:u,Fallback:ca(_e,{label:d,localized:m,path:p,required:C})}),l0("div",{className:`${Re}__wrap`,children:[ca(ue,{CustomComponent:a,Fallback:ca(Qe,{path:p,showError:y})}),l0("div",{children:[r,ca("input",{"aria-label":oF(d,I),autoComplete:T,"data-rtl":v,disabled:b,id:`field-${p.replace(/\./g,"__")}`,name:p,onChange:f,onKeyDown:h,placeholder:oF(g,I),ref:c,type:"password",value:w||""}),o]}),ca(ue,{CustomComponent:l,Fallback:ca(Xe,{description:i,path:p})})]})]}),e[4]=o,e[5]=r,e[6]=l,e[7]=a,e[8]=u,e[9]=T,e[10]=i,e[11]=I,e[12]=c,e[13]=d,e[14]=m,e[15]=f,e[16]=h,e[17]=p,e[18]=g,e[19]=b,e[20]=C,e[21]=v,e[22]=y,e[23]=x,e[24]=D,e[25]=w,e[26]=S,e[27]=A):A=e[27],A};var wW=t=>{let{autoComplete:e,field:o,field:{admin:{className:n,disabled:r,placeholder:s,rtl:i}={},label:l,localized:a,required:c}={},inputRef:u,path:d,validate:m}=t,{t:f}=N(),h=xe(),{config:p}=W(),g=yW((_,D)=>{let A=d?d.split("."):[];return typeof m=="function"?m(_,{...D,required:c}):CW(_,{name:"password",type:"text",blockData:{},data:{},event:"onChange",path:A,preferences:{fields:{}},req:{payload:{config:p},t:f},required:!0,siblingData:{}})},[m,p,f,c,d]),{customComponents:{AfterInput:b,BeforeInput:C,Description:v,Error:y,Label:x}={},disabled:w,setValue:S,showError:T,value:I}=Ne({path:d,validate:g}),R=Xa({fieldLocalized:!1,fieldRTL:i,locale:h,localizationConfig:p.localization||void 0}),F=xW(()=>rt(o),[o]);return vW(rF,{AfterInput:b,autoComplete:e,BeforeInput:C,className:n,Description:v,Error:y,inputRef:u,Label:x,label:l,localized:a,onChange:_=>{S(_.target.value)},path:d,placeholder:s,readOnly:w||r,required:c,rtl:R,showError:T,style:F,value:I||""})},pd=ze(wW);var nF={array:dd,blocks:Wc,checkbox:Vr,code:Uc,collapsible:Zc,confirmPassword:fd,date:uu,email:Wi,group:du,hidden:mu,join:xu,json:wu,number:Su,password:pd,point:Iu,radio:Tu,relationship:Lu,richText:$u,row:ku,select:ju,tabs:Vu,text:ta,textarea:Gu,ui:zu,upload:ud},SW={...nF,Description:Xe,Error:Qe,Label:_e,RowLabel:Zn};import{c as IW}from"react/compiler-runtime";import{setsAreEqual as _W}from"payload/shared";import{useEffect as DW}from"react";var ys=new Map([]),TW={altleft:"alt",altright:"alt",controlleft:"ctrl",controlright:"ctrl",ctrlleft:"ctrl",ctrlright:"ctrl",escape:"esc",metaleft:"meta",metaright:"meta",osleft:"meta",osright:"meta",shiftleft:"shift",shiftright:"shift"},sF=t=>(TW[t.toLowerCase()]||t).trim().toLowerCase().replace("key",""),FW=t=>{let e=sF(t);e==="meta"&&ys.forEach((o,n)=>n!=="meta"&&ys.delete(n)),ys.set(e,Date.now())},RW=t=>{let e=sF(t);e==="meta"&&ys.clear(),ys.delete(e)},ua=(t,e)=>{let o=IW(9),{cmdCtrlKey:n,editDepth:r,keyCodes:s}=t,{modalState:i}=ae(),l;o[0]!==n||o[1]!==r||o[2]!==e||o[3]!==s||o[4]!==i?(l=m=>{let f=m.detail?.key?m.detail:m;if(f.key===void 0)return;ys.forEach(AW),f.code&&FW(f.code);let h=window.navigator.userAgent.includes("Mac OS X"),p=[...ys.keys()].filter(PW);if(_W(new Set(p),new Set(s))&&(!n||h&&ys.has("meta")||!h&&f.ctrlKey)){if((Object.keys(i).filter(b=>i[b]?.isOpen)?.length+1||1)!==r)return;e(f)}},o[0]=n,o[1]=r,o[2]=e,o[3]=s,o[4]=i,o[5]=l):l=o[5];let a=l,c=EW,u,d;o[6]!==a?(u=()=>(document.addEventListener("keydown",a,!1),document.addEventListener("bypassKeyDown",a,!1),document.addEventListener("keyup",c,!1),()=>{document.removeEventListener("keydown",a),document.removeEventListener("bypassKeyDown",a),document.removeEventListener("keyup",c)}),d=[a,c],o[6]=a,o[7]=u,o[8]=d):(u=o[7],d=o[8]),DW(u,d)};function AW(t,e){Date.now()-t>3e3&&ys.delete(e)}function PW(t){return!["alt","ctrl","meta","shift"].includes(t)}function EW(t){t.code&&RW(t.code)}import{c as NW}from"react/compiler-runtime";import*as aF from"qs-esm";import{useEffect as iF,useRef as LW,useState as Jp}from"react";var $W=(t,e)=>{let o=NW(32),n;o[0]!==e?(n=e===void 0?{}:e,o[0]=e,o[1]=n):n=o[1];let r=n,{initialData:s,initialParams:i}=r,l;o[2]!==i?(l=i===void 0?{}:i,o[2]=i,o[3]=l):l=o[3];let a=l,{i18n:c}=N(),u;o[4]!==s?(u=s||{},o[4]=s,o[5]=u):u=o[5];let[d,m]=Jp(u),[f,h]=Jp(a),[p,g]=Jp(!s),[b,C]=Jp(!1),{code:v}=xe(),y=LW(!1),x;if(o[6]!==v||o[7]!==f){let A;o[9]!==f?(A=typeof f=="object"?f:{},o[9]=f,o[10]=A):A=o[10],x=aF.stringify({locale:v,...A},{addQueryPrefix:!0}),o[6]=v,o[7]=f,o[8]=x}else x=o[8];let w=x,S;o[11]!==c.language||o[12]!==s||o[13]!==w||o[14]!==t?(S=()=>{if(s&&!y.current){y.current=!0;return}let A=new AbortController;return t?(async()=>{C(!1),g(!0);try{let E=await Ge.get(`${t}${w}`,{headers:{"Accept-Language":c.language},signal:A.signal});E.status>201&&C(!0);let k=await E.json();m(k),g(!1)}catch{A.signal.aborted||(C(!0),g(!1))}})():(C(!1),g(!1)),()=>{try{A.abort()}catch(E){let k=E}}},o[11]=c.language,o[12]=s,o[13]=w,o[14]=t,o[15]=S):S=o[15];let T;o[16]!==c.language||o[17]!==s||o[18]!==v||o[19]!==w||o[20]!==t?(T=[t,v,w,c.language,s],o[16]=c.language,o[17]=s,o[18]=v,o[19]=w,o[20]=t,o[21]=T):T=o[21],iF(S,T);let I,R;o[22]!==s?(I=()=>{s&&y.current&&m(s)},R=[s],o[22]=s,o[23]=I,o[24]=R):(I=o[23],R=o[24]),iF(I,R);let F;o[25]!==d||o[26]!==b||o[27]!==p?(F={data:d,isError:b,isLoading:p},o[25]=d,o[26]=b,o[27]=p,o[28]=F):F=o[28];let _;o[29]===Symbol.for("react.memo_cache_sentinel")?(_={setParams:h},o[29]=_):_=o[29];let D;return o[30]!==F?(D=[F,_],o[30]=F,o[31]=D):D=o[31],D};import{c as kW}from"react/compiler-runtime";import{useEffect as jW,useState as BW}from"react";var qp=t=>{let e=kW(5),[o,n]=BW(),r,s;e[0]!==t?(r=()=>{let l;return t&&(l=new ResizeObserver(a=>{a.forEach(c=>{let{contentBoxSize:u,contentRect:d}=c,m=0,f=0;if(u){let h=Array.isArray(u)?u[0]:u;if(h){let{blockSize:p,inlineSize:g}=h;m=g,f=p}}else if(d){let{height:h,width:p}=d;m=p,f=h}n({height:f,width:m})})}),l.observe(t)),()=>{l&&l.unobserve(t)}},s=[t],e[0]=t,e[1]=r,e[2]=s):(r=e[1],s=e[2]),jW(r,s);let i;return e[3]!==o?(i={size:o},e[3]=o,e[4]=i):i=e[4],i};import{c as MW}from"react/compiler-runtime";import{flattenTopLevelFields as OW}from"payload/shared";var c0=t=>{let e=MW(4),{admin:o,fields:n}=t,{useAsTitle:r}=o,{i18n:s}=N(),i;return e[0]!==n||e[1]!==s||e[2]!==r?(i=OW(n,{i18n:s,moveSubFieldsToTop:!0})?.find(a=>"name"in a&&a.name===r),e[0]=n,e[1]=s,e[2]=r,e[3]=i):i=e[3],i};import{c as lF}from"react/compiler-runtime";import{jsx as jl}from"react/jsx-runtime";import{useEffect as VW,useRef as GW}from"react";import{jsx as Qp}from"react/jsx-runtime";import"react";var hd=({className:t})=>Qp("svg",{className:"icon icon--sort",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:Qp("path",{className:"fill",d:"M2.5 13.3333L5.83333 16.6667M5.83333 16.6667L9.16667 13.3333M5.83333 16.6667V3.33333M9.16667 7.08333H17.5M9.16667 10.4167H15M11.6667 13.75H12.5",stroke:"#2F2F2F",strokeLinecap:"round",strokeLinejoin:"round"})}),gd=({className:t})=>Qp("svg",{className:"icon icon--sort",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:Qp("path",{className:"fill",d:"M2.5 6.66668L5.83333 3.33334M5.83333 3.33334L9.16667 6.66668M5.83333 3.33334V16.6667M11.6667 7.08354H17.5M9.16667 10.4169H15M9.16667 13.7502H12.5",stroke:"#2F2F2F",strokeLinecap:"round",strokeLinejoin:"round"})});var xs="sort-header";function zW(){let t=lF(12),{handleSortChange:e,orderableFieldName:o,query:n}=st(),r=Array.isArray(n.sort)?n.sort[0]:n.sort,s=GW(r===`-${o}`?"desc":"asc"),i=r===`-${o}`||r===o,l,a;t[0]!==i||t[1]!==o||t[2]!==r?(l=()=>{i&&(s.current=r===`-${o}`?"desc":"asc")},a=[o,r,i],t[0]=i,t[1]=o,t[2]=r,t[3]=l,t[4]=a):(l=t[3],a=t[4]),VW(l,a);let c;t[5]!==e||t[6]!==i||t[7]!==o?(c=()=>{if(i){e(s.current==="asc"?`-${o}`:o),s.current=s.current==="asc"?"desc":"asc";return}e(s.current==="asc"?o:`-${o}`)},t[5]=e,t[6]=i,t[7]=o,t[8]=c):c=t[8];let u=c,d;return t[9]!==u||t[10]!==i?(d={handleSortPress:u,isActive:i,sort:s},t[9]=u,t[10]=i,t[11]=d):d=t[11],d}var WW=t=>{let e=lF(8),{appearance:o}=t,{handleSortPress:n,isActive:r,sort:s}=zW(),{t:i}=N(),l=o&&`${xs}--appearance-${o}`,a;e[0]!==l?(a=[xs,l].filter(Boolean),e[0]=l,e[1]=a):a=e[1];let c=a.join(" "),u;return e[2]!==n||e[3]!==r||e[4]!==s.current||e[5]!==i||e[6]!==c?(u=jl("div",{className:c,children:jl("div",{className:`${xs}__buttons`,children:s.current==="desc"?jl("button",{"aria-label":i("general:sortByLabelDirection",{direction:i("general:ascending"),label:"Order"}),className:`${xs}__button ${xs}__${s.current} ${r?`${xs}--active`:""}`,onClick:n,type:"button",children:jl(hd,{})}):jl("button",{"aria-label":i("general:sortByLabelDirection",{direction:i("general:descending"),label:"Order"}),className:`${xs}__button ${xs}__${s.current} ${r?`${xs}--active`:""}`,onClick:n,type:"button",children:jl(gd,{})})})}),e[2]=n,e[3]=r,e[4]=s.current,e[5]=i,e[6]=c,e[7]=u):u=e[7],u};import{c as HW}from"react/compiler-runtime";import{jsx as cF}from"react/jsx-runtime";import"react";var uF="sort-row",UW=()=>{let t=HW(2),{orderableFieldName:e,query:o}=st(),n=o.sort===e||o.sort===`-${e}`,r=`${uF} ${n?"active":""}`,s;return t[0]!==r?(s=cF("div",{className:r,role:"button",tabIndex:0,children:cF(cn,{className:`${uF}__icon`})}),t[0]=r,t[1]=s):s=t[1],s};import{jsx as jn,jsxs as m0}from"react/jsx-runtime";import{DragOverlay as XW}from"@dnd-kit/core";import{useEffect as ZW,useState as f0}from"react";import{jsx as Kp}from"react/jsx-runtime";var u0=({cellMap:t,columns:e,dragAttributes:o={},dragListeners:n={},rowId:r,...s})=>Kp("tr",{...s,children:e.map((i,l)=>{let{accessor:a}=i,c=i.renderedCells[t[r]];return a==="_dragHandle"?Kp("td",{className:`cell-${a}`,children:Kp("div",{...o,...n,children:c})},l):Kp("td",{className:`cell-${a}`,children:c},l)})});import{jsx as d0}from"react/jsx-runtime";var dF=({children:t,className:e,rowId:o})=>typeof o>"u"?null:d0("div",{className:e,children:d0("table",{cellPadding:0,cellSpacing:0,children:d0("tbody",{children:t})})});var eh="table",YW=({appearance:t="default",BeforeTable:e,collection:o,columns:n,data:r})=>{let{config:s}=W(),{data:i,orderableFieldName:l,query:a}=st(),c=i?.docs||r,[u,d]=f0(c),[m,f]=f0({}),[h,p]=f0();ZW(()=>{d(c),f(Object.fromEntries(c.map((y,x)=>[String(y.id??y._id),x])))},[c]);let g=n?.filter(y=>y?.active);if(!g||g.filter(y=>!["_dragHandle","_select"].includes(y.accessor)).length===0)return jn("div",{children:"No columns selected"});let b=async({moveFromIndex:y,moveToIndex:x})=>{if(a.sort!==l&&a.sort!==`-${l}`){K.warning('To reorder the rows you must first sort them by the "Order" column'),p(void 0);return}if(y===x){p(void 0);return}let w=u[y].id??u[y]._id,S=x>y?u[x]:u[x-1],T=x>y?u[x+1]:u[x],I=[...u];d(R=>{let F=[...R];return F[y][l]="pending",F.splice(x,0,F.splice(y,1)[0]),F});try{let R=S?{id:S.id??S._id,key:S[l]}:{id:T.id??T._id,key:T[l]},F=S&&a.sort===l||!S&&a.sort===`-${l}`?"greater":"less",_={collectionSlug:o.slug,docsToMove:[w],newKeyWillBe:F,orderableFieldName:l,target:R},D=await fetch(`${s.routes.api}/reorder`,{body:JSON.stringify(_),headers:{"Content-Type":"application/json"},method:"POST"});if(D.status===403)throw new Error("You do not have permission to reorder these rows");if(!D.ok)throw new Error("Failed to reorder. This can happen if you reorder several rows too quickly. Please try again.");if(D.status===200&&(await D.json()).message==="initial migration")throw new Error('You have enabled "orderable" on a collection with existing documentsand this is the first time you have sorted documents. We have run an automatic migration to add an initial order to the documents. Please refresh the page and try again.')}catch(R){let F=R instanceof Error?R.message:String(R);d(I),K.error(F)}finally{p(void 0)}},C=({id:y})=>{p(y)},v=u.map(y=>y.id??y._id);return m0("div",{className:[eh,t&&`${eh}--appearance-${t}`].filter(Boolean).join(" "),children:[e,m0(Br,{ids:v,onDragEnd:b,onDragStart:C,children:[m0("table",{cellPadding:"0",cellSpacing:"0",children:[jn("thead",{children:jn("tr",{children:g.map((y,x)=>jn("th",{id:`heading-${y.accessor}`,children:y.Heading},x))})}),jn("tbody",{children:u.map((y,x)=>jn(Dn,{id:v[x],children:({attributes:w,isDragging:S,listeners:T,setNodeRef:I,transform:R,transition:F})=>jn(u0,{cellMap:m,className:`row-${x+1}`,columns:g,dragAttributes:w,dragListeners:T,ref:I,rowId:y.id??y._id,style:{opacity:S?0:1,transform:R,transition:F}})},v[x]))})]}),jn(XW,{children:jn(dF,{className:[eh,`${eh}--drag-preview`].join(" "),rowId:h,children:jn(u0,{cellMap:m,columns:g,rowId:h})})})]})]})};import{jsx as mF}from"react/jsx-runtime";import{toWords as JW,transformColumnsToSearchParams as qW}from"payload/shared";import"react";var QW="query-preset-columns-cell",KW=({cellData:t})=>mF("div",{className:QW,children:t?qW(t).map((e,o)=>{let n=!e.startsWith("-");return n?mF(vt,{pillStyle:n?"always-white":"light",size:"small",children:JW(e)},o):null}):"No columns selected"});import{jsx as eH}from"react/jsx-runtime";import{toWords as fF}from"payload/shared";import"react";var tH=t=>{if(t.or&&t.or.length>0&&t.or[0].and&&t.or[0].and.length>0){let o=t.or[0]?.and?.[0];if(!o)return"No where query";let n=Object.keys(o)[0];if(!o[n])return"No where query";let r=Object.keys(o[n])[0],s=o[n][r];return`${fF(n)} ${r} ${fF(s)}`}return""},oH=({cellData:t})=>eH("div",{children:t?tH(t):"No where query"});import{jsx as pF,jsxs as hF}from"react/jsx-runtime";import{toWords as gF}from"payload/shared";import{Fragment as rH}from"react";var nH=({cellData:t})=>{let e=["read","update","delete"];return pF("p",{children:e.reduce((o,n,r)=>{let s=t?.[n];return s&&s.constraint&&o.push(hF(rH,{children:[hF("span",{children:[pF("strong",{children:gF(n)}),": ",gF(s.constraint)]}),r!==e.length-1&&", "]},n)),o},[])})};import{c as sH}from"react/compiler-runtime";import{jsx as p0,jsxs as iH}from"react/jsx-runtime";import{toWords as aH,transformColumnsToSearchParams as lH}from"payload/shared";import"react";var cH=t=>{let e=sH(5),{field:o}=t,{label:n,required:r}=o,{path:s,value:i}=Ne(),l;return e[0]!==n||e[1]!==s||e[2]!==r||e[3]!==i?(l=iH("div",{className:"field-type query-preset-columns-field",children:[p0(_e,{as:"h3",label:n,path:s,required:r}),p0("div",{className:"value-wrapper",children:i?lH(i).map(uH):"No columns selected"})]}),e[0]=n,e[1]=s,e[2]=r,e[3]=i,e[4]=l):l=e[4],l};function uH(t,e){let o=!t.startsWith("-");return p0(vt,{pillStyle:o?"always-white":"light-gray",size:"small",children:aH(t)},e)}import{jsx as ws,jsxs as th}from"react/jsx-runtime";import{getTranslation as dH}from"@payloadcms/translations";import{toWords as bF}from"payload/shared";import vF from"react";var mH=(t,e)=>{if(!t)return null;let o=r=>{let s=Object.keys(r)[0];if(!r[s])return"No where query";let i=Object.keys(r[s])[0],l=r[s][i];if(typeof l=="object")try{l=new Date(l).toLocaleDateString()}catch{l="Unknown error has occurred"}return th(vt,{pillStyle:"always-white",size:"small",children:[ws("b",{children:bF(s)})," ",i," ",ws("b",{children:bF(l)})]})};return((r,s)=>r.or&&r.or.length>0?ws("div",{className:"or-condition",children:r.or.map((i,l)=>ws(vF.Fragment,{children:i.and&&i.and.length>0?th("div",{className:"and-condition",children:[l===0&&ws("span",{className:"label",children:`Filter ${s} where `}),l>0&&ws("span",{className:"label",children:" or "}),i.and.map((a,c)=>th(vF.Fragment,{children:[o(a),c<i.and.length-1&&ws("span",{className:"label",children:" and "})]},c))]}):o(i)},l))}):o(r))(t,e)},fH=t=>{let{field:e}=t,{label:o,required:n}=e,{path:r,value:s}=Ne(),{collectionSlug:i}=st(),{getEntityConfig:l}=W(),a=l({collectionSlug:i}),{i18n:c}=N();return th("div",{className:"field-type query-preset-where-field",children:[ws(_e,{as:"h3",label:o,path:r,required:n}),ws("div",{className:"value-wrapper",children:s?mH(s,dH(a?.labels?.plural,c)):"No where query"})]})};import{c as yH}from"react/compiler-runtime";import{jsx as xH}from"react/jsx-runtime";import wH from"react";import{c as pH}from"react/compiler-runtime";import{useRouter as hH}from"next/navigation.js";import{useEffect as h0,useRef as gH}from"react";function bH(t,...e){t&&t.addEventListener&&t.addEventListener(...e)}function vH(t,...e){t&&t.removeEventListener&&t.removeEventListener(...e)}var CH=(t,e)=>{let o=pH(7),n=t===void 0?!0:t,r;o[0]!==n||o[1]!==e?(r=a=>{if(typeof n!="function"||n())return a.preventDefault(),e&&(a.returnValue=e),e},o[0]=n,o[1]=e,o[2]=r):r=o[2];let s=r,i,l;o[3]!==n||o[4]!==s?(i=()=>{if(n)return bH(window,"beforeunload",s),()=>vH(window,"beforeunload",s)},l=[n,s],o[3]=n,o[4]=s,o[5]=i,o[6]=l):(i=o[5],l=o[6]),h0(i,l)},CF=({hasAccepted:t=!1,message:e="Are you sure want to leave this page?",onAccept:o,onPrevent:n,prevent:r=!0})=>{CH(r,e);let{startRouteTransition:s}=qe(),i=hH(),l=gH("");h0(()=>{function a(d,m){try{let f=new URL(d),h=new URL(m);if(f.hostname===h.hostname&&f.pathname===h.pathname&&f.search===h.search){let p=f.hash,g=h.hash;return p!==g&&f.href.replace(p,"")===h.href.replace(g,"")}}catch(f){console.log("Unexpected exception thrown in LeaveWithoutSaving:isAnchorOfCurrentUrl",f)}return!1}function c(d){for(;d&&d.tagName.toLowerCase()!=="a";)d=d.parentElement;return d}function u(d){try{let m=d.target,f=c(m);if(f){let h=window.location.href,p=f.href,g=a(h,p),b=f.download!=="",C=f.target==="_blank"||d.metaKey||d.ctrlKey;!(p===h||g||b||C)&&r&&(n||!window.confirm(e))&&(l.current=p,d.preventDefault(),d.stopPropagation(),typeof n=="function"&&n())}}catch(m){console.log("Unexpected exception thrown in LeaveWithoutSaving:usePreventLeave",m)}}return document.addEventListener("click",u,!0),()=>{document.removeEventListener("click",u,!0)}},[n,r,e]),h0(()=>{t&&l.current&&(o&&o(),s(()=>i.push(l.current)))},[t,o,i,s])};var oh="leave-without-saving",bd=t=>{let e=yH(18),{onConfirm:o,onPrevent:n}=t,{closeModal:r,openModal:s}=ae(),i=So(),{isValid:l}=Ve(),{user:a}=Ie(),[c,u]=wH.useState(!1),{t:d}=N(),m=!!((i||!l)&&a),f;e[0]!==n||e[1]!==s?(f=()=>{let S=document.activeElement?.href||null;n&&n(S),s(oh)},e[0]=n,e[1]=s,e[2]=f):f=e[2];let h=f,p;e[3]!==r?(p=()=>{r(oh)},e[3]=r,e[4]=p):p=e[4];let g=p,b;e[5]!==g||e[6]!==h||e[7]!==c||e[8]!==m?(b={hasAccepted:c,onAccept:g,onPrevent:h,prevent:m},e[5]=g,e[6]=h,e[7]=c,e[8]=m,e[9]=b):b=e[9],CF(b);let C;e[10]!==r?(C=()=>{r(oh)},e[10]=r,e[11]=C):C=e[11];let v=C,y;e[12]!==o?(y=async()=>{if(o)try{await o()}catch(S){console.error("Error in LeaveWithoutSaving onConfirm:",S)}u(!0)},e[12]=o,e[13]=y):y=e[13];let x=y,w;return e[14]!==x||e[15]!==v||e[16]!==d?(w=xH(et,{body:d("general:changesNotSaved"),cancelLabel:d("general:stayOnThisPage"),confirmLabel:d("general:leaveAnyway"),heading:d("general:leaveWithoutSaving"),modalSlug:oh,onCancel:v,onConfirm:x}),e[14]=x,e[15]=v,e[16]=d,e[17]=w):w=e[17],w};import{c as SH}from"react/compiler-runtime";import{jsx as vd,jsxs as g0}from"react/jsx-runtime";import{useEffect as IH}from"react";var Bl="document-take-over",rh="document-take-over",b0=t=>{let e=SH(17),{handleBackToDashboard:o,isActive:n,onReadOnly:r}=t,{closeModal:s,openModal:i}=ae(),{t:l}=N(),{startRouteTransition:a}=qe(),c,u;e[0]!==s||e[1]!==n||e[2]!==i?(c=()=>{n?i(Bl):s(Bl)},u=[n,i,s],e[0]=s,e[1]=n,e[2]=i,e[3]=c,e[4]=u):(c=e[3],u=e[4]),IH(c,u);let d;if(e[5]!==s||e[6]!==o||e[7]!==r||e[8]!==a||e[9]!==l){let m;e[11]!==o||e[12]!==a?(m=()=>{a(()=>o())},e[11]=o,e[12]=a,e[13]=m):m=e[13];let f;e[14]!==s||e[15]!==r?(f=()=>{r(),s(Bl)},e[14]=s,e[15]=r,e[16]=f):f=e[16],d=vd(vr,{className:rh,slug:Bl,children:g0("div",{className:`${rh}__wrapper`,children:[g0("div",{className:`${rh}__content`,children:[vd("h1",{children:l("general:editingTakenOver")}),vd("p",{children:l("general:anotherUserTakenOver")})]}),g0("div",{className:`${rh}__controls`,children:[vd(oe,{buttonStyle:"primary",id:`${Bl}-back-to-dashboard`,onClick:m,size:"large",children:l("general:backToDashboard")}),vd(oe,{buttonStyle:"secondary",id:`${Bl}-view-read-only`,onClick:f,size:"large",children:l("general:viewReadOnly")})]})]})}),e[5]=s,e[6]=o,e[7]=r,e[8]=a,e[9]=l,e[10]=d}else d=e[10];return d};import{c as _H}from"react/compiler-runtime";import{jsx as da,jsxs as Cd}from"react/jsx-runtime";import{useEffect as DH}from"react";var nh=t=>t&&typeof t=="object";var ci="document-locked",sh="document-locked",TH=t=>t?new Intl.DateTimeFormat("en-US",{day:"numeric",hour:"numeric",hour12:!0,minute:"numeric",month:"short",year:"numeric"}).format(t):"",v0=t=>{let e=_H(30),{handleGoBack:o,isActive:n,onReadOnly:r,onTakeOver:s,updatedAt:i,user:l}=t,{closeModal:a,openModal:c}=ae(),{t:u}=N(),{startRouteTransition:d}=qe(),m,f;e[0]!==a||e[1]!==n||e[2]!==c?(m=()=>{n?c(ci):a(ci)},f=[n,c,a],e[0]=a,e[1]=n,e[2]=c,e[3]=m,e[4]=f):(m=e[3],f=e[4]),DH(m,f);let h;e[5]!==o||e[6]!==d?(h=()=>{d(()=>o())},e[5]=o,e[6]=d,e[7]=h):h=e[7];let p;if(e[8]!==a||e[9]!==o||e[10]!==r||e[11]!==s||e[12]!==d||e[13]!==u||e[14]!==h||e[15]!==i||e[16]!==l){let g;e[18]!==u||e[19]!==l?(g=nh(l)?l.email??l.id:`${u("general:user")}: ${l}`,e[18]=u,e[19]=l,e[20]=g):g=e[20];let b;e[21]!==o||e[22]!==d?(b=()=>{d(()=>o())},e[21]=o,e[22]=d,e[23]=b):b=e[23];let C;e[24]!==a||e[25]!==r?(C=()=>{r(),a(ci)},e[24]=a,e[25]=r,e[26]=C):C=e[26];let v;e[27]!==a||e[28]!==s?(v=()=>{s(),a(ci)},e[27]=a,e[28]=s,e[29]=v):v=e[29],p=da(vr,{className:sh,onClose:h,slug:ci,children:Cd("div",{className:`${sh}__wrapper`,children:[Cd("div",{className:`${sh}__content`,children:[da("h1",{children:u("general:documentLocked")}),Cd("p",{children:[da("strong",{children:g})," ",u("general:currentlyEditing")]}),Cd("p",{children:[u("general:editedSince")," ",da("strong",{children:TH(i)})]})]}),Cd("div",{className:`${sh}__controls`,children:[da(oe,{buttonStyle:"secondary",id:`${ci}-go-back`,onClick:b,size:"large",children:u("general:goBack")}),da(oe,{buttonStyle:"secondary",id:`${ci}-view-read-only`,onClick:C,size:"large",children:u("general:viewReadOnly")}),da(oe,{buttonStyle:"primary",id:`${ci}-take-over`,onClick:v,size:"large",children:u("general:takeOver")})]})]})}),e[8]=a,e[9]=o,e[10]=r,e[11]=s,e[12]=d,e[13]=u,e[14]=h,e[15]=i,e[16]=l,e[17]=p}else p=e[17];return p};import{c as FH}from"react/compiler-runtime";import{jsx as RH}from"react/jsx-runtime";import{getTranslation as AH}from"@payloadcms/translations";import iMe from"react";function C0(t){let e=FH(3),{i18n:o}=N(),{description:n}=t;if(n){let r;return e[0]!==n||e[1]!==o?(r=RH("div",{className:"custom-view-description",children:AH(n,o)}),e[0]=n,e[1]=o,e[2]=r):r=e[2],r}return null}import{jsx as dr,jsxs as uh}from"react/jsx-runtime";import{formatAdminURL as hU}from"payload/shared";import{useEffect as gU,useRef as bU,useState as vU}from"react";import{c as $H}from"react/compiler-runtime";import{jsx as PF}from"react/jsx-runtime";import{usePathname as kH}from"next/navigation.js";import{formatAdminURL as jH}from"payload/shared";import"react";import{jsx as y0,jsxs as PH}from"react/jsx-runtime";import"react";var yd="graphic-account",yF=t=>PH("svg",{className:[yd,t?.active&&`${yd}--active`].filter(Boolean).join(" "),height:"25",viewBox:"0 0 25 25",width:"25",xmlns:"http://www.w3.org/2000/svg",children:[y0("circle",{className:`${yd}__bg`,cx:"12.5",cy:"12.5",r:"11.5"}),y0("circle",{className:`${yd}__head`,cx:"12.5",cy:"10.73",r:"3.98"}),y0("path",{className:`${yd}__body`,d:"M12.5,24a11.44,11.44,0,0,0,7.66-2.94c-.5-2.71-3.73-4.8-7.66-4.8s-7.16,2.09-7.66,4.8A11.44,11.44,0,0,0,12.5,24Z"})]});var RF=hi(FF(),1);import{c as NH}from"react/compiler-runtime";import{jsx as LH}from"react/jsx-runtime";import"react";var AF=()=>{let t=NH(2),{user:e}=Ie(),o=(0,RF.default)(e.email.trim().toLowerCase()),r=`?${new URLSearchParams({default:"mp",r:"g",s:"50"}).toString()}`,s=`https://www.gravatar.com/avatar/${o}?${r}`,i;return t[0]!==s?(i=LH("img",{alt:"yas",className:"gravatar-account",height:25,src:s,style:{borderRadius:"50%"},width:25}),t[0]=s,t[1]=i):i=t[1],i};var S0=()=>{let t=$H(3),{config:e}=W(),{admin:o,routes:n}=e,{avatar:r,routes:s}=o,{account:i}=s,{admin:l}=n,{user:a}=Ie(),u=kH()===jH({adminRoute:l,path:i});if(!a?.email||r==="default"){let d;return t[0]!==u?(d=PF(yF,{active:u}),t[0]=u,t[1]=d):d=t[1],d}if(r==="gravatar"){let d;return t[2]===Symbol.for("react.memo_cache_sentinel")?(d=PF(AF,{}),t[2]=d):d=t[2],d}};import{c as BH}from"react/compiler-runtime";import{jsx as MH}from"react/jsx-runtime";import{createContext as OH,use as VH,useState as GH}from"react";var EF=OH({Actions:{},setViewActions:()=>{}}),I0=()=>VH(EF),zH=t=>{let e=BH(4),{Actions:o,children:n}=t,[r,s]=GH(o),i;return e[0]!==o||e[1]!==n||e[2]!==r?(i=MH(EF,{value:{Actions:{...r,...o},setViewActions:s},children:n}),e[0]=o,e[1]=n,e[2]=r,e[3]=i):i=e[3],i};import{c as WH}from"react/compiler-runtime";import{jsx as ih,jsxs as $F}from"react/jsx-runtime";import"react";import{jsx as NF}from"react/jsx-runtime";import"react";var _0=()=>NF("svg",{className:"icon icon--close-menu",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:NF("path",{className:"stroke",d:"M14 6L6 14M6 6L14 14",strokeLinecap:"square"})});import{jsx as LF}from"react/jsx-runtime";import"react";var D0=()=>LF("svg",{className:"icon icon--menu",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:LF("path",{className:"stroke",d:"M4.66667 10H15.3333M4.66667 6H15.3333M4.66667 14H15.3333",strokeLinecap:"square"})});var T0="hamburger",F0=t=>{let e=WH(4),{t:o}=N(),{closeIcon:n,isActive:r}=t,s=n===void 0?"x":n,i=r===void 0?!1:r,l;return e[0]!==s||e[1]!==i||e[2]!==o?(l=$F("div",{className:T0,children:[!i&&ih("div",{"aria-label":o("general:open"),className:`${T0}__open-icon`,title:o("general:open"),children:ih(D0,{})}),i&&$F("div",{"aria-label":o(s==="collapse"?"general:collapse":"general:close"),className:`${T0}__close-icon`,title:o(s==="collapse"?"general:collapse":"general:close"),children:[s==="x"&&ih(_0,{}),s==="collapse"&&ih(We,{direction:"left"})]})]}),e[0]=s,e[1]=i,e[2]=o,e[3]=l):l=e[3],l};import{c as XH}from"react/compiler-runtime";import{jsx as ma,jsxs as ZH}from"react/jsx-runtime";import{getTranslation as YH}from"@payloadcms/translations";import{useRouter as JH}from"next/navigation.js";import*as lh from"qs-esm";import{Fragment as qH}from"react";import{c as HH}from"react/compiler-runtime";import{jsx as kF,jsxs as R0}from"react/jsx-runtime";import{getTranslation as UH}from"@payloadcms/translations";import"react";var xd="localizer-button",ah=t=>{let e=HH(12),{ariaLabel:o,className:n}=t,r=xe(),{i18n:s,t:i}=N(),l;e[0]!==o||e[1]!==i?(l=o||i("general:locale"),e[0]=o,e[1]=i,e[2]=l):l=e[2];let a;e[3]!==n?(a=[xd,n].filter(Boolean),e[3]=n,e[4]=a):a=e[4];let c=a.join(" "),u=r?r.code:void 0,d=`${i("general:locale")}:`,m;return e[5]!==s||e[6]!==r.label||e[7]!==l||e[8]!==c||e[9]!==u||e[10]!==d?(m=R0("div",{"aria-label":l,className:c,"data-locale":u,children:[R0("div",{className:`${xd}__label`,children:[d,"\xA0"]}),R0("div",{className:`${xd}__current`,children:[kF("span",{className:`${xd}__current-label`,children:`${UH(r.label,s)}`}),kF(We,{className:`${xd}__chevron`})]})]}),e[5]=s,e[6]=r.label,e[7]=l,e[8]=c,e[9]=u,e[10]=d,e[11]=m):m=e[11],m};var A0="localizer",jF=t=>{let e=XH(17),{className:o}=t,{config:n}=W(),{localization:r}=n,s=JH(),{startRouteTransition:i}=qe(),{setLocaleIsLoading:l}=Xm(),{i18n:a}=N(),c=xe();if(r){let{locales:u}=r,d;e[0]!==o?(d=[A0,o].filter(Boolean),e[0]=o,e[1]=d):d=e[1];let m=d.join(" "),f;if(e[2]!==a||e[3]!==c||e[4]!==u||e[5]!==s||e[6]!==l||e[7]!==i||e[8]!==m){let h;e[10]!==a||e[11]!==c||e[12]!==u||e[13]!==s||e[14]!==l||e[15]!==i?(h=p=>{let{close:g}=p;return ma(ve.ButtonGroup,{children:u.map(b=>{let C=YH(b.label,a);return ma(ve.Button,{active:c.code===b.code,disabled:c.code===b.code,onClick:()=>{l(!0),g();let v=new URLSearchParams(window.location.search),y=lh.stringify({...lh.parse(v.toString(),{depth:10,ignoreQueryPrefix:!0}),locale:b.code},{addQueryPrefix:!0});i(()=>{s.push(y)})},children:C!==b.code?ZH(qH,{children:[C,"\xA0",ma("span",{className:`${A0}__locale-code`,"data-locale":b.code,children:`(${b.code})`})]}):ma("span",{className:`${A0}__locale-code`,"data-locale":b.code,children:C})},b.code)})})},e[10]=a,e[11]=c,e[12]=u,e[13]=s,e[14]=l,e[15]=i,e[16]=h):h=e[16],f=ma("div",{className:m,children:ma(lt,{button:ma(ah,{}),horizontalAlign:"right",render:h,showScrollbar:!0,size:"large"})}),e[2]=a,e[3]=c,e[4]=u,e[5]=s,e[6]=l,e[7]=i,e[8]=m,e[9]=f}else f=e[9];return f}return null};import{jsx as QH}from"react/jsx-runtime";import{usePathname as KH}from"next/navigation.js";import Sd,{useEffect as wd,useRef as eU}from"react";var BF=Sd.createContext({hydrated:!1,navOpen:!0,navRef:null,setNavOpen:()=>{},shouldAnimate:!1}),fa=()=>Sd.use(BF),tU=async t=>{let o=(await t("nav"))?.open;return typeof o=="boolean"?o:!0},MF=({children:t,initialIsOpen:e})=>{let{breakpoints:{l:o,m:n,s:r}}=Go(),s=KH(),{getPreference:i}=ao(),l=eU(null),[a,c]=Sd.useState(e),[u,d]=Sd.useState(!1),[m,f]=Sd.useState(!1);return wd(()=>{o===!1&&(async()=>{let p=await tU(i);c(p)})()},[o,i,c]),wd(()=>{r===!0&&c(!1)},[s]),wd(()=>{l.current&&(a&&n?l.current.style.overscrollBehavior="contain":l.current.style.overscrollBehavior="auto")},[a,n]),wd(()=>{(o===!0||n===!0||r===!0)&&c(!1),f(!0);let h=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(h)}},[o,n,r]),wd(()=>()=>{l.current&&(l.current.style.overscrollBehavior="auto")},[]),QH(BF,{value:{hydrated:m,navOpen:a,navRef:l,setNavOpen:c,shouldAnimate:u},children:t})};import{c as oU}from"react/compiler-runtime";import{jsx as rU}from"react/jsx-runtime";import"react";var OF="nav-toggler",P0=t=>{let e=oU(15),{id:o,children:n,className:r,tabIndex:s}=t,i=s===void 0?0:s,{t:l}=N(),{setPreference:a}=ao(),{navOpen:c,setNavOpen:u}=fa(),{breakpoints:d}=Go(),{l:m}=d,f=`${l(c?"general:close":"general:open")} ${l("general:menu")}`,h=c&&`${OF}--is-open`,p;e[0]!==r||e[1]!==h?(p=[OF,h,r].filter(Boolean),e[0]=r,e[1]=h,e[2]=p):p=e[2];let g=p.join(" "),b;e[3]!==m||e[4]!==c||e[5]!==u||e[6]!==a?(b=async()=>{u(!c),m||await a("nav",{open:!c},!0)},e[3]=m,e[4]=c,e[5]=u,e[6]=a,e[7]=b):b=e[7];let C;return e[8]!==n||e[9]!==o||e[10]!==f||e[11]!==g||e[12]!==b||e[13]!==i?(C=rU("button",{"aria-label":f,className:g,id:o,onClick:b,tabIndex:i,type:"button",children:n}),e[8]=n,e[9]=o,e[10]=f,e[11]=g,e[12]=b,e[13]=i,e[14]=C):C=e[14],C};import{c as fU}from"react/compiler-runtime";import{jsx as Ho,jsxs as zF}from"react/jsx-runtime";import{getTranslation as pU}from"@payloadcms/translations";import{Fragment as WF}from"react";import{jsx as VF,jsxs as nU}from"react/jsx-runtime";import"react";var ch=({fill:t})=>{let e=t||"var(--theme-elevation-1000)";return nU("svg",{className:"graphic-icon",height:"100%",viewBox:"0 0 25 25",width:"100%",xmlns:"http://www.w3.org/2000/svg",children:[VF("path",{d:"M11.8673 21.2336L4.40922 16.9845C4.31871 16.9309 4.25837 16.8355 4.25837 16.7282V10.1609C4.25837 10.0477 4.38508 9.97616 4.48162 10.0298L13.1404 14.9642C13.2611 15.0358 13.412 14.9464 13.412 14.8093V11.6091C13.412 11.4839 13.3456 11.3647 13.2309 11.2992L2.81624 5.36353C2.72573 5.30989 2.60505 5.30989 2.51454 5.36353L1.15085 6.14422C1.06034 6.19786 1 6.29321 1 6.40048V18.5995C1 18.7068 1.06034 18.8021 1.15085 18.8558L11.8491 24.9583C11.9397 25.0119 12.0603 25.0119 12.1509 24.9583L21.1355 19.8331C21.2562 19.7616 21.2562 19.5948 21.1355 19.5232L18.3357 17.9261C18.2211 17.8605 18.0883 17.8605 17.9737 17.9261L12.175 21.2336C12.0845 21.2872 11.9638 21.2872 11.8733 21.2336H11.8673Z",fill:e}),VF("path",{d:"M22.8491 6.13827L12.1508 0.0417218C12.0603 -0.0119135 11.9397 -0.0119135 11.8491 0.0417218L6.19528 3.2658C6.0746 3.33731 6.0746 3.50418 6.19528 3.57569L8.97092 5.16091C9.08557 5.22647 9.21832 5.22647 9.33296 5.16091L11.8672 3.71872C11.9578 3.66508 12.0784 3.66508 12.1689 3.71872L19.627 7.96782C19.7175 8.02146 19.7778 8.11681 19.7778 8.22408V14.8212C19.7778 14.9464 19.8442 15.0656 19.9589 15.1311L22.7345 16.7104C22.8552 16.7819 23.006 16.6925 23.006 16.5554V6.40048C23.006 6.29321 22.9457 6.19786 22.8552 6.14423L22.8491 6.13827Z",fill:e})]})};import{c as sU}from"react/compiler-runtime";import{jsx as iU}from"react/jsx-runtime";import{createContext as aU,use as lU,useState as cU}from"react";var Pr=()=>lU(GF),GF=aU({}),E0=t=>{let e=sU(4),{children:o}=t,n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=[],e[0]=n):n=e[0];let[r,s]=cU(n),i;return e[1]!==o||e[2]!==r?(i=iU(GF,{value:{setStepNav:s,stepNav:r},children:o}),e[1]=o,e[2]=r,e[3]=i):i=e[3],i};import{c as uU}from"react/compiler-runtime";import{useEffect as dU}from"react";var mU=t=>{let e=uU(4),{nav:o}=t,{setStepNav:n}=Pr(),r,s;return e[0]!==o||e[1]!==n?(r=()=>{n(o)},s=[n,o],e[0]=o,e[1]=n,e[2]=r,e[3]=s):(r=e[2],s=e[3]),dU(r,s),null};var Id="step-nav",HF=t=>{let e=fU(7),{className:o,CustomIcon:n}=t,{i18n:r}=N(),{stepNav:s}=Pr(),{config:i}=W(),{routes:l}=i,{admin:a}=l,{t:c}=N(),u;return e[0]!==n||e[1]!==a||e[2]!==o||e[3]!==r||e[4]!==s||e[5]!==c?(u=Ho(WF,{children:s.length>0?zF("nav",{className:[Id,o].filter(Boolean).join(" "),children:[Ho(Jt,{className:`${Id}__home`,href:a,prefetch:!1,tabIndex:0,children:Ho("span",{title:c("general:dashboard"),children:Ho(ue,{CustomComponent:n,Fallback:Ho(ch,{})})})}),Ho("span",{children:"/"}),s.map((d,m)=>{let f=pU(d.label,r);return s.length===m+1?Ho("span",{className:`${Id}__last`,children:f},m):zF(WF,{children:[d.url?Ho(Jt,{href:d.url,prefetch:!1,children:Ho("span",{children:f},m)}):Ho("span",{children:f},m),Ho("span",{children:"/"})]},m)})]}):Ho("div",{className:[Id,o].filter(Boolean).join(" "),children:Ho("div",{className:`${Id}__home`,children:Ho("span",{title:c("general:dashboard"),children:Ho(ue,{CustomComponent:n,Fallback:Ho(ch,{})})})})})}),e[0]=n,e[1]=a,e[2]=o,e[3]=r,e[4]=s,e[5]=c,e[6]=u):u=e[6],u};var Uo="app-header";function CU({CustomAvatar:t,CustomIcon:e}){let{t:o}=N(),{Actions:n}=I0(),{config:{admin:{routes:{account:r}},localization:s,routes:{admin:i}}}=W(),{navOpen:l}=fa(),a=bU(null),[c,u]=vU(!1);gU(()=>{let m=()=>{let f=a.current;if(f){let h=f.scrollWidth>f.clientWidth;u(h)}};return m(),window.addEventListener("resize",m),()=>{window.removeEventListener("resize",m)}},[n]);let d=n?Object.values(n):[];return uh("header",{className:[Uo,l&&`${Uo}--nav-open`].filter(Boolean).join(" "),children:[dr("div",{className:`${Uo}__bg`}),dr("div",{className:`${Uo}__content`,children:uh("div",{className:`${Uo}__wrapper`,children:[dr(P0,{className:`${Uo}__mobile-nav-toggler`,tabIndex:-1,children:dr(F0,{})}),uh("div",{className:`${Uo}__controls-wrapper`,children:[dr("div",{className:`${Uo}__step-nav-wrapper`,children:dr(HF,{className:`${Uo}__step-nav`,CustomIcon:e})}),uh("div",{className:`${Uo}__actions-wrapper`,children:[dr("div",{className:`${Uo}__actions`,ref:a,children:d.map((m,f)=>dr("div",{className:c&&f===d.length-1?`${Uo}__last-action`:"",children:m},f))}),c&&dr("div",{className:`${Uo}__gradient-placeholder`})]}),s&&dr(ah,{ariaLabel:"invisible",className:`${Uo}__localizer-spacing`}),dr(Jt,{"aria-label":o("authentication:account"),className:`${Uo}__account`,href:hU({adminRoute:i,path:r}),prefetch:!1,tabIndex:0,children:dr(ue,{CustomComponent:t,Fallback:dr(S0,{})})})]})]})}),dr(jF,{className:`${Uo}__localizer`})]})}import{jsx as N0,jsxs as yU}from"react/jsx-runtime";import"react";var _d="card",xU=t=>{let{id:e,actions:o,buttonAriaLabel:n,href:r,onClick:s,title:i,titleAs:l}=t,a=[_d,e,(s||r)&&`${_d}--has-onclick`].filter(Boolean).join(" ");return yU("div",{className:a,id:e,children:[N0(l??"div",{className:`${_d}__title`,children:i}),o&&N0("div",{className:`${_d}__actions`,children:o}),(s||r)&&N0(oe,{"aria-label":n,buttonStyle:"none",className:`${_d}__click`,el:"link",onClick:s,to:r})]})};import{c as wU}from"react/compiler-runtime";import{jsx as ui,jsxs as dh}from"react/jsx-runtime";import{getTranslation as SU}from"@payloadcms/translations";import{useRouter as IU}from"next/navigation.js";import{formatAdminURL as _U}from"payload/shared";import Ml from"react";var mh="copy-locale-data",fh="copy-locale",L0=()=>{let t=wU(38),{config:e}=W(),{localization:o,routes:n,serverURL:r}=e,{admin:s}=n,{code:i}=xe(),{id:l,collectionSlug:a,globalSlug:c}=De(),{i18n:u,t:d}=N(),m=So(),{toggleModal:f}=ae(),{copyDataFromLocale:h}=$t(),p=IU(),{startRouteTransition:g}=qe(),b;t[0]!==o?(b=o&&o.locales.map(DU)||[],t[0]=o,t[1]=b):b=t[1];let C=b,v;t[2]!==i?(v=V=>V.value!==i,t[2]=i,t[3]=v):v=t[3];let y=C.filter(v),x;t[4]!==u||t[5]!==o?(x=V=>{let z=o&&o.locales.find(X=>X.code===V);return z&&z.label?SU(z.label,u):V},t[4]=u,t[5]=o,t[6]=x):x=t[6];let w=x,[S,T]=Ml.useState(!1),[I,R]=Ml.useState(null),[F,_]=Ml.useState(i),[D,A]=Ml.useState(!1),L,E;t[7]!==i||t[8]!==F?(L=()=>{F!==i&&_(i)},E=[i,F],t[7]=i,t[8]=F,t[9]=L,t[10]=E):(L=t[9],E=t[10]),Ml.useEffect(L,E);let k;t[11]!==s||t[12]!==a||t[13]!==h||t[14]!==c||t[15]!==l||t[16]!==D||t[17]!==p||t[18]!==r||t[19]!==g||t[20]!==f?(k=async V=>{let{from:z,to:X}=V;T(!0);try{await h({collectionSlug:a,docID:l,fromLocale:z,globalSlug:c,overrideData:D,toLocale:X}),T(!1),g(()=>p.push(_U({adminRoute:s,path:`/${a?`collections/${a}/${l}`:`globals/${c}`}`,serverURL:r})+`?locale=${X}`)),f(fh)}catch(Q){let U=Q;K.error(U.message)}},t[11]=s,t[12]=a,t[13]=h,t[14]=c,t[15]=l,t[16]=D,t[17]=p,t[18]=r,t[19]=g,t[20]=f,t[21]=k):k=t[21];let B=k;if(!l&&!c)return null;let $;t[22]!==m||t[23]!==d||t[24]!==f?($=()=>{m?K.info(d("general:unsavedChanges")):f(fh)},t[22]=m,t[23]=d,t[24]=f,t[25]=$):$=t[25];let P;t[26]!==f?(P=()=>{f(fh)},t[26]=f,t[27]=P):P=t[27];let M;t[28]!==B||t[29]!==S||t[30]!==F||t[31]!==d||t[32]!==I?(M=async()=>{if(F===I){K.error(d("localization:cannotCopySameLocale"));return}S||await B({from:F,to:I})},t[28]=B,t[29]=S,t[30]=F,t[31]=d,t[32]=I,t[33]=M):M=t[33];let j;t[34]===Symbol.for("react.memo_cache_sentinel")?(j=V=>{V?.value&&_(V.value)},t[34]=j):j=t[34];let O;t[35]===Symbol.for("react.memo_cache_sentinel")?(O=V=>{V?.value&&R(V.value)},t[35]=O):O=t[35];let G;return t[36]!==D?(G=()=>A(!D),t[36]=D,t[37]=G):G=t[37],dh(Ml.Fragment,{children:[ui(ve.Button,{id:`${mh}__button`,onClick:$,children:d("localization:copyToLocale")}),dh(Bt,{className:mh,gutter:!1,Header:ui(Dl,{onClose:P,title:d("localization:copyToLocale")}),slug:fh,children:[dh("div",{className:`${mh}__sub-header`,children:[ui("span",{children:F&&I?ui("div",{children:d("localization:copyFromTo",{from:w(F),to:w(I)})}):d("localization:selectLocaleToCopy")}),ui(oe,{buttonStyle:"primary",disabled:!F||!I,iconPosition:"left",onClick:M,size:"medium",children:S?d("general:copying")+"...":d("general:copy")})]}),dh("div",{className:`${mh}__content`,children:[ui(Ln,{label:d("localization:copyFrom"),name:"fromLocale",onChange:j,options:C,path:"fromLocale",readOnly:!0,value:F}),ui(Ln,{label:d("localization:copyTo"),name:"toLocale",onChange:O,options:y,path:"toLocale",value:I}),ui(Vr,{checked:D,field:{name:"overwriteExisting",label:d("general:overwriteExistingData")},onChange:G,path:"overwriteExisting"})]})]})]})};function DU(t){return{label:t.label,value:t.code}}import{c as LU}from"react/compiler-runtime";import{jsx as Bn,jsxs as JF}from"react/jsx-runtime";import{getTranslation as qF}from"@payloadcms/translations";import{useRouter as $U,useSearchParams as kU}from"next/navigation.js";import{mergeListSearchAndWhere as jU}from"payload/shared";import*as M0 from"qs-esm";import Dd from"react";import{jsx as TU}from"react/jsx-runtime";import{useSearchParams as FU}from"next/navigation.js";import*as XF from"qs-esm";import{createContext as RU,use as AU,useCallback as ph,useEffect as $0,useMemo as PU,useRef as EU,useState as k0}from"react";var Xt=function(t){return t.AllAvailable="allAvailable",t.AllInPage="allInPage",t.None="none",t.Some="some",t}({}),ZF=RU({count:void 0,getQueryParams:t=>"",getSelectedIds:()=>[],selectAll:void 0,selected:new Map,selectedIDs:[],setSelection:t=>{},toggleAll:t=>{},totalDocs:void 0}),UF=t=>{let e=[];for(let[o,n]of t)n&&e.push(o);return e},j0=({children:t,docs:e=[],totalDocs:o})=>{let n=EU({}),{user:r}=Ie(),{code:s}=xe(),[i,l]=k0(()=>{let v=new Map;return e.forEach(({id:y})=>{v.set(y,!1)}),v}),[a,c]=k0("none"),[u,d]=k0(0),m=FU(),{query:f}=st(),h=ph((v=!1)=>{let y=new Map;v?(c("allAvailable"),e.forEach(({id:x,_isLocked:w,_userEditing:S})=>{(!w||S?.id===r?.id)&&y.set(x,!0)})):a==="allAvailable"||a==="allInPage"?c("none"):e.forEach(({id:x,_isLocked:w,_userEditing:S})=>{(!w||S?.id===r?.id)&&y.set(x,a!=="some")}),l(y)},[e,a,r?.id]),p=ph(v=>{let y=e.find(T=>T.id===v);if(y?._isLocked&&r?.id!==y?._userEditing.id)return;let x=i.get(v),w=typeof x=="boolean"?!x:!0,S=new Map(i.set(v,w));a==="allAvailable"&&!w&&c("some"),l(S)},[i,e,a,r?.id]),g=ph(v=>{let y;if(a==="allAvailable")y=Ht(m)?.where||{id:{not_equals:""}};else{let x=[];for(let[w,S]of i)S&&x.push(w);y={id:{in:x}}}return v&&(y={and:[{...v},y]}),XF.stringify({locale:s,where:y},{addQueryPrefix:!0})},[a,i,s,m]),b=ph(()=>UF(i),[i]);$0(()=>{if(a==="allAvailable")return;let v=!1,y=!0;if(!i.size)y=!1,v=!1;else for(let[x,w]of i)y=y&&w,v=v||w;y&&i.size===e.length?c("allInPage"):c(v?"some":"none")},[a,i,o,e]),$0(()=>{let v=0;if(a==="allAvailable")v=o;else for(let[y,x]of i)x&&v++;d(v)},[a,i,o]),$0(()=>{c("none"),l(new Map)},[f]);let C=PU(()=>UF(i),[i]);return n.current={count:u,getQueryParams:g,getSelectedIds:b,selectAll:a,selected:i,selectedIDs:C,setSelection:p,toggleAll:h,totalDocs:o},TU(ZF,{value:n.current,children:t})},wo=()=>AU(ZF);import{c as NU}from"react/compiler-runtime";import{jsx as Ol,jsxs as B0}from"react/jsx-runtime";import YF from"react";var hh="list-selection";function gh(t){let e=NU(9),{count:o,ListActions:n,SelectionActions:r}=t,{t:s}=N(),i;if(e[0]!==n||e[1]!==r||e[2]!==o||e[3]!==s){let l;e[5]!==n?(l=n&&n.length>0&&B0(YF.Fragment,{children:[Ol("span",{children:"\u2014"}),Ol("div",{className:`${hh}__actions`,children:n})]}),e[5]=n,e[6]=l):l=e[6];let a;e[7]!==r?(a=r&&r.length>0&&B0(YF.Fragment,{children:[Ol("span",{children:"\u2014"}),Ol("div",{className:`${hh}__actions`,children:r})]}),e[7]=r,e[8]=a):a=e[8],i=B0("div",{className:hh,children:[Ol("span",{children:s("general:selectedCount",{count:o,label:""})}),l,a]}),e[0]=n,e[1]=r,e[2]=o,e[3]=s,e[4]=i}else i=e[4];return i}function Mo({children:t,className:e,...o}){return Ol(oe,{...o,buttonStyle:"none",className:[`${hh}__button`,e].filter(Boolean).join(" "),children:t})}var O0=t=>{let e=LU(24),{viewType:o}=t,{collection:n,modalPrefix:r}=t,s;e[0]!==n?(s=n===void 0?{}:n,e[0]=n,e[1]=s):s=e[1];let{slug:i,trash:l}=s,{permissions:a}=Ie(),{count:c,selectAll:u,selectedIDs:d,toggleAll:m}=wo(),f=$U(),h=kU(),{clearRouteCache:p}=kt(),b=a?.collections?.[i]?.delete,C=u===Xt.AllAvailable,v;e[2]!==d||e[3]!==C?(v=C?[]:d,e[2]=d,e[3]=C,e[4]=v):v=e[4];let y=v;if(u===Xt.None||!b)return null;let x;if(e[5]!==p||e[6]!==c||e[7]!==y||e[8]!==r||e[9]!==f||e[10]!==h||e[11]!==u||e[12]!==C||e[13]!==i||e[14]!==m||e[15]!==l||e[16]!==o){let w=Ht(h)?.where,S=o==="trash"?{and:[...Array.isArray(w?.and)?w.and:w?[w]:[],{deletedAt:{exists:!0}}]}:w,T;e[18]!==p||e[19]!==f||e[20]!==h||e[21]!==u||e[22]!==m?(T=()=>{m(),f.replace(M0.stringify({...Ht(h),page:u?"1":void 0},{addQueryPrefix:!0})),p()},e[18]=p,e[19]=f,e[20]=h,e[21]=u,e[22]=m,e[23]=T):T=e[23],x=Bn(Dd.Fragment,{children:Bn(V0,{afterDelete:T,modalPrefix:r,search:Ht(h)?.search,selections:{[i]:{all:u===Xt.AllAvailable,ids:y,totalCount:C?c:y.length}},trash:l,viewType:o,where:S})}),e[5]=p,e[6]=c,e[7]=y,e[8]=r,e[9]=f,e[10]=h,e[11]=u,e[12]=C,e[13]=i,e[14]=m,e[15]=l,e[16]=o,e[17]=x}else x=e[17];return x};function V0({afterDelete:t,modalPrefix:e,search:o,selections:n,trash:r,viewType:s,where:i}){let{t:l}=N(),{config:{collections:a,routes:{api:c},serverURL:u}}=W(),{code:d}=xe(),{i18n:m}=N(),{openModal:f}=ae(),[h,p]=Dd.useState(!1),g=`${e?`${e}-`:""}confirm-delete-many-docs`,b=Dd.useCallback(async()=>{let y=Object.keys(n).length===1,x={};for(let[w,{all:S,ids:T=[]}]of Object.entries(n)){let I=a.find(({slug:R})=>R===w);if(I){let R;S?y&&i?R=s==="trash"?{and:[...Array.isArray(i.and)?i.and:[i],{deletedAt:{exists:!0}}]}:i:R=s==="trash"?{and:[{id:{not_equals:""}},{deletedAt:{exists:!0}}]}:{id:{not_equals:""}}:R={and:[{id:{in:T}},...s==="trash"?[{deletedAt:{exists:!0}}]:[]]};let F=`${u}${c}/${w}${M0.stringify({limit:0,locale:d,where:jU({collectionConfig:I,search:o,where:R}),...s==="trash"?{trash:!0}:{}},{addQueryPrefix:!0})}`,_=s==="trash"||h||!I.trash?await Ge.delete(F,{headers:{"Accept-Language":m.language,"Content-Type":"application/json"}}):await Ge.patch(F,{body:JSON.stringify({deletedAt:new Date().toISOString()}),headers:{"Accept-Language":m.language,"Content-Type":"application/json"}});try{let{plural:D,singular:A}=I.labels,L=await _.json(),E=L?.docs.length||0,k=E>1?D:A;if(_.status<400||E>0){let B=I.trash&&!h&&s!=="trash",$;B?$="general:trashedCountSuccessfully":s==="trash"||h?$="general:permanentlyDeletedCountSuccessfully":$="general:deletedCountSuccessfully",K.success(l($,{count:E,label:qF(k,m)}))}L?.errors.length>0&&K.error(L.message,{description:L.errors.map(B=>B.message).join(`
`)}),x[w]={deletedCount:E,errors:L?.errors||null,ids:L?.docs.map(B=>B.id)||[],totalCount:L.totalDocs},_.status>400&&L?.errors.length===0&&(K.error(l("error:unknown")),x[w].errors=[l("error:unknown")]);continue}catch(D){K.error(l("error:unknown")),x[w]={deletedCount:0,errors:[D],ids:[],totalCount:0};continue}}}typeof t=="function"&&t(x)},[n,t,a,h,d,o,u,c,m,s,i,l]),{label:C,labelCount:v}=Object.entries(n).reduce((y,[x,w],S,T)=>{let I=a.find(({slug:R})=>R===x);if(I){let R=y.labelCount===void 0?w.totalCount:y.labelCount,F=`${y.labelCount!==void 0?`${w.totalCount} `:""}${qF(w.totalCount>1?I.labels.plural:I.labels.singular,m)}`,_;return S===T.length-1&&S!==0?_=`${y.label} and ${F}`:S>0?_=`${y.label}, ${F}`:_=F,{label:_,labelCount:R}}return y},{label:"",labelCount:void 0});return JF(Dd.Fragment,{children:[Bn(Mo,{"aria-label":l("general:delete"),className:"delete-documents__toggle",onClick:()=>{f(g)},children:l("general:delete")}),Bn(et,{body:JF(Dd.Fragment,{children:[Bn("p",{children:r?s==="trash"?Bn(eo,{elements:{0:({children:y})=>Bn("strong",{children:y}),1:({children:y})=>Bn("strong",{children:y})},i18nKey:"general:aboutToPermanentlyDeleteTrash",t:l,variables:{count:v??0,label:C}}):l("general:aboutToTrashCount",{count:v,label:C}):l("general:aboutToDeleteCount",{count:v,label:C})}),r&&s!=="trash"&&Bn("div",{className:"delete-documents__checkbox",children:Bn(Lo,{checked:h,id:"delete-forever",label:l("general:deletePermanently"),name:"delete-forever",onToggle:y=>p(y.target.checked)})})]}),confirmingLabel:l("general:deleting"),heading:l("general:confirmDeletion"),modalSlug:g,onConfirm:b})]})}import{c as TX}from"react/compiler-runtime";import{jsx as it,jsxs as Oo}from"react/jsx-runtime";import{getTranslation as FX}from"@payloadcms/translations";import{formatAdminURL as RX}from"payload/shared";import J0,{Fragment as Ad,useEffect as AX}from"react";import{createContext as BU,use as MU}from"react";var G0=BU({appIsReady:!1,breakpoint:void 0,breakpoints:void 0,fieldSchemaJSON:void 0,iframeHasLoaded:!1,iframeRef:void 0,isLivePreviewEnabled:void 0,isLivePreviewing:!1,isPopupOpen:!1,measuredDeviceSize:{height:0,width:0},openPopupWindow:()=>{},popupRef:void 0,previewWindowType:"iframe",setAppIsReady:()=>{},setBreakpoint:()=>{},setHeight:()=>{},setIframeHasLoaded:()=>{},setIsLivePreviewing:()=>{},setMeasuredDeviceSize:()=>{},setPreviewWindowType:()=>{},setSize:()=>{},setToolbarPosition:()=>{},setWidth:()=>{},setZoom:()=>{},size:{height:0,width:0},toolbarPosition:{x:0,y:0},url:void 0,zoom:1}),Fo=()=>MU(G0);import{jsx as KF,jsxs as VU}from"react/jsx-runtime";import{dequal as GU}from"dequal/lite";import{reduceFieldsToValues as e6,versionDefaults as zU}from"payload/shared";import WU,{useDeferredValue as HU,useEffect as t6,useRef as Vl,useState as UU}from"react";import{unflatten as OU}from"payload/shared";var QF=(t,e,o)=>{let n={data:{},valid:!0};return t&&(Object.keys(t).forEach(r=>{(o===!0||!t[r]?.disableFormData)&&(n.data[r]=t[r]?.value,t[r].valid||(n.valid=!1))}),e&&(n.data=OU(n.data))),n};var XU="autosave",o6=1e3,r6=({id:t,collection:e,global:o})=>{let{config:{routes:{api:n},serverURL:r}}=W(),{docConfig:s,incrementVersionCount:i,lastUpdateTime:l,mostRecentVersionIsAutosaved:a,setLastUpdateTime:c,setMostRecentVersionIsAutosaved:u,setUnpublishedVersionCount:d,updateSavedDocumentData:m}=De(),{onSave:f}=Zi(),{reportUpdate:h}=ps(),{dispatchFields:p,isValid:g,setBackgroundProcessing:b,setIsValid:C}=Ve(),[v]=Ls(),y=So(),x=fo(),{code:w}=xe(),{i18n:S,t:T}=N(),I=s?.versions,R=zU.autosaveInterval;I.drafts&&I.drafts.autosave&&(R=I.drafts.autosave.interval);let F=!!(s?.versions?.drafts&&s?.versions?.drafts.validate),[_,D]=UU(!1),A=HU(_),L=Cr(v,R),E=Vl(v),k=Vl(y),B=Vl(w);E.current=v,k.current=y,B.current=w;let{queueTask:$}=vl(),P=Vl(null),M=qt(()=>{P.current=void 0;let V,z,X=()=>{z-V<o6?P.current=setTimeout(()=>{D(!1)},o6-(z-V)):G()};$(async()=>{if(y){V=new Date().getTime(),D(!0);let Q,U,ee;if(e&&t&&(ee=e.slug,Q=`${r}${n}/${ee}/${t}?draft=true&autosave=true&locale=${B.current}`,U="PATCH"),o&&(ee=o.slug,Q=`${r}${n}/globals/${ee}?draft=true&autosave=true&locale=${B.current}`,U="POST"),Q&&k.current){let{data:J,valid:re}=QF(E.current,!0);if(J._status="draft",!(x&&!re&&I?.drafts&&I?.drafts?.validate)){let le;try{le=await fetch(Q,{body:JSON.stringify(J),credentials:"include",headers:{"Accept-Language":S.language,"Content-Type":"application/json"},method:U})}catch{}let Z=new Date;z=Z.getTime();let pe=await le.json();if(le.status===200&&(c(Z.getTime()),h({id:t,entitySlug:ee,updatedAt:Z.toISOString()}),typeof f=="function"&&f({...pe,operation:"update"}),a||(i(),u(!0),d(be=>be+1))),I?.drafts&&I?.drafts?.validate&&pe?.errors){if(Array.isArray(pe.errors)){let[be,Ae]=pe.errors.reduce(([ge,Te],Y)=>{let de=[],H=[];return Y?.message&&H.push(Y),Array.isArray(Y?.data)&&Y.data.forEach(q=>{q?.field?de.push(q):H.push(q)}),[[...ge,...de],[...Te,...H]]},[[],[]]);p({type:"ADD_SERVER_ERRORS",errors:be}),Ae.forEach(ge=>{K.error(ge.message||S.t("error:unknown"))}),C(!1),X();return}}else{let be=pe?.doc||pe?.result;be&&(C(!0),m(be))}X()}}}},{afterProcess:()=>{b(!1)},beforeProcess:()=>{b(!0)}})}),j=Vl(!1),O=Vl(e6(L));t6(()=>{if(!j.current){j.current=!0;return}let{updatedAt:V,...z}=e6(L),{updatedAt:X,...Q}=O.current;GU(z,Q)||(O.current=z,M())},[L]),t6(()=>()=>{G()},[]);let G=qt(()=>{P.current&&clearTimeout(P.current),D(!1)});return VU("div",{className:XU,children:[F&&!g&&KF(bd,{}),A&&T("general:saving"),!A&&!!l&&KF(WU.Fragment,{children:T("version:lastSavedAgo",{distance:y1({date:l,i18n:S})})})]})};import{jsx as Gl,jsxs as n6}from"react/jsx-runtime";import{getTranslation as s6}from"@payloadcms/translations";import{useRouter as ZU}from"next/navigation.js";import{formatAdminURL as YU}from"payload/shared";import{Fragment as i6,useCallback as a6,useState as JU}from"react";var l6="delete-document",c6=t=>{let{id:e,buttonId:o,collectionSlug:n,onDelete:r,redirectAfterDelete:s=!0,singularLabel:i,title:l}=t,{config:{routes:{admin:a,api:c},serverURL:u},getEntityConfig:d}=W(),m=d({collectionSlug:n}),{setModified:f}=Ve(),h=ZU(),{i18n:p,t:g}=N(),{title:b}=No(),{startRouteTransition:C}=qe(),{openModal:v}=ae(),y=`delete-${e}`,[x,w]=JU(!1),S=a6(()=>{K.error(g("error:deletingTitle",{title:b}))},[g,b]),T=a6(async()=>{f(!1);try{let I=x||!m.trash?await Ge.delete(`${u}${c}/${n}/${e}`,{headers:{"Accept-Language":p.language,"Content-Type":"application/json"}}):await Ge.patch(`${u}${c}/${n}/${e}`,{body:JSON.stringify({deletedAt:new Date().toISOString()}),headers:{"Accept-Language":p.language,"Content-Type":"application/json"}}),R=await I.json();if(I.status<400){if(K.success(g(x||!m.trash?"general:titleDeleted":"general:titleTrashed",{label:s6(i,p),title:b})||R.message),s)return C(()=>h.push(YU({adminRoute:a,path:`/collections/${n}`})));typeof r=="function"&&await r({id:e,collectionConfig:m});return}R.errors?R.errors.forEach(F=>K.error(F.message)):S();return}catch{return S()}},[x,f,u,c,n,e,g,i,S,p,b,h,a,s,r,m,C]);return e?n6(i6,{children:[Gl(ve.Button,{id:o,onClick:()=>{v(y)},children:g("general:delete")}),Gl(et,{body:n6(i6,{children:[Gl(eo,{elements:{1:({children:I})=>Gl("strong",{children:I})},i18nKey:m.trash?"general:aboutToTrash":"general:aboutToDelete",t:g,variables:{label:s6(i,p),title:l||b||e}}),m.trash&&Gl("div",{className:`${l6}__checkbox`,children:Gl(Lo,{checked:x,id:"delete-forever",label:g("general:deletePermanently"),name:"delete-forever",onToggle:I=>w(I.target.checked)})})]}),className:l6,confirmingLabel:g("general:deleting"),heading:g("general:confirmDeletion"),modalSlug:y,onConfirm:T})]}):null};import{jsx as u6,jsxs as qU}from"react/jsx-runtime";import{getTranslation as d6}from"@payloadcms/translations";import{useRouter as QU}from"next/navigation.js";import{formatAdminURL as KU}from"payload/shared";import m6,{useCallback as f6}from"react";var p6=({id:t,slug:e,onDuplicate:o,redirectAfterDuplicate:n=!0,singularLabel:r})=>{let s=QU(),i=So(),{openModal:l}=ae(),a=xe(),{setModified:c}=Ve(),{startRouteTransition:u}=qe(),{config:{routes:{admin:d,api:m},serverURL:f},getEntityConfig:h}=W(),p=h({collectionSlug:e}),[g,b]=m6.useState(!1),{i18n:C,t:v}=N(),y=`duplicate-${t}`,x=f6(async()=>{b(!0),await Ge.post(`${f}${m}/${e}/${t}/duplicate${a?.code?`?locale=${a.code}`:""}`,{body:JSON.stringify({}),headers:{"Accept-Language":C.language,"Content-Type":"application/json",credentials:"include"}}).then(async S=>{let{doc:T,errors:I,message:R}=await S.json();if(S.status<400){if(K.success(R||v("general:successfullyDuplicated",{label:d6(r,C)})),c(!1),n)return u(()=>s.push(KU({adminRoute:d,path:`/collections/${e}/${T.id}${a?.code?`?locale=${a.code}`:""}`})));typeof o=="function"&&o({collectionConfig:p,doc:T})}else K.error(I?.[0].message||R||v("error:unspecific",{label:d6(r,C)}))})},[a,f,m,e,t,C,v,r,o,n,c,s,d,p,u]),w=f6(async()=>{b(!1),await x()},[x]);return qU(m6.Fragment,{children:[u6(ve.Button,{id:"action-duplicate",onClick:()=>i?(b(!0),l(y)):x(),children:v("general:duplicate")}),g&&u6(et,{body:v("general:unsavedChangesDuplicate"),confirmLabel:v("general:duplicateWithoutSaving"),heading:v("general:unsavedChanges"),modalSlug:y,onConfirm:w})]})};import{jsx as g6}from"react/jsx-runtime";import"react";import{jsx as Td,jsxs as eX}from"react/jsx-runtime";import{Fragment as h6}from"react";var bh=({active:t=!0,className:e})=>Td("svg",{className:[e,"icon icon--eye"].filter(Boolean).join(" "),viewBox:"0 0 16 12",xmlns:"http://www.w3.org/2000/svg",children:t?Td(h6,{children:Td("path",{className:"stroke",d:"M2 11.5L4.35141 9.51035M15 0.5L12.6486 2.48965M10.915 6.64887C10.6493 7.64011 9.78959 8.38832 8.7408 8.48855M10.4085 4.38511C9.94992 3.84369 9.2651 3.5 8.5 3.5C7.11929 3.5 6 4.61929 6 6C6 6.61561 6.22251 7.17926 6.59149 7.61489M10.4085 4.38511L6.59149 7.61489M10.4085 4.38511L12.6486 2.48965M6.59149 7.61489L4.35141 9.51035M14.1292 3.92915C15.0431 5.02085 15.5 6 15.5 6C15.5 6 13.1667 11 8.5 11C7.67995 11 6.93195 10.8456 6.256 10.5911M4.35141 9.51035C2.45047 8.03672 1.5 6 1.5 6C1.5 6 3.83333 1 8.5 1C10.1882 1 11.5711 1.65437 12.6486 2.48965"})}):eX(h6,{children:[Td("circle",{className:"stroke",cx:"8.5",cy:"6",r:"2.5"}),Td("path",{className:"stroke",d:"M8.5 1C3.83333 1 1.5 6 1.5 6C1.5 6 3.83333 11 8.5 11C13.1667 11 15.5 6 15.5 6C15.5 6 13.1667 1 8.5 1Z"})]})});var b6="live-preview-toggler",v6=()=>{let{isLivePreviewing:t,setIsLivePreviewing:e}=Fo(),{t:o}=N();return g6("button",{"aria-label":o(t?"general:exitLivePreview":"general:livePreview"),className:[b6,t&&`${b6}--active`].filter(Boolean).join(" "),id:"live-preview-toggler",onClick:()=>{e(!t)},title:o(t?"general:exitLivePreview":"general:livePreview"),type:"button",children:g6(bh,{active:t})})};import{c as oX}from"react/compiler-runtime";import{jsx as x6,jsxs as rX}from"react/jsx-runtime";import{useState as nX}from"react";import{jsx as C6,jsxs as tX}from"react/jsx-runtime";import"react";var y6=({className:t})=>tX("svg",{className:["icon icon--lock",t].filter(Boolean).join(" "),fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[C6("path",{className:"stroke",d:"M7.5 9.5V7.5C7.5 6.83696 7.76339 6.20107 8.23223 5.73223C8.70107 5.26339 9.33696 5 10 5C10.663 5 11.2989 5.26339 11.7678 5.73223C12.2366 6.20107 12.5 6.83696 12.5 7.5V9.5",strokeLinecap:"round",strokeLinejoin:"round",strokeOpacity:"1"}),C6("path",{className:"stroke",d:"M13.5 9.5H6.5C5.94772 9.5 5.5 9.94772 5.5 10.5V14C5.5 14.5523 5.94772 15 6.5 15H13.5C14.0523 15 14.5 14.5523 14.5 14V10.5C14.5 9.94772 14.0523 9.5 13.5 9.5Z",stopOpacity:"1",strokeLinecap:"round",strokeLinejoin:"round"})]});var w6="locked",Fd=t=>{let e=oX(8),{className:o,user:n}=t,[r,s]=nX(!1),{t:i}=N(),l=nh(n)?n.email??n.id:i("general:anotherUser"),a;e[0]!==o?(a=[w6,o].filter(Boolean),e[0]=o,e[1]=a):a=e[1];let c=a.join(" "),u,d;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=()=>s(!0),d=()=>s(!1),e[2]=u,e[3]=d):(u=e[2],d=e[3]);let m=`${l} ${i("general:isEditing")}`,f;return e[4]!==r||e[5]!==c||e[6]!==m?(f=rX("div",{className:c,onMouseEnter:u,onMouseLeave:d,role:"button",tabIndex:0,children:[x6(Eo,{alignCaret:"left",className:`${w6}__tooltip`,position:"top",show:r,children:m}),x6(y6,{})]}),e[4]=r,e[5]=c,e[6]=m,e[7]=f):f=e[7],f};import{jsx as vh,jsxs as sX}from"react/jsx-runtime";import{getTranslation as S6}from"@payloadcms/translations";import{useRouter as iX}from"next/navigation.js";import{formatAdminURL as aX}from"payload/shared";import*as _6 from"qs-esm";import{Fragment as lX,useCallback as I6}from"react";var D6=t=>{let{id:e,buttonId:o,collectionSlug:n,onDelete:r,redirectAfterDelete:s=!0,singularLabel:i,title:l}=t,{config:{routes:{admin:a,api:c},serverURL:u},getEntityConfig:d}=W(),m=d({collectionSlug:n}),f=iX(),{i18n:h,t:p}=N(),{title:g}=No(),{startRouteTransition:b}=qe(),{openModal:C}=ae(),v=`perma-delete-${e}`,y=I6(()=>{K.error(p("error:deletingTitle",{title:g}))},[p,g]),x=I6(async()=>{try{let w=`${u}${c}/${n}?${_6.stringify({trash:!0,where:{and:[{id:{equals:e}},{deletedAt:{exists:!0}}]}})}`,S=await Ge.delete(w,{headers:{"Accept-Language":h.language,"Content-Type":"application/json"}}),T=await S.json();if(S.status<400){if(K.success(p("general:titleDeleted",{label:S6(i,h),title:g})||T.message),s)return b(()=>f.push(aX({adminRoute:a,path:`/collections/${n}/trash`})));typeof r=="function"&&await r({id:e,collectionConfig:m});return}T.errors?T.errors.forEach(I=>K.error(I.message)):y()}catch{y()}},[u,c,n,e,p,i,y,h,g,f,a,s,r,m,b]);return e?sX(lX,{children:[vh(oe,{buttonStyle:"secondary",id:o,onClick:()=>{C(v)},children:p("general:permanentlyDelete")}),vh(et,{body:vh(eo,{elements:{1:({children:w})=>vh("strong",{children:w})},i18nKey:"general:aboutToPermanentlyDelete",t:p,variables:{label:S6(i,h),title:l||g||e}}),confirmingLabel:p("general:deleting"),heading:p("general:confirmDeletion"),modalSlug:v,onConfirm:x})]}):null};import{c as dX}from"react/compiler-runtime";import{jsx as P6}from"react/jsx-runtime";import"react";import{jsx as T6}from"react/jsx-runtime";import"react";var Rd=t=>{let{className:e}=t;return T6("svg",{className:[e,"icon icon--externalLink"].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:T6("path",{className:"stroke",d:"M16 10.6667V14.6667C16 15.0203 15.8595 15.3594 15.6095 15.6095C15.3594 15.8595 15.0203 16 14.6667 16H5.33333C4.97971 16 4.64057 15.8595 4.39052 15.6095C4.14048 15.3594 4 15.0203 4 14.6667V5.33333C4 4.97971 4.14048 4.64057 4.39052 4.39052C4.64057 4.14048 4.97971 4 5.33333 4H9.33333M16 4L10 10M16 4H12M16 4V8",strokeLinecap:"square"})})};import*as R6 from"qs-esm";import{useCallback as cX,useRef as uX,useState as F6}from"react";var A6=()=>{let{id:t,collectionSlug:e,globalSlug:o,versionCount:n}=De(),[r,s]=F6(!1),[i,l]=F6(""),{code:a}=xe(),c=n>0,{config:{routes:{api:u},serverURL:d}}=W(),{t:m}=N(),f=uX(!1);return{generatePreviewURL:cX(async({openPreviewWindow:p=!1})=>{if(!f.current){f.current=!0;try{s(!0);let g=`${d}${u}`;e&&(g=`${g}/${e}/${t}/preview`),o&&(g=`${g}/globals/${o}/preview`);let C=await fetch(`${g}?${R6.stringify({draft:c?"true":"false",locale:a||void 0})}`);if(!C.ok)throw new Error;let v=await C.json();if(!v)throw new Error;l(v),s(!1),f.current=!1,p&&window.open(v,"_blank")}catch{s(!1),f.current=!1,K.error(m("error:previewing"))}}},[d,u,e,o,c,a,t,m]),isLoading:r,label:m(r?"general:loading":"version:preview"),previewURL:i}};var mX="preview-btn";function z0(t){let e=dX(5),{generatePreviewURL:o,label:n}=A6(),r;e[0]!==o?(r=()=>{o({openPreviewWindow:!0})},e[0]=o,e[1]=r):r=e[1];let s;return e[2]!==n||e[3]!==r?(s=P6("button",{"aria-label":n,className:mX,id:"preview-button",onClick:r,title:n,type:"button",children:P6(Rd,{})}),e[2]=n,e[3]=r,e[4]=s):s=e[4],s}import{jsx as Wl,jsxs as M6}from"react/jsx-runtime";import*as O6 from"qs-esm";import H0,{useCallback as U0}from"react";import{jsx as mo,jsxs as ha}from"react/jsx-runtime";import{getTranslation as hX}from"@payloadcms/translations";import*as j6 from"qs-esm";import er,{useCallback as gX,useMemo as $6}from"react";import{jsx as pa,jsxs as E6}from"react/jsx-runtime";import"react";var N6="table",W0=({appearance:t,BeforeTable:e,columns:o,data:n})=>{let r=o?.filter(s=>s?.active);return!r||r.length===0?pa("div",{children:"No columns selected"}):E6("div",{className:[N6,t&&`${N6}--appearance-${t}`].filter(Boolean).join(" "),children:[e,E6("table",{cellPadding:"0",cellSpacing:"0",children:[pa("thead",{children:pa("tr",{children:r.map((s,i)=>pa("th",{id:`heading-${s.accessor.replace(/\./g,"__")}`,children:s.Heading},i))})}),pa("tbody",{children:n&&n?.map((s,i)=>pa("tr",{className:`row-${i+1}`,children:r.map((l,a)=>{let{accessor:c}=l;return pa("td",{className:`cell-${c.replace(/\./g,"__")}`,children:l.renderedCells[i]},a)})},typeof s.id=="string"||typeof s.id=="number"?String(s.id):i))})]})]})};import{jsx as Mn,jsxs as fX}from"react/jsx-runtime";import{getTranslation as pX}from"@payloadcms/translations";import"react";var L6=({dateFormat:t,deleteHandler:e,docs:o,i18n:n,localization:r,supportedTimezones:s,t:i})=>{let l=[{accessor:"input.type",active:!0,field:{name:"",type:"text"},Heading:Mn("span",{children:i("version:type")}),renderedCells:o.map(a=>{let c=a.input?.type;return fX(vt,{pillStyle:c==="publish"?"success":"warning",size:"small",children:[c==="publish"&&i("version:publish"),c==="unpublish"&&i("version:unpublish")]},a.id)})},{accessor:"waitUntil",active:!0,field:{name:"",type:"date"},Heading:Mn("span",{children:i("general:time")}),renderedCells:o.map(a=>Mn("span",{children:Or({date:a.waitUntil,i18n:n,pattern:t,timezone:a.input.timezone})},a.id))},{accessor:"input.timezone",active:!0,field:{name:"",type:"text"},Heading:Mn("span",{children:i("general:timezone")}),renderedCells:o.map(a=>{let u=s.find(d=>d.value===a.input.timezone)?.label||a.input.timezone;return Mn("span",{children:u||i("general:noValue")},a.id)})}];return r&&l.push({accessor:"input.locale",active:!0,field:{name:"",type:"text"},Heading:Mn("span",{children:i("general:locale")}),renderedCells:o.map(a=>{if(a.input.locale){let c=r.locales.find(u=>u.code===a.input.locale);if(c)return Mn("span",{children:pX(c.label,n)},a.id)}return Mn("span",{children:i("general:all")},a.id)})}),l.push({accessor:"delete",active:!0,field:{name:"delete",type:"text"},Heading:Mn("span",{children:i("general:delete")}),renderedCells:o.map(a=>Mn(oe,{buttonStyle:"icon-label",className:"schedule-publish__delete",icon:"x",onClick:c=>{c.preventDefault(),e(a.id)},tooltip:i("general:delete")},a.id))}),l};var zl="schedule-publish",k6={label:"All",value:"all"},B6=({slug:t,defaultType:e,schedulePublishConfig:o})=>{let{toggleModal:n}=ae(),{config:{admin:{dateFormat:r,timezones:{defaultTimezone:s,supportedTimezones:i}},localization:l,routes:{api:a},serverURL:c}}=W(),{id:u,collectionSlug:d,globalSlug:m}=De(),{title:f}=No(),{i18n:h,t:p}=N(),{schedulePublish:g}=$t(),[b,C]=er.useState(e||"publish"),[v,y]=er.useState(),[x,w]=er.useState(s),[S,T]=er.useState(k6),[I,R]=er.useState(!1),F=p("general:schedulePublishFor",{title:f}),[_,D]=er.useState(),[A,L]=er.useState(),E=er.useRef(()=>null),k=Intl.DateTimeFormat().resolvedOptions().timeZone,B=er.useMemo(()=>{if(l){let V=l.locales.map(({code:z,label:X})=>({label:hX(X,h),value:z}));return V.unshift(k6),V}return[]},[l,h]),$=er.useCallback(async()=>{let V={sort:"waitUntil",where:{and:[{taskSlug:{equals:"schedulePublish"}},{waitUntil:{greater_than:new Date}}]}};d&&(V.where.and.push({"input.doc.value":{equals:String(u)}}),V.where.and.push({"input.doc.relationTo":{equals:d}})),m&&V.where.and.push({"input.global":{equals:m}});let{docs:z}=await Ge.post(`${c}${a}/payload-jobs`,{body:j6.stringify(V),headers:{"Accept-Language":h.language,"Content-Type":"application/x-www-form-urlencoded","X-Payload-HTTP-Method-Override":"GET"}}).then(X=>X.json());L(L6({dateFormat:r,deleteHandler:E.current,docs:z,i18n:h,localization:l,supportedTimezones:i,t:p})),D(z)},[d,m,c,a,h,r,l,i,p,u]),P=er.useCallback(async V=>{try{await g({deleteID:V}),await $(),K.success(p("general:deletedSuccessfully"))}catch(z){console.error(z),K.error(z.message)}},[$,g,p]);er.useEffect(()=>{E.current=P},[P]);let M=er.useCallback(async()=>{if(!v)return K.error(p("general:noDateSelected"));R(!0);let V;typeof S=="object"&&S.value!=="all"&&b==="publish"&&(V=S.value);try{await g({type:b,date:v,doc:d?{relationTo:d,value:String(u)}:void 0,global:m||void 0,locale:V,timezone:x}),y(void 0),K.success(p("version:scheduledSuccessfully")),$()}catch(z){console.error(z),K.error(z.message)}R(!1)},[v,S,b,p,g,d,u,m,x,$]),j=$6(()=>{if(x&&k&&v){let V=lo.tz(x),z=lo.tz(k),X=new lo(v).withTimeZone(x),Q=ln(X,V);return ln(Q,z).toISOString()}return v},[x,v,k]),O=gX(V=>{if(x&&V){let z=lo.tz(x),X=new lo(V),Q=ln(X,z);y(Q||null)}else y(V||null)},[y,x]);er.useEffect(()=>{_||(async()=>await $())()},[_,$]);let G=$6(()=>v&&x2(v)?new Date:Ms(new Date),[v]);return ha(Bt,{className:zl,gutter:!1,Header:ha("div",{className:`${zl}__drawer-header`,children:[mo("h2",{title:F,children:F}),mo(Sp,{onClick:()=>n(t)})]}),slug:t,children:[ha(_o,{className:`${zl}__scheduler`,children:[mo(_e,{label:p("version:type"),required:!0}),ha("ul",{className:`${zl}__type`,children:[mo("li",{children:mo(Du,{id:`${t}-type`,isSelected:b==="publish",onChange:()=>C("publish"),option:{label:p("version:publish"),value:"publish"},path:`${t}-type`,readOnly:I})}),mo("li",{children:mo(Du,{id:`${t}-type`,isSelected:b==="unpublish",onChange:()=>C("unpublish"),option:{label:p("version:unpublish"),value:"unpublish"},path:`${t}-type`,readOnly:I})})]}),mo("br",{}),mo(_e,{label:p("general:time"),path:"time",required:!0}),mo(Ja,{id:"time",maxTime:i2(),minDate:new Date,minTime:G,onChange:V=>O(V),pickerAppearance:"dayAndTime",readOnly:I,timeFormat:o?.timeFormat,timeIntervals:o?.timeIntervals??5,value:j}),i.length>0&&mo(cu,{id:"timezone-picker",onChange:w,options:i,selectedTimezone:x}),mo("br",{}),B.length>0&&b==="publish"&&ha(er.Fragment,{children:[mo(_e,{label:p("localization:localeToPublish")}),mo(pt,{onChange:V=>T(V),options:B,value:S}),mo("br",{})]}),ha("div",{className:`${zl}__actions`,children:[mo(oe,{buttonStyle:"primary",disabled:I,id:"scheduled-publish-save",onClick:M,type:"button",children:p("general:save")}),I?mo("span",{children:p("general:saving")}):null]})]}),ha(_o,{className:`${zl}__upcoming`,children:[mo("h4",{children:p("general:upcomingEvents")}),!_&&mo(Ft,{}),_?.length===0&&mo(nn,{type:"info",children:p("general:noUpcomingEventsScheduled")}),_?.length>0&&mo(W0,{appearance:"condensed",columns:A,data:_})]})]})};function X0({label:t}){let{id:e,collectionSlug:o,docConfig:n,globalSlug:r,hasPublishedDoc:s,hasPublishPermission:i,setHasPublishedDoc:l,setMostRecentVersionIsAutosaved:a,setUnpublishedVersionCount:c,unpublishedVersionCount:u,uploadStatus:d}=De(),{config:m,getEntityConfig:f}=W(),{submit:h}=Ve(),p=So(),g=ct(),{code:b}=xe(),{isModalOpen:C,toggleModal:v}=ae(),y=`schedule-publish-${e}`,{localization:x,routes:{api:w},serverURL:S}=m,{t:T}=N(),I=t||T("version:publishChanges"),R=H0.useMemo(()=>{if(o)return f({collectionSlug:o});if(r)return f({globalSlug:r})},[o,r,f]),F=u>0,_=typeof R?.versions?.drafts=="object"&&R?.versions?.drafts.schedulePublish,D=i&&(p||F||!s)&&d!=="uploading",A=!!_,L=!!(typeof R?.versions?.drafts=="object"&&R?.versions?.drafts.autosave),E=!!(A&&i&&(r||o&&e)&&(L||!p)),B=yr()==="update"&&!p,$=U0(async()=>{if(B)return;let U=`?locale=${b}&depth=0&fallback-locale=null&draft=true`,ee,J="POST";o&&(ee=`${S}${w}/${o}${e?`/${e}`:""}${U}`,e&&(J="PATCH")),r&&(ee=`${S}${w}/globals/${r}${U}`),await h({action:ee,method:J,overrides:{_status:"draft"},skipValidation:!0})},[h,o,r,S,w,b,e,B]);ua({cmdCtrlKey:!0,editDepth:g,keyCodes:["s"]},U=>{U.preventDefault(),U.stopPropagation(),$&&n.versions?.drafts&&n.versions?.drafts?.autosave&&$()});let P=U0(()=>{d!=="uploading"&&(h({overrides:{_status:"published"}}),c(0),a(!1),l(!0))},[l,h,c,d,a]),M=U0(U=>{if(d==="uploading")return;let ee=O6.stringify({publishSpecificLocale:U}),J=`${S}${w}${r?`/globals/${r}`:`/${o}/${e?`${"/"+e}`:""}`}${ee?"?"+ee:""}`;h({action:J,overrides:{_status:"published"}}),l(!0)},[w,o,r,e,S,l,h,d]),j=!x||x&&x.defaultLocalePublishOption!=="active",O=x&&x?.locales.find(U=>typeof U=="string"?U===b:U.code===b),G=O&&(typeof O.label=="string"?O.label:O.label?.[b]??void 0),V=j?P:()=>M(O.code),z=j?I:T("version:publishIn",{locale:G}),X=j?()=>M(O.code):P,Q=j?T("version:publishIn",{locale:G}):T("version:publishAllLocales");return i?M6(H0.Fragment,{children:[Wl(Rr,{buttonId:"action-save",disabled:!D,enableSubMenu:E,onClick:V,size:"medium",SubMenuPopupContent:x||E?({close:U})=>M6(H0.Fragment,{children:[E&&Wl(ve.ButtonGroup,{children:Wl(ve.Button,{id:"schedule-publish",onClick:()=>[v(y),U()],children:T("version:schedulePublish")})},"schedule-publish"),x&&D&&Wl(ve.ButtonGroup,{children:Wl(ve.Button,{id:"publish-locale",onClick:X,children:Q})})]}):void 0,type:"button",children:x?z:I}),E&&C(y)&&Wl(B6,{defaultType:F?"publish":"unpublish",schedulePublishConfig:typeof _=="object"&&_,slug:y})]}):null}import{jsx as Hl,jsxs as V6}from"react/jsx-runtime";import{getTranslation as G6}from"@payloadcms/translations";import{useRouter as bX}from"next/navigation.js";import{formatAdminURL as vX}from"payload/shared";import*as U6 from"qs-esm";import{Fragment as z6,useCallback as W6,useState as CX}from"react";var H6="restore-button",X6=t=>{let{id:e,buttonId:o,collectionSlug:n,onRestore:r,redirectAfterRestore:s=!0,singularLabel:i,title:l}=t,{config:{routes:{admin:a,api:c},serverURL:u},getEntityConfig:d}=W(),m=d({collectionSlug:n}),f=bX(),{i18n:h,t:p}=N(),{title:g}=No(),{startRouteTransition:b}=qe(),{openModal:C}=ae(),v=`restore-${e}`,[y,x]=CX(!1),w=W6(()=>{K.error(p("error:restoringTitle",{title:g}))},[p,g]),S=W6(async()=>{try{let T=`${u}${c}/${n}?${U6.stringify({trash:!0,where:{and:[{id:{equals:e}},{deletedAt:{exists:!0}}]}})}`,I={deletedAt:null};m?.versions?.drafts&&(I._status=y?"published":"draft");let R=await Ge.patch(T,{body:JSON.stringify(I),headers:{"Accept-Language":h.language,"Content-Type":"application/json"}}),F=await R.json();if(R.status<400){if(K.success(p("general:titleRestored",{label:G6(i,h),title:g})||F.message),s)return b(()=>f.push(vX({adminRoute:a,path:`/collections/${n}/${e}`})));typeof r=="function"&&await r({id:e,collectionConfig:m});return}F.errors?F.errors.forEach(_=>K.error(_.message)):w()}catch{w()}},[u,c,n,e,p,i,w,h,g,f,a,s,r,m,b,y]);return e?V6(z6,{children:[Hl(oe,{buttonStyle:"primary",id:o,onClick:()=>{C(v)},children:p("general:restore")},o),Hl(et,{body:V6(z6,{children:[Hl(eo,{elements:{1:({children:T})=>Hl("strong",{children:T})},i18nKey:m?.versions?.drafts?"general:aboutToRestoreAsDraft":"general:aboutToRestore",t:p,variables:{label:G6(i,h),title:l||g||e}}),m?.versions?.drafts&&Hl("div",{className:`${H6}__checkbox`,children:Hl(Lo,{checked:y,id:"restore-as-published",label:p("general:restoreAsPublished"),name:"restore-as-published",onToggle:T=>x(T.target.checked)})})]}),className:H6,confirmingLabel:p("general:restoring"),heading:p("general:confirmRestoration"),modalSlug:v,onConfirm:S})]}):null};import{jsx as yX}from"react/jsx-runtime";import{useRef as xX}from"react";function Z0({label:t}){let{uploadStatus:e}=De(),{t:o}=N(),{submit:n}=Ve(),r=So(),s=t||o("general:save"),i=xX(null),l=ct(),c=yr()==="update"&&!r||e==="uploading";return ua({cmdCtrlKey:!0,editDepth:l,keyCodes:["s"]},d=>{d.preventDefault(),d.stopPropagation(),i?.current&&i.current.click()}),yX(Rr,{buttonId:"action-save",disabled:c,onClick:()=>{if(e!=="uploading")return void n()},ref:i,size:"medium",type:"button",children:s})}import{jsx as wX}from"react/jsx-runtime";import{useCallback as SX,useRef as IX}from"react";var _X="save-draft";function Y0(t){let{config:{routes:{api:e},serverURL:o}}=W(),{id:n,collectionSlug:r,globalSlug:s,setUnpublishedVersionCount:i,uploadStatus:l}=De(),a=So(),{code:c}=xe(),u=IX(null),d=ct(),{t:m}=N(),{submit:f}=Ve(),p=yr()==="update"&&!a||l==="uploading",g=SX(async()=>{if(p)return;let b=`?locale=${c}&depth=0&fallback-locale=null&draft=true`,C,v="POST";r&&(C=`${o}${e}/${r}${n?`/${n}`:""}${b}`,n&&(v="PATCH")),s&&(C=`${o}${e}/globals/${s}${b}`),await f({action:C,method:v,overrides:{_status:"draft"},skipValidation:!0}),i(y=>y+1)},[f,r,s,o,e,c,n,p,i]);return ua({cmdCtrlKey:!0,editDepth:d,keyCodes:["s"]},b=>{b.preventDefault(),b.stopPropagation(),u?.current&&u.current.click()}),wX(Rr,{buttonId:"action-save-draft",buttonStyle:"secondary",className:_X,disabled:p,onClick:()=>void g(),ref:u,size:"medium",type:"button",children:m("version:saveDraft")})}import{jsx as Ul,jsxs as Ch}from"react/jsx-runtime";import Z6,{useCallback as DX}from"react";var Xl="status",Y6=()=>{let{id:t,collectionSlug:e,docPermissions:o,globalSlug:n,hasPublishedDoc:r,incrementVersionCount:s,isTrashed:i,setHasPublishedDoc:l,setMostRecentVersionIsAutosaved:a,setUnpublishedVersionCount:c,unpublishedVersionCount:u}=De(),{toggleModal:d}=ae(),{config:{routes:{api:m},serverURL:f}}=W(),{reset:h}=Ve(),{code:p}=xe(),{i18n:g,t:b}=N(),C=`confirm-un-publish-${t}`,v=`confirm-revert-${t}`,y;u>0&&r?y="changed":r?r&&u<=0&&(y="published"):y="draft";let x=i?r?"previouslyPublished":"previouslyDraft":y,w=DX(async T=>{let I,R,F;T==="unpublish"&&(F={_status:"draft"}),e&&(I=`${f}${m}/${e}/${t}?locale=${p}&fallback-locale=null&depth=0`,R="patch"),n&&(I=`${f}${m}/globals/${n}?locale=${p}&fallback-locale=null&depth=0`,R="post"),T==="revert"&&(F=await Ge.get(I,{headers:{"Accept-Language":g.language,"Content-Type":"application/json"}}).then(A=>A.json()));let _=await Ge[R](I,{body:JSON.stringify(F),headers:{"Accept-Language":g.language,"Content-Type":"application/json"}});if(_.status===200){let D,A=await _.json();n?D=A.result:e&&(D=A.doc),h(D),K.success(A.message),s(),a(!1),T==="unpublish"?l(!1):T==="revert"&&c(0)}else try{let D=await _.json();D.errors?.[0]?.message?K.error(D.errors[0].message):D.error?K.error(D.error):K.error(b("error:unPublishingDocument"))}catch{K.error(b("error:unPublishingDocument"))}},[m,e,n,t,g.language,s,p,h,f,c,a,b,l]),S=o?.update;return y?Ul("div",{className:Xl,title:`${b("version:status")}: ${b(`version:${x}`)}`,children:Ch("div",{className:`${Xl}__value-wrap`,children:[Ch("span",{className:`${Xl}__label`,children:[b("version:status"),":\xA0"]}),Ul("span",{className:`${Xl}__value`,children:b(`version:${x}`)}),!i&&S&&y==="published"&&Ch(Z6.Fragment,{children:["\xA0\u2014\xA0",Ul(oe,{buttonStyle:"none",className:`${Xl}__action`,id:"action-unpublish",onClick:()=>d(C),children:b("version:unpublish")}),Ul(et,{body:b("version:aboutToUnpublish"),confirmingLabel:b("version:unpublishing"),heading:b("version:confirmUnpublish"),modalSlug:C,onConfirm:()=>w("unpublish")})]}),!i&&S&&y==="changed"&&Ch(Z6.Fragment,{children:["\xA0\u2014\xA0",Ul(oe,{buttonStyle:"none",className:`${Xl}__action`,id:"action-revert-to-published",onClick:()=>d(v),children:b("version:revertToPublished")}),Ul(et,{body:b("version:aboutToRevertToPublished"),confirmingLabel:b("version:reverting"),heading:b("version:confirmRevertToSaved"),modalSlug:v,onConfirm:()=>w("revert")})]})]})}):null};var Gt="doc-controls",q0=t=>{let e=TX(15),{id:o,slug:n,BeforeDocumentControls:r,customComponents:s,data:i,disableActions:l,disableCreate:a,EditMenuItems:c,hasSavePermission:u,isAccountView:d,isEditing:m,isInDrawer:f,isTrashed:h,onDelete:p,onDrawerCreateNew:g,onDuplicate:b,onRestore:C,onTakeOver:v,permissions:y,readOnlyForIncomingUser:x,redirectAfterDelete:w,redirectAfterDuplicate:S,redirectAfterRestore:T,user:I}=t,R;e[0]!==s?(R=s===void 0?{}:s,e[0]=s,e[1]=R):R=e[1];let{PreviewButton:F,PublishButton:_,SaveButton:D,SaveDraftButton:A}=R,{i18n:L,t:E}=N(),k=ct(),{config:B,getEntityConfig:$}=W(),P=$({collectionSlug:n}),M=$({globalSlug:n}),{isLivePreviewEnabled:j}=Fo(),{admin:O,localization:G,routes:V}=B,{dateFormat:z}=O,{admin:X}=V,[Q,U]=J0.useState(""),[ee,J]=J0.useState(""),re=kr(),ie=vi(),le,Z;e[2]!==i||e[3]!==z||e[4]!==L?(le=()=>{i?.updatedAt&&U(Or({date:i.updatedAt,i18n:L,pattern:z})),i?.createdAt&&J(Or({date:i.createdAt,i18n:L,pattern:z}))},Z=[i,L,z],e[2]=i,e[3]=z,e[4]=L,e[5]=le,e[6]=Z):(le=e[5],Z=e[6]),AX(le,Z);let pe=y&&"create"in y&&y.create,be=y&&"delete"in y&&y.delete,Ae=!!(P&&o&&!l&&(pe||be)),ge=!o&&P?.versions?.drafts&&P.versions?.drafts.validate,Te=P?.versions?.drafts,Y=M?.versions?.drafts,de=Te&&Te?.autosave||Y&&Y?.autosave,H=Te&&Te?.autosave,q=Y&&Y?.autosave,ne=H&&Te.autosave!==!1&&Te.autosave.showSaveDraftButton===!0||q&&Y.autosave!==!1&&Y.autosave.showSaveDraftButton===!0,te=G&&!P?.admin?.disableCopyToLocale,ce=P&&P.folders,he=I&&x,$e;e[7]!==f||e[8]!==j?($e=j&&!f&&it(v6,{}),e[7]=f,e[8]=j,e[9]=$e):$e=e[9];let me;return e[10]!==v||e[11]!==x||e[12]!==E||e[13]!==I?(me=I&&x&&it(oe,{buttonStyle:"secondary",id:"take-over",onClick:v,size:"medium",type:"button",children:E("general:takeOver")}),e[10]=v,e[11]=x,e[12]=E,e[13]=I,e[14]=me):me=e[14],Oo(_o,{className:Gt,children:[Oo("div",{className:`${Gt}__wrapper`,children:[Oo("div",{className:`${Gt}__content`,children:[he||ce?Oo("div",{className:`${Gt}__meta-icons`,children:[he&&it(Fd,{className:`${Gt}__locked-controls`,user:I}),ce&&B.folders&&!h&&it(Ju,{folderCollectionSlug:B.folders.slug,folderFieldName:B.folders.fieldName})]}):null,Oo("ul",{className:`${Gt}__meta`,children:[P&&!m&&!d&&it("li",{className:`${Gt}__list-item`,children:it("p",{className:`${Gt}__value`,children:L.t("general:creatingNewLabel",{label:FX(P?.labels?.singular??L.t("general:document"),L)})})}),(P?.versions?.drafts||M?.versions?.drafts)&&Oo(Ad,{children:[(M||P&&m)&&it("li",{className:[`${Gt}__status`,`${Gt}__list-item`].filter(Boolean).join(" "),children:it(Y6,{})}),u&&de&&!ge&&!h&&it("li",{className:`${Gt}__list-item`,children:it(r6,{collection:P,global:M,id:o,publishedDocUpdatedAt:i?.createdAt})})]}),P?.timestamps&&(m||d)&&Oo(Ad,{children:[Oo("li",{className:[`${Gt}__list-item`,`${Gt}__value-wrap`].filter(Boolean).join(" "),title:i?.updatedAt?Q:"",children:[Oo("p",{className:`${Gt}__label`,children:[L.t(h?"general:deleted":"general:lastModified"),":\xA0"]}),i?.updatedAt&&it("p",{className:`${Gt}__value`,children:Q})]}),Oo("li",{className:[`${Gt}__list-item`,`${Gt}__value-wrap`].filter(Boolean).join(" "),title:i?.createdAt?ee:"",children:[Oo("p",{className:`${Gt}__label`,children:[L.t("general:created"),":\xA0"]}),i?.createdAt&&it("p",{className:`${Gt}__value`,children:ee})]})]})]})]}),Oo("div",{className:`${Gt}__controls-wrapper`,children:[Oo("div",{className:`${Gt}__controls`,children:[r,$e,(P?.admin.preview||M?.admin.preview)&&it(ue,{CustomComponent:F,Fallback:it(z0,{})}),u&&!h&&it(Ad,{children:P?.versions?.drafts||M?.versions?.drafts?Oo(Ad,{children:[(ge||!de||de&&ne)&&it(ue,{CustomComponent:A,Fallback:it(Y0,{})}),it(ue,{CustomComponent:_,Fallback:it(X0,{})})]}):it(ue,{CustomComponent:D,Fallback:it(Z0,{})})}),be&&h&&it(D6,{buttonId:"action-permanently-delete",collectionSlug:P?.slug,id:o.toString(),onDelete:p,redirectAfterDelete:w,singularLabel:P?.labels?.singular}),u&&h&&it(X6,{buttonId:"action-restore",collectionSlug:P?.slug,id:o.toString(),onRestore:C,redirectAfterRestore:T,singularLabel:P?.labels?.singular}),me]}),Ae&&!x&&it(lt,{button:Oo("div",{className:`${Gt}__dots`,children:[it("div",{}),it("div",{}),it("div",{})]}),className:`${Gt}__popup`,disabled:ie||re,horizontalAlign:"right",size:"large",verticalAlign:"bottom",children:Oo(ve.ButtonGroup,{children:[te&&it(L0,{}),pe&&Oo(J0.Fragment,{children:[!a&&it(Ad,{children:k>1?it(ve.Button,{id:"action-create",onClick:g,children:L.t("general:createNew")}):it(ve.Button,{href:RX({adminRoute:X,path:`/collections/${P?.slug}/create`}),id:"action-create",children:L.t("general:createNew")})}),P.disableDuplicate!==!0&&m&&it(p6,{id:o.toString(),onDuplicate:b,redirectAfterDuplicate:S,singularLabel:P?.labels?.singular,slug:P?.slug})]}),be&&it(c6,{buttonId:"action-delete",collectionSlug:P?.slug,id:o.toString(),onDelete:p,redirectAfterDelete:w,singularLabel:P?.labels?.singular,useAsTitle:P?.admin?.useAsTitle}),c]})})]})]}),it("div",{className:`${Gt}__divider`})]})};import{jsx as K6}from"react/jsx-runtime";import"react";var J6=/^<(?<name>[^\s/>]+)[^>]*>$/,q6=/^<(?<isEnd>\/)?(?<name>[^\s>]+)[^>]*>$/,Q0=/^<[^>]+>/,PX=/^<img[^>]*>$/,Q6=/^<video[^>]*>.*?<\/video>$/ms,yh=class{config;leastCommonLength=1/0;matchedBlockList=[];newTokens=[];oldTokens=[];operationList=[];sideBySideContents;unifiedContent;constructor(e,o,{classNames:n={createBlock:"html-diff-create-block-wrapper",createInline:"html-diff-create-inline-wrapper",deleteBlock:"html-diff-delete-block-wrapper",deleteInline:"html-diff-delete-inline-wrapper"},greedyBoundary:r=1e3,greedyMatch:s=!0,minMatchedSize:i=2,tokenizeByCharacter:l=!1}={}){if(this.config={classNames:{createBlock:"html-diff-create-block-wrapper",createInline:"html-diff-create-inline-wrapper",deleteBlock:"html-diff-delete-block-wrapper",deleteInline:"html-diff-delete-inline-wrapper",...n},greedyBoundary:r,greedyMatch:s,minMatchedSize:i},e=e.trim(),o=o.trim(),e===o){this.unifiedContent=e;let c=0,u=e.replace(/<([^\s/>]+)[^>]*>/g,(d,m)=>{let f=m.length+1;return`${d.slice(0,f)} data-seq="${++c}"${d.slice(f)}`});this.sideBySideContents=[u,u];return}let a=l?this.tokenizeByCharacter:this.tokenizeByWord;this.oldTokens=a(e),this.newTokens=a(o),this.matchedBlockList=this.getMatchedBlockList(),this.operationList=this.getOperationList()}computeBestMatchedBlock(e,o,n,r){let s=null;for(let i=e;i<o;i++){let l=Math.min(o-i,r-n),a=this.slideBestMatchedBlock(i,n,l);if(a&&(!s||a.size>s.size)&&(s=a,a.size>this.leastCommonLength))return s}for(let i=n;i<r;i++){let l=Math.min(o-e,r-i),a=this.slideBestMatchedBlock(e,i,l);if(a&&(!s||a.size>s.size)&&(s=a,a.size>this.leastCommonLength))return s}return s}computeMatchedBlockList(e,o,n,r,s=[]){let i=this.computeBestMatchedBlock(e,o,n,r);return i?(e<i.oldStart&&n<i.newStart&&this.computeMatchedBlockList(e,i.oldStart,n,i.newStart,s),s.push(i),o>i.oldEnd&&r>i.newEnd&&this.computeMatchedBlockList(i.oldEnd,o,i.newEnd,r,s),s):[]}dressUpBlockTag(e,o){return e==="create"?`<div class="${this.config.classNames.createBlock}">${o}</div>`:e==="delete"?`<div class="${this.config.classNames.deleteBlock}">${o}</div>`:""}dressUpDiffContent(e,o){let n=o.length;if(!n)return"";let r="",s=0,i=-1;for(let l of o){i++;let a=l.includes('data-enable-match="true"'),c=l.includes('data-enable-match="false"'),u=!!l.match(Q0)?.length;if(c)s=i+1,r+=l;else if(!a&&u)i>s&&(r+=this.dressUpText(e,o.slice(s,i))),s=i+1,l.match(Q6)?r+=this.dressUpBlockTag(e,l):r+=l;else if(a&&u){i>s&&(r+=this.dressUpText(e,o.slice(s,i))),s=i+1;let d=this.dressupMatchEnabledHtmlTag(e,l);r+=d}}return s<n&&(r+=this.dressUpText(e,o.slice(s))),r}dressUpInlineTag(e,o){return e==="create"?`<span class="${this.config.classNames.createInline}">${o}</span>`:e==="delete"?`<span class="${this.config.classNames.deleteInline}">${o}</span>`:""}dressupMatchEnabledHtmlTag(e,o){let n=o.match(J6)?.groups?.name;if(!n)return o;let r=n.length+1,s=e==="create"?"create":"delete";return`${o.slice(0,r)} data-match-type="${s}"${o.slice(r,o.length)}`}dressUpText(e,o){let n=o.join("");return n.trim()?e==="create"?`<span data-match-type="create">${n}</span>`:e==="delete"?`<span data-match-type="delete">${n}</span>`:"":""}getMatchedBlockList(){let e=this.oldTokens.length,o=this.newTokens.length,n=null,r=0;for(;r<e&&r<o&&this.oldTokens[r]===this.newTokens[r];)r++;r>=this.config.minMatchedSize&&(n={newEnd:r,newStart:0,oldEnd:r,oldStart:0,size:r});let s=null,i=e-1,l=o-1;for(;r<=i&&r<=l&&this.oldTokens[i]===this.newTokens[l];)i--,l--;let a=e-1-i;a>=this.config.minMatchedSize&&(s={newEnd:o,newStart:l+1,oldEnd:e,oldStart:i+1,size:a});let c=n?r:0,u=s?i+1:e,d=n?r:0,m=s?l+1:o;if(this.config.greedyMatch){let h=Math.min(u-c,m-d);h>this.config.greedyBoundary&&(this.leastCommonLength=Math.floor(h/3))}let f=this.computeMatchedBlockList(c,u,d,m);return n&&f.unshift(n),s&&f.push(s),f}getOperationList(){let e=[],o=0,n=0;for(let c of this.matchedBlockList){let u=o===c.oldStart,d=n===c.newStart,m={newEnd:c.newStart,newStart:n,oldEnd:c.oldStart,oldStart:o};!u&&!d?e.push(Object.assign(m,{type:"replace"})):u&&!d?e.push(Object.assign(m,{type:"create"})):!u&&d&&e.push(Object.assign(m,{type:"delete"})),e.push({type:"equal",newEnd:c.newEnd,newStart:c.newStart,oldEnd:c.oldEnd,oldStart:c.oldStart}),o=c.oldEnd,n=c.newEnd}let r=this.oldTokens.length,s=this.newTokens.length,i={newEnd:s,newStart:n,oldEnd:r,oldStart:o},l=o===r,a=n===s;return!l&&!a?e.push(Object.assign(i,{type:"replace"})):l&&!a?e.push(Object.assign(i,{type:"create"})):!l&&a&&e.push(Object.assign(i,{type:"delete"})),e}slideBestMatchedBlock(e,o,n){let r=0,s=null,i=0;for(let l=0;l<n;l++)this.oldTokens[e+l]===this.newTokens[o+l]?i++:i=0,i>r&&(r=i,s={newEnd:o+l+1,newStart:o+l-i+1,oldEnd:e+l+1,oldStart:e+l-i+1,size:i});return r>=this.config.minMatchedSize?s:null}tokenizeByCharacter(e){let o=[],n=0,r=/<picture[^>]*>.*?<\/picture>|<video[^>]*>.*?<\/video>|<[^>]+>/gs,s;for(;(s=r.exec(e))!==null;){let l=e.substring(n,s.index);if(l)for(let a of l)o.push(a);o.push(s[0]),n=s.index+s[0].length}let i=e.substring(n);for(let l of i)o.push(l);return o}tokenizeByWord(e){return e.match(/<picture[^>]*>.*?<\/picture>|<video[^>]*>.*?<\/video>|<[^>]+>|\w+\b|\s+|[^<>\w]/gs)||[]}getSideBySideContents(){if(this.sideBySideContents!==void 0)return this.sideBySideContents;let e="",o="",n=0;this.operationList.forEach(s=>{switch(s.type){case"create":{o+=this.dressUpDiffContent("create",this.newTokens.slice(s.newStart,s.newEnd));break}case"delete":{let i=this.oldTokens.slice(s.oldStart,s.oldEnd);e+=this.dressUpDiffContent("delete",i);break}case"equal":{let i=this.newTokens.slice(s.newStart,s.newEnd),l="";for(let a of i){let c=a.match(J6);if(c){n+=1;let u=(c?.groups?.name?.length??0)+1;l+=`${a.slice(0,u)} data-seq="${n}"${a.slice(u)}`}else l+=a}e+=l,o+=l;break}case"replace":{e+=this.dressUpDiffContent("delete",this.oldTokens.slice(s.oldStart,s.oldEnd)),o+=this.dressUpDiffContent("create",this.newTokens.slice(s.newStart,s.newEnd));break}default:console.error("Richtext diff error - invalid operation: "+String(s.type))}});let r=[e,o];return this.sideBySideContents=r,r}getUnifiedContent(){if(this.unifiedContent!==void 0)return this.unifiedContent;let e="";return this.operationList.forEach(o=>{switch(o.type){case"create":{e+=this.dressUpDiffContent("create",this.newTokens.slice(o.newStart,o.newEnd));break}case"delete":{e+=this.dressUpDiffContent("delete",this.oldTokens.slice(o.oldStart,o.oldEnd));break}case"equal":{for(let n of this.newTokens.slice(o.newStart,o.newEnd))e+=n;break}case"replace":{let n=this.oldTokens.slice(o.oldStart,o.oldEnd),r=this.newTokens.slice(o.newStart,o.newEnd);if(n.length===1&&r.length===1&&n[0]?.match(Q0)&&r[0]?.match(Q0)){e+=r[0];break}let s=[],i=[],l=o.newStart;for(let a=o.oldStart;a<o.oldEnd;a++){let c=this.oldTokens[a];if(!c)continue;let u=c?.match(q6);if(u){if([PX,Q6].some(m=>c?.match(m))){s.push(c);continue}e+=this.dressUpDiffContent("delete",s),s.splice(0);let d=!1;for(let m=l;m<o.newEnd;m++){let f=this.newTokens[m];if(!f)continue;let h=f?.match(q6);if(h&&h.groups?.name===u.groups?.name&&h.groups?.isEnd===u.groups?.isEnd){d=!0,e+=this.dressUpDiffContent("create",i),e+=f,i.splice(0),l=m+1;break}else i.push(f)}d||(e+=c,i.splice(0))}else s.push(c)}l<o.newEnd&&i.push(...this.newTokens.slice(l,o.newEnd)),e+=this.dressUpDiffContent("delete",s),e+=this.dressUpDiffContent("create",i);break}default:console.error("Richtext diff error - invalid operation: "+String(o.type))}}),this.unifiedContent=e,e}};var eR="html-diff",EX=({fromHTML:t,toHTML:e,tokenizeByCharacter:o})=>{let n=new yh(t,e,{tokenizeByCharacter:o}),[r,s]=n.getSideBySideContents(),i=r?K6("div",{className:`${eR}__diff-old html-diff`,dangerouslySetInnerHTML:{__html:r}}):null,l=s?K6("div",{className:`${eR}__diff-new html-diff`,dangerouslySetInnerHTML:{__html:s}}):null;return{From:i,To:l}};import{useEffect as BX}from"react";import{jsx as NX}from"react/jsx-runtime";import{createContext as LX,use as $X,useEffect as kX,useRef as jX}from"react";var tR=LX(null),oR=({children:t})=>{let e=jX(new Set);return kX(()=>{let r=s=>{e.current.forEach(({handler:i,ref:l})=>{l.current&&!l.current.contains(s.target)&&i()})};return document.addEventListener("mousedown",r),()=>document.removeEventListener("mousedown",r)},[]),NX(tR,{value:{register:r=>e.current.add(r),unregister:r=>e.current.delete(r)},children:t})},K0=()=>{let t=$X(tR);if(!t)throw new Error("useClickOutside must be used within a ClickOutsideProvider");return t};function MX(t,e,o=!0){let{register:n,unregister:r}=K0();BX(()=>{if(!o||!t.current)return;let s={handler:e,ref:t};return n(s),()=>r(s)},[t,e,o,n,r])}import{c as lR}from"react/compiler-runtime";import{jsx as Pd,jsxs as JX}from"react/jsx-runtime";import{useState as qX}from"react";import{c as tC}from"react/compiler-runtime";import{jsx as Ro,jsxs as xh}from"react/jsx-runtime";import{getTranslation as OX}from"@payloadcms/translations";import{useRouter as VX,useSearchParams as GX}from"next/navigation.js";import{combineWhereConstraints as zX,mergeListSearchAndWhere as WX,unflatten as rR}from"payload/shared";import*as eC from"qs-esm";import nR,{useCallback as sR,useEffect as HX,useMemo as iR,useState as UX}from"react";var XX=t=>{let e=tC(7),{action:o,disabled:n}=t,{submit:r}=Ve(),{t:s}=N(),i;e[0]!==o||e[1]!==r?(i=()=>{r({action:o,method:"PATCH",skipValidation:!0})},e[0]=o,e[1]=r,e[2]=i):i=e[2];let l=i,a;return e[3]!==n||e[4]!==l||e[5]!==s?(a=Ro(Rr,{className:`${tr}__save`,disabled:n,onClick:l,children:s("general:save")}),e[3]=n,e[4]=l,e[5]=s,e[6]=a):a=e[6],a},ZX=t=>{let e=tC(7),{action:o,disabled:n}=t,{submit:r}=Ve(),{t:s}=N(),i;e[0]!==o||e[1]!==r?(i=()=>{r({action:o,method:"PATCH",overrides:{_status:"published"},skipValidation:!0})},e[0]=o,e[1]=r,e[2]=i):i=e[2];let l=i,a;return e[3]!==n||e[4]!==l||e[5]!==s?(a=Ro(Rr,{className:`${tr}__publish`,disabled:n,onClick:l,children:s("version:publishChanges")}),e[3]=n,e[4]=l,e[5]=s,e[6]=a):a=e[6],a},YX=t=>{let e=tC(7),{action:o,disabled:n}=t,{submit:r}=Ve(),{t:s}=N(),i;e[0]!==o||e[1]!==r?(i=()=>{r({action:o,method:"PATCH",overrides:{_status:"draft"},skipValidation:!0})},e[0]=o,e[1]=r,e[2]=i):i=e[2];let l=i,a;return e[3]!==n||e[4]!==l||e[5]!==s?(a=Ro(Rr,{buttonStyle:"secondary",className:`${tr}__draft`,disabled:n,onClick:l,children:s("version:saveDraft")}),e[3]=n,e[4]=l,e[5]=s,e[6]=a):a=e[6],a},aR=t=>{let{collection:e,collection:{fields:o,labels:{plural:n,singular:r}}={},count:s,drawerSlug:i,ids:l,onSuccess:a,selectAll:c,selectedFields:u,setSelectedFields:d,where:m}=t,{permissions:f,user:h}=Ie(),{code:p}=xe(),{closeModal:g}=ae(),{config:{routes:{api:b},serverURL:C}}=W(),{getFormState:v}=$t(),{i18n:y,t:x}=N(),[w,S]=UX(!1),T=VX(),I=nR.useRef(null),{clearRouteCache:R}=kt(),F=f?.collections?.[e.slug],_=GX(),D=iR(()=>rR(u.reduce((B,$)=>(B[$.value.path]=!0,B),{})),[u]),A=sR(async({formState:B,submitted:$})=>{let P=Dr(I),{state:M}=await v({collectionSlug:e.slug,docPermissions:F,docPreferences:null,formState:B,operation:"update",schemaPath:e.slug,select:D,signal:P.signal,skipValidation:!$});return I.current=null,M},[v,e,F,D]);HX(()=>{let B=I.current;return()=>{_r(B)}},[]);let L=iR(()=>{let B=[];m&&B.push(m);let $=WX({collectionConfig:e,search:_.get("search")});return $&&B.push($),c?B.push(Ht(_)?.where||{id:{not_equals:""}}):B.push({id:{in:l||[]}}),eC.stringify({locale:p,where:zX(B)},{addQueryPrefix:!0})},[e,_,c,l,p,m]),E=()=>{T.replace(eC.stringify({...Ht(_),page:c?"1":void 0},{addQueryPrefix:!0})),R(),g(i),typeof a=="function"&&a()},k=sR(async({dispatchFields:B,formState:$,selected:P})=>{S(!0),d(P||[]);let{state:M}=await v({collectionSlug:e.slug,docPermissions:F,docPreferences:null,formState:$,operation:"update",schemaPath:e.slug,select:rR(P.reduce((j,O)=>(j[O.value.path]=!0,j),{})),skipValidation:!0});B({type:"UPDATE_MANY",formState:M}),S(!1)},[v,e.slug,F,d]);return Ro(Lc,{collectionSlug:e.slug,currentEditor:h,hasPublishedDoc:!1,id:null,initialData:{},isLocked:!1,lastUpdateTime:0,mostRecentVersionIsAutosaved:!1,unpublishedVersionCount:0,versionCount:0,children:Ro(nf,{value:"update",children:xh("div",{className:`${tr}__main`,children:[xh("div",{className:`${tr}__header`,children:[Ro("h2",{className:`${tr}__header__title`,children:x("general:editingLabel",{count:s,label:OX(s>1?n:r,y)})}),Ro("button",{"aria-label":x("general:close"),className:`${tr}__header__close`,id:`close-drawer__${i}`,onClick:()=>g(i),type:"button",children:Ro(bt,{})})]}),xh(ds,{className:`${tr}__form`,isInitializing:w,onChange:[A],onSuccess:E,children:[Ro(Ap,{fields:o,onChange:k,permissions:F.fields}),u.length===0?null:Ro("div",{className:"render-fields",children:u.map((B,$)=>{let{value:{field:P,fieldPermissions:M,path:j}}=B;return Ro(Fl,{clientFieldConfig:P,indexPath:"",parentPath:"",parentSchemaPath:"",path:j,permissions:M},`${j}-${$}`)})}),Ro("div",{className:`${tr}__sidebar-wrap`,children:Ro("div",{className:`${tr}__sidebar`,children:Ro("div",{className:`${tr}__sidebar-sticky-wrap`,children:Ro("div",{className:`${tr}__document-actions`,children:e?.versions?.drafts?xh(nR.Fragment,{children:[Ro(YX,{action:`${C}${b}/${e.slug}${L}&draft=true`,disabled:u.length===0}),Ro(ZX,{action:`${C}${b}/${e.slug}${L}&draft=true`,disabled:u.length===0})]}):Ro(XX,{action:`${C}${b}/${e.slug}${L}`,disabled:u.length===0})})})})})]})]})})})};var tr="edit-many",QX=t=>{let e=lR(8),{count:o,selectAll:n,selectedIDs:r,toggleAll:s}=wo(),i;e[0]!==s?(i=()=>s(),e[0]=s,e[1]=i):i=e[1];let l=n===Xt.AllAvailable,a;return e[2]!==o||e[3]!==t||e[4]!==r||e[5]!==i||e[6]!==l?(a=Pd(Ed,{...t,count:o,ids:r,onSuccess:i,selectAll:l}),e[2]=o,e[3]=t,e[4]=r,e[5]=i,e[6]=l,e[7]=a):a=e[7],a},Ed=t=>{let e=lR(16),{collection:o,count:n,ids:r,modalPrefix:s,onSuccess:i,selectAll:l,where:a}=t,{permissions:c}=Ie(),{openModal:u}=ae(),{t:d}=N(),m;e[0]===Symbol.for("react.memo_cache_sentinel")?(m=[],e[0]=m):m=e[0];let[f,h]=qX(m),p=c?.collections?.[o.slug],g=`${s?`${s}-`:""}edit-${o.slug}`;if(n===0||!p?.update)return null;let b;e[1]===Symbol.for("react.memo_cache_sentinel")?(b=[tr,`${tr}__toggle`].filter(Boolean),e[1]=b):b=e[1];let C;if(e[2]!==o||e[3]!==n||e[4]!==g||e[5]!==r||e[6]!==i||e[7]!==u||e[8]!==l||e[9]!==f||e[10]!==d||e[11]!==a){let v;e[13]!==g||e[14]!==u?(v=()=>{u(g),h([])},e[13]=g,e[14]=u,e[15]=v):v=e[15],C=JX("div",{className:b.join(" "),children:[Pd(Mo,{"aria-label":d("general:edit"),onClick:v,children:d("general:edit")}),Pd(Jn,{children:Pd(Bt,{Header:null,slug:g,children:Pd(aR,{collection:o,count:n,drawerSlug:g,ids:r,onSuccess:i,selectAll:l,selectedFields:f,setSelectedFields:h,where:a})})})]}),e[2]=o,e[3]=n,e[4]=g,e[5]=r,e[6]=i,e[7]=u,e[8]=l,e[9]=f,e[10]=d,e[11]=a,e[12]=C}else C=e[12];return C};import{c as KX}from"react/compiler-runtime";import{jsx as eZ}from"react/jsx-runtime";import"react";function tZ(t){let e=KX(6),o=ct(),n;e[0]!==t.style?(n=t.style||{},e[0]=t.style,e[1]=n):n=e[1];let r=`calc(100 + ${o||0} + 1)`,s;return e[2]!==t||e[3]!==n||e[4]!==r?(s=eZ(vr,{...t,style:{...n,zIndex:r}}),e[2]=t,e[3]=n,e[4]=r,e[5]=s):s=e[5],s}import{c as oZ}from"react/compiler-runtime";import{jsx as wh,jsxs as rZ}from"react/jsx-runtime";import nZ from"react";function oC(t){let e=oZ(12),{highlightField:o,setKey:n}=t,{id:r}=De(),{toggleModal:s}=ae(),{t:i}=N(),l=`generate-confirmation-${r}`,a;e[0]!==o||e[1]!==n||e[2]!==i?(a=()=>{n(),K.success(i("authentication:newAPIKeyGenerated")),o(!0)},e[0]=o,e[1]=n,e[2]=i,e[3]=a):a=e[3];let c=a,u;e[4]!==l||e[5]!==s?(u=()=>{s(l)},e[4]=l,e[5]=s,e[6]=u):u=e[6];let d;return e[7]!==c||e[8]!==l||e[9]!==i||e[10]!==u?(d=rZ(nZ.Fragment,{children:[wh(oe,{buttonStyle:"secondary",onClick:u,size:"small",children:i("authentication:generateNewAPIKey")}),wh(et,{body:wh(eo,{elements:{1:sZ},i18nKey:"authentication:generatingNewAPIKeyWillInvalidate",t:i}),confirmLabel:i("authentication:generate"),heading:i("authentication:confirmGeneration"),modalSlug:l,onConfirm:c})]}),e[7]=c,e[8]=l,e[9]=i,e[10]=u,e[11]=d):d=e[11],d}function sZ(t){let{children:e}=t;return wh("strong",{children:e})}import{c as iZ}from"react/compiler-runtime";import{useEffect as aZ}from"react";function lZ(t){let e=iZ(4),{permissions:o}=t,{setPermissions:n}=Ie(),r,s;return e[0]!==o||e[1]!==n?(r=()=>{n(o)},s=[o,n],e[0]=o,e[1]=n,e[2]=r,e[3]=s):(r=e[2],s=e[3]),aZ(r,s),null}import{jsx as zt,jsxs as Rh}from"react/jsx-runtime";import{getTranslation as ql}from"@payloadcms/translations";import{validateWhereQuery as HZ}from"payload/shared";import UZ,{Fragment as UR,useEffect as XR,useRef as ZR,useState as XZ}from"react";import{jsx as rC,jsxs as cZ}from"react/jsx-runtime";import"react";var nC="dots",Sh=({ariaLabel:t,className:e,noBackground:o,orientation:n="vertical"})=>cZ("div",{"aria-label":t,className:[e,nC,o&&`${nC}--no-background`,n&&`${nC}--${n}`].filter(Boolean).join(" "),children:[rC("div",{}),rC("div",{}),rC("div",{})]});import{jsx as Ih,jsxs as aC}from"react/jsx-runtime";import{useMemo as gZ}from"react";import{getTranslation as $d}from"@payloadcms/translations";import{fieldAffectsData as mZ,fieldIsHiddenOrDisabled as fZ,fieldIsID as pZ,tabHasName as hZ}from"payload/shared";var sC=[{label:"equals",value:"equals"},{label:"isNotEqualTo",value:"not_equals"}],iC=[{label:"isIn",value:"in"},{label:"isNotIn",value:"not_in"},{label:"exists",value:"exists"}],Er=[...sC,...iC],cR=[...Er,{label:"isGreaterThan",value:"greater_than"},{label:"isLessThan",value:"less_than"},{label:"isLessThanOrEqualTo",value:"less_than_equal"},{label:"isGreaterThanOrEqualTo",value:"greater_than_equal"}],uZ=[...sC,{label:"exists",value:"exists"},{label:"near",value:"near"}],uR={label:"within",value:"within"},dR={label:"intersects",value:"intersects"},Nd={label:"isLike",value:"like"},Ld={label:"isNotLike",value:"not_like"},Zl={label:"contains",value:"contains"},dZ={checkbox:{component:"Text",operators:sC},code:{component:"Text",operators:[...Er,Nd,Ld,Zl]},date:{component:"Date",operators:[...Er,...cR]},email:{component:"Text",operators:[...Er,Zl]},json:{component:"Text",operators:[...Er,Nd,Zl,Ld,uR,dR]},number:{component:"Number",operators:[...Er,...cR]},point:{component:"Point",operators:[...uZ,uR,dR]},radio:{component:"Select",operators:[...Er]},relationship:{component:"Relationship",operators:[...Er]},richText:{component:"Text",operators:[...Er,Nd,Ld,Zl]},select:{component:"Select",operators:[...Er]},text:{component:"Text",operators:[...Er,Nd,Ld,Zl]},textarea:{component:"Text",operators:[...Er,Nd,Ld,Zl]},upload:{component:"Text",operators:[...Er]}},ga=dZ;var On=({fields:t,i18n:e,labelPrefix:o,pathPrefix:n})=>t.reduce((r,s)=>{if(fZ(s)&&!pZ(s))return r;if(s.type==="tabs"&&"tabs"in s)return s.tabs.forEach(l=>{if(typeof l.label!="boolean"){let a=$d(l.label,e),c=o?o+" > "+a:a,u=hZ(l)&&l.name?n?n+"."+l.name:l.name:n;typeof a=="string"&&r.push(...On({fields:l.fields,i18n:e,labelPrefix:c,pathPrefix:u}))}}),r;if(s.type==="row"&&"fields"in s)return r.push(...On({fields:s.fields,i18n:e,labelPrefix:o,pathPrefix:n})),r;if(s.type==="collapsible"&&"fields"in s){let i=$d(s.label||"",e),l=o?o+" > "+i:i;return r.push(...On({fields:s.fields,i18n:e,labelPrefix:l,pathPrefix:n})),r}if(s.type==="group"&&"fields"in s){let i=$d(s.label||"",e),l=o?i?o+" > "+i:o:i;if(mZ(s)){let a=s.name?n?n+"."+s.name:s.name:n;r.push(...On({fields:s.fields,i18n:e,labelPrefix:l,pathPrefix:a}))}else r.push(...On({fields:s.fields,i18n:e,labelPrefix:l,pathPrefix:n}));return r}if(s.type==="array"&&"fields"in s){let i=$d(s.label||"",e),l=o?i?o+" > "+i:o:i,a=s.name?n?n+"."+s.name:s.name:n;return r.push(...On({fields:s.fields,i18n:e,labelPrefix:l,pathPrefix:a})),r}if(typeof ga[s.type]=="object"){let i=new Set,a=("hasMany"in s&&s.hasMany?iC:ga[s.type].operators).reduce((f,h)=>{if(!i.has(h.value)){i.add(h.value);let p=`operators:${h.label}`;f.push({...h,label:e.t(p)})}return f},[]),c=$d(s.label||"",e),u=o?Wu({field:s,prefix:o}):c,d=n?Tl(n,s):s.name,m={label:u,plainTextLabel:`${o?o+" > ":""}${c}`,value:d,...ga[s.type],field:s,operators:a};return r.push(m),r}return r},[]);var _h="group-by-builder",bZ=["text","textarea","number","select","relationship","date","checkbox","radio","email","number","upload"],mR=({collectionSlug:t,fields:e})=>{let{i18n:o,t:n}=N(),r=gZ(()=>On({fields:e,i18n:o}),[e,o]),{query:s,refineListData:i}=st(),l=s.groupBy?.replace(/^-/,""),a=r.find(c=>c.value===l);return aC("div",{className:_h,children:[aC("div",{className:`${_h}__header`,children:[Ih("p",{children:n("general:groupByLabel",{label:""})}),s.groupBy&&Ih("button",{className:`${_h}__clear-button`,id:"group-by--reset",onClick:async()=>{await i({groupBy:""})},type:"button",children:n("general:clear")})]}),aC("div",{className:`${_h}__inputs`,children:[Ih(pt,{filterOption:(c,u)=>(c?.data?.plainTextLabel||c.label).toLowerCase().includes(u.toLowerCase()),id:"group-by--field-select",isClearable:!0,isMulti:!1,onChange:async c=>{let u=c===null?void 0:c.value;c===null&&await i({groupBy:"",page:1}),await i({groupBy:u?s.groupBy?.startsWith("-")?`-${u}`:u:void 0,page:1})},options:r.filter(c=>!c.field.admin.disableListFilter&&c.value!=="id"&&bZ.includes(c.field.type)),value:{label:a?.label||n("general:selectValue"),value:l||""}}),Ih(Ln,{id:"group-by--sort",isClearable:!1,name:"direction",onChange:async({value:c})=>{l&&await i({groupBy:c==="asc"?l:`-${l}`,page:1})},options:[{label:n("general:ascending"),value:"asc"},{label:n("general:descending"),value:"desc"}],path:"direction",readOnly:!l,value:s.groupBy?typeof s.groupBy=="string"?`${s.groupBy.startsWith("-")?"desc":"asc"}`:"":"asc"})]})]})};import{jsx as fR}from"react/jsx-runtime";import{useEffect as pR,useRef as hR,useState as vZ}from"react";import{usePathname as CZ}from"next/navigation.js";var gR="search-filter",kd=t=>{let{handleChange:e,initialParams:o,label:n,searchQueryParam:r}=t,s=o?.search||r,i=CZ(),[l,a]=vZ(typeof s=="string"?s:void 0),c=hR(!0),u=hR(typeof s=="string"?s:void 0),d=Cr(l,300);return pR(()=>{s!==u.current&&(c.current=!1,a(s),u.current=s)},[s,i]),pR(()=>{d!==u.current&&c.current&&(e&&e(d),u.current=d)},[d,e]),fR("div",{className:gR,children:fR("input",{"aria-label":n,className:`${gR}__input`,id:"search-filter-input",onChange:m=>{c.current=!0,a(m.target.value)},placeholder:n,type:"text",value:l||""})})};import{jsx as _s,jsxs as Bd}from"react/jsx-runtime";import{getTranslation as jZ}from"@payloadcms/translations";import{transformWhereQuery as BZ,validateWhereQuery as NR}from"payload/shared";import Th,{useMemo as LR}from"react";import{jsx as Ss,jsxs as bC}from"react/jsx-runtime";import{useCallback as PR,useEffect as $Z,useState as kZ}from"react";import{jsx as jd}from"react/jsx-runtime";import"react";import{jsx as bR}from"react/jsx-runtime";import"react";var yZ="condition-value-date",lC=({disabled:t,field:{admin:e},onChange:o,value:n})=>{let{date:r}=e||{};return bR("div",{className:yZ,children:bR(Ja,{...r,onChange:o,readOnly:t,value:n})})};import{c as xZ}from"react/compiler-runtime";import{jsx as vR}from"react/jsx-runtime";import CR from"react";var wZ="condition-value-number",cC=t=>{let e=xZ(18),{disabled:o,field:n,onChange:r,operator:s,value:i}=t,{hasMany:l}=n,{t:a}=N(),c;e[0]!==l||e[1]!==s?(c=["in","not_in"].includes(s)||l,e[0]=l,e[1]=s,e[2]=c):c=e[2];let u=c,d;e[3]===Symbol.for("react.memo_cache_sentinel")?(d=[],e[3]=d):d=e[3];let[m,f]=CR.useState(d),h;e[4]!==u||e[5]!==r?(h=v=>{let y;v?u&&(Array.isArray(v)?y=v.map(SZ):y=[Number(v.value?.value||v.value)]):y=[],r(y)},e[4]=u,e[5]=r,e[6]=h):h=e[6];let p=h,g,b;e[7]!==i?(g=()=>{Array.isArray(i)?f(i.map(IZ)):f([])},b=[i],e[7]=i,e[8]=g,e[9]=b):(g=e[8],b=e[9]),CR.useEffect(g,b);let C;return e[10]!==o||e[11]!==u||e[12]!==r||e[13]!==p||e[14]!==a||e[15]!==i||e[16]!==m?(C=u?vR(pt,{disabled:o,isClearable:!0,isCreatable:!0,isMulti:u,isSortable:!0,numberOnly:!0,onChange:p,options:[],placeholder:a("general:enterAValue"),value:m||[]}):vR("input",{className:wZ,disabled:o,onChange:v=>r(v.target.value),placeholder:a("general:enterAValue"),type:"number",value:i}),e[10]=o,e[11]=u,e[12]=r,e[13]=p,e[14]=a,e[15]=i,e[16]=m,e[17]=C):C=e[17],C};function SZ(t){return Number(t.value?.value||t.value)}function IZ(t,e){return{id:`${t}${e}`,label:`${t}`,value:{toString:()=>`${t}${e}`,value:t?.value||t}}}import{jsx as uC}from"react/jsx-runtime";import*as DR from"qs-esm";import SR,{useCallback as Dh,useEffect as IR,useReducer as DZ,useState as dC}from"react";import{getTranslation as yR}from"@payloadcms/translations";var xR=t=>t.reduce((e,o)=>o.options?[...e,...xR(o.options)]:[...e,o.id],[]),_Z=(t,e)=>{switch(e.type){case"ADD":{let{collection:o,data:n,hasMultipleRelations:r,i18n:s,relation:i}=e,l=o.admin.useAsTitle||"id",a=xR(t);if(!r)return[...t,...n.docs.reduce((m,f)=>a.indexOf(f.id)===-1?(a.push(f.id),[...m,{label:f[l],value:f.id}]):m,[])];let c=[...t],u=c.find(m=>m.label===yR(o.labels.plural,s)),d=n.docs.reduce((m,f)=>a.indexOf(f.id)===-1?(a.push(f.id),[...m,{label:f[l],relationTo:i,value:f.id}]):m,[]);return u?u.options=[...u.options,...d]:c.push({label:yR(o.labels.plural,s),options:d,value:void 0}),c}case"CLEAR":return e.required?[]:[{label:e.i18n.t("general:none"),value:"null"}];default:return t}},wR=_Z;var _R="condition-value-relationship",TZ=10,mC=t=>{let{disabled:e,field:{admin:{isSortable:o,placeholder:n}={},hasMany:r,relationTo:s},filterOptions:i,onChange:l,value:a}=t,{config:{routes:{api:c},serverURL:u},getEntityConfig:d}=W(),m=Array.isArray(s),[f,h]=DZ(wR,[]),[p,g]=dC(""),b=Cr(p,300),[C,v]=dC(""),[y,x]=dC(!1),{i18n:w,t:S}=N(),T=xe(),I=m?s:[s],R=SR.useRef(new Map(I.map($=>[$,{hasLoadedAll:!1,nextPage:1}]))),F=Dh(($,P)=>{let M=d({collectionSlug:P});h({type:"ADD",collection:M,data:$,hasMultipleRelations:m,i18n:w,relation:P})},[m,w,d]),_=qt(async({abortController:$,relationSlug:P})=>{let M=R.current.get(P);if(P&&!M.hasLoadedAll){let O=d({collectionSlug:P})?.admin?.useAsTitle||"id",G={and:[]},V={depth:0,limit:TZ,locale:T.code,page:M.nextPage,select:{[O]:!0},where:G};i&&i?.[P]&&V.where.and.push(i[P]),b&&V.where.and.push({[O]:{like:b}});try{let z=await fetch(`${u}${c}/${P}${DR.stringify(V,{addQueryPrefix:!0})}`,{credentials:"include",headers:{"Accept-Language":w.language},signal:$.signal});if(z.ok){let X=await z.json();X.docs.length>0&&(F(X,P),X.nextPage?R.current.set(P,{hasLoadedAll:!1,nextPage:X.nextPage}):R.current.set(P,{hasLoadedAll:!0,nextPage:null}))}else v(S("error:unspecific"))}catch(z){$.signal.aborted||console.error(z)}}x(!0)}),D=SR.useCallback(()=>{let $=R.current.entries().next().value;if($[0]&&!$[1].hasLoadedAll){let P=new AbortController;_({abortController:P,relationSlug:$[0]})}},[]),A=Dh(()=>{if(a){if(r)return Array.isArray(a)?a.map($=>{if(m){let P;return f.forEach(M=>{M.options&&M.options.some(j=>j?.value==$.value?(P=j,!0):!1)}),P}return f.find(P=>P.value==$)}):void 0;if(m){let $,P=a;return f.forEach(M=>{M?.options&&M.options.some(j=>j?.value==P.value?($=j,!0):!1)}),$}return f.find($=>$.value==a)}},[r,m,a,f]),L=Dh($=>{if($!==p){h({type:"CLEAR",i18n:w,required:!1});let P=Array.isArray(s)?s:[s];R.current=new Map(P.map(M=>[M,{hasLoadedAll:!1,nextPage:1}])),g($)}},[w,s,p]),E=Dh(async($,P)=>{if(!C&&$!=="null"&&$&&P){let M=await fetch(`${u}${c}/${P}/${$}?depth=0`,{credentials:"include",headers:{"Accept-Language":w.language}});if(M.ok){let j=await M.json();F({docs:[j]},P)}else console.error(S("error:loadingDocument",{id:$}))}},[w,F,c,C,u,S]);IR(()=>{let $=Array.isArray(s)?s:[s];R.current=new Map($.map(M=>[M,{hasLoadedAll:!1,nextPage:1}])),h({type:"CLEAR",i18n:w,required:!1}),x(!1);let P=[];return $.forEach(M=>{let j=new AbortController;_({abortController:j,relationSlug:M}),P.push(j)}),()=>{P.forEach(M=>{if(M.signal)try{M.abort()}catch{}})}},[w,s,b,i]),IR(()=>{if(a&&y){if(r)(A()||[]).forEach((P,M)=>{P||(m?E(a[M].value,a[M].relationTo):E(a[M],s))});else if(!A())if(m){let P=a;E(P.value,P.relationTo)}else E(a,s)}},[E,A,r,m,s,a,y]);let k=["field-type",_R,C&&"error-loading"].filter(Boolean).join(" "),B=A()||a;return uC("div",{className:k,children:C?uC("div",{className:`${_R}__error-loading`,children:C}):uC(pt,{disabled:e,isMulti:r,isSortable:o,onChange:$=>{if(!$){l(null);return}r&&Array.isArray($)?l($?$.map(P=>m?{relationTo:P?.relationTo,value:P?.value}:P?.value):null):m&&!Array.isArray($)?l({relationTo:$?.relationTo,value:$?.value}):Array.isArray($)||l($?.value)},onInputChange:L,onMenuScrollToBottom:D,options:f,placeholder:n,value:B})})};import{c as FZ}from"react/compiler-runtime";import{jsx as RZ}from"react/jsx-runtime";import{getTranslation as fC}from"@payloadcms/translations";import pC from"react";var hC=t=>{let e=FZ(26),{disabled:o,field:n,isClearable:r,onChange:s,operator:i,options:l,value:a}=t,{admin:c}=n,{placeholder:u}=c,{i18n:d}=N(),m;e[0]!==l?(m=lu(l),e[0]=l,e[1]=m):m=e[1];let[f,h]=pC.useState(m),p;e[2]===Symbol.for("react.memo_cache_sentinel")?(p=["in","not_in"],e[2]=p):p=e[2];let g=p.includes(i),b;if(g&&Array.isArray(a)){let I;e[3]!==d||e[4]!==f?(I=R=>{let F=f.find(_=>_.value===R);return{label:F?fC(F.label,d):R,value:F?.value??R}},e[3]=d,e[4]=f,e[5]=I):I=e[5],b=a.map(I)}else if(a){let I,R;if(e[6]!==d||e[7]!==f||e[8]!==a){let F;e[11]!==a?(F=_=>_.value===a,e[11]=a,e[12]=F):F=e[12],I=f.find(F),R=I?fC(I.label,d):a,e[6]=d,e[7]=f,e[8]=a,e[9]=I,e[10]=R}else I=e[9],R=e[10];b={label:R,value:I?.value??a}}let C;e[13]!==g||e[14]!==s?(C=I=>{let R;I?g?Array.isArray(I)?R=I.map(AZ):R=[]:R=I.value:R=null,s(R)},e[13]=g,e[14]=s,e[15]=C):C=e[15];let v=C,y,x;e[16]!==l?(y=()=>{h(lu(l))},x=[l],e[16]=l,e[17]=y,e[18]=x):(y=e[17],x=e[18]),pC.useEffect(y,x);let w,S;e[19]!==g||e[20]!==s||e[21]!==a?(w=()=>{!g&&Array.isArray(a)&&s(a[0])},S=[g,s,a],e[19]=g,e[20]=s,e[21]=a,e[22]=w,e[23]=S):(w=e[22],S=e[23]),pC.useEffect(w,S);let T;return e[24]!==d?(T=I=>({...I,label:fC(I.label,d)}),e[24]=d,e[25]=T):T=e[25],RZ(pt,{disabled:o,isClearable:r,isMulti:g,onChange:v,options:f.map(T),placeholder:u,value:b})};function AZ(t){return t.value}import{c as PZ}from"react/compiler-runtime";import{jsx as TR}from"react/jsx-runtime";import FR from"react";var EZ="condition-value-text",gC=t=>{let e=PZ(18),{disabled:o,field:n,onChange:r,operator:s,value:i}=t,{hasMany:l}=n,{t:a}=N(),c;e[0]!==l||e[1]!==s?(c=["in","not_in"].includes(s)||l,e[0]=l,e[1]=s,e[2]=c):c=e[2];let u=c,d;e[3]===Symbol.for("react.memo_cache_sentinel")?(d=[],e[3]=d):d=e[3];let[m,f]=FR.useState(d),h;e[4]!==u||e[5]!==r?(h=v=>{let y;v?u&&(Array.isArray(v)?y=v.map(NZ):y=[v.value?.value||v.value]):y=[],r(y)},e[4]=u,e[5]=r,e[6]=h):h=e[6];let p=h,g,b;e[7]!==i?(g=()=>{Array.isArray(i)?f(i.map(LZ)):f([])},b=[i],e[7]=i,e[8]=g,e[9]=b):(g=e[8],b=e[9]),FR.useEffect(g,b);let C;return e[10]!==o||e[11]!==u||e[12]!==r||e[13]!==p||e[14]!==a||e[15]!==i||e[16]!==m?(C=u?TR(pt,{disabled:o,isClearable:!0,isCreatable:!0,isMulti:u,isSortable:!0,onChange:p,options:[],placeholder:a("general:enterAValue"),value:m||[]}):TR("input",{className:EZ,disabled:o,onChange:v=>r(v.target.value),placeholder:a("general:enterAValue"),type:"text",value:i||""}),e[10]=o,e[11]=u,e[12]=r,e[13]=p,e[14]=a,e[15]=i,e[16]=m,e[17]=C):C=e[17],C};function NZ(t){return t.value?.value||t.value}function LZ(t,e){return{id:`${t}${e}`,label:`${t}`,value:{toString:()=>`${t}${e}`,value:t?.value||t}}}var RR=({booleanSelect:t,disabled:e,filterOptions:o,internalField:n,onChange:r,operator:s,options:i,value:l})=>{if(t||["radio","select"].includes(n?.field?.type))return jd(hC,{disabled:e,field:n.field,isClearable:!t,onChange:r,operator:s,options:i,value:l});switch(n?.field?.type){case"date":return jd(lC,{disabled:e,field:n.field,onChange:r,operator:s,value:l});case"number":return jd(cC,{disabled:e,field:n.field,onChange:r,operator:s,value:l});case"relationship":return jd(mC,{disabled:e,field:n.field,filterOptions:o,onChange:r,operator:s,value:l});default:return jd(gC,{disabled:e,field:n?.field,onChange:r,operator:s,value:l})}};var AR=t=>({all:"any",contains:"string",equals:"any",exists:"boolean",greater_than:t==="date"?"object":"string",greater_than_equal:t==="date"?"object":"string",in:"any",intersects:"any",less_than:t==="date"?"object":"string",less_than_equal:t==="date"?"object":"string",like:"string",near:"any",not_equals:"any",not_in:"any",not_like:"string",within:"any"});var Is="condition",ER=t=>{let{addCondition:e,andIndex:o,fieldName:n,filterOptions:r,operator:s,orIndex:i,reducedFields:l,removeCondition:a,RenderedFilter:c,updateCondition:u,value:d}=t,{t:m}=N(),f=l.find(S=>S.value===n),[h,p]=kZ(d),g=Cr(h,300),b=["exists"].includes(s)||f?.field?.type==="checkbox",C=[];b?C=[{label:m("general:true"),value:"true"},{label:m("general:false"),value:"false"}]:f?.field&&"options"in f.field&&(C=f.field.options);let v=qt(async S=>{s&&await u({andIndex:o,field:f,operator:s,orIndex:i,value:S===null?"":S})});$Z(()=>{v(g)},[g]);let y=!f?.value&&typeof f?.value!="number"||f?.field?.admin?.disableListFilter,x=PR(async S=>{p(void 0),await u({andIndex:o,field:l.find(T=>T.value===S.value),operator:s,orIndex:i,value:void 0})},[o,s,i,l,u]),w=PR(async S=>{let I=AR(f.field.type)[S.value]||"any",R=I==="any"||typeof d===I||I==="boolean"&&(d==="true"||d==="false");R||p(void 0),await u({andIndex:o,field:f,operator:S.value,orIndex:i,value:R?d:void 0})},[o,f,i,u,d]);return Ss("div",{className:Is,children:bC("div",{className:`${Is}__wrap`,children:[bC("div",{className:`${Is}__inputs`,children:[Ss("div",{className:`${Is}__field`,children:Ss(pt,{disabled:y,filterOption:(S,T)=>(S?.data?.plainTextLabel||S.label).toLowerCase().includes(T.toLowerCase()),isClearable:!1,onChange:x,options:l.filter(S=>!S.field.admin.disableListFilter),value:f||{value:f?.value}})}),Ss("div",{className:`${Is}__operator`,children:Ss(pt,{disabled:y,isClearable:!1,onChange:w,options:f?.operators,value:f?.operators.find(S=>s===S.value)||null})}),Ss("div",{className:`${Is}__value`,children:c||Ss(RR,{booleanSelect:b,disabled:!s||!f||f?.field?.admin?.disableListFilter,filterOptions:r,internalField:f,onChange:p,operator:s,options:C,value:h??""})})]}),bC("div",{className:`${Is}__actions`,children:[Ss(oe,{buttonStyle:"icon-label",className:`${Is}__actions-remove`,icon:"x",iconStyle:"with-border",onClick:()=>a({andIndex:o,orIndex:i}),round:!0}),Ss(oe,{buttonStyle:"icon-label",className:`${Is}__actions-add`,icon:"plus",iconStyle:"with-border",onClick:()=>e({andIndex:o+1,field:l.find(S=>!S.field.admin?.disableListFilter),orIndex:i,relation:"and"}),round:!0})]})]})})};var Vn="where-builder",$R=t=>{let{collectionPluralLabel:e,fields:o,renderedFilters:n,resolvedFilterOptions:r}=t,{i18n:s,t:i}=N(),l=LR(()=>On({fields:o,i18n:s}),[o,s]),{handleWhereChange:a,query:c}=st(),u=LR(()=>{let h=c.where;if(h){if(NR(h))return h.or;let p=BZ(h);if(NR(p))return p.or;console.warn(`Invalid where query in URL: ${JSON.stringify(h)}`)}return[]},[c.where]),d=Th.useCallback(async({andIndex:h,field:p,orIndex:g,relation:b})=>{let C=[...u],v=ga[p.field.type].operators[0].value;b==="and"?C[g].and.splice(h,0,{[String(p.value)]:{[v]:void 0}}):C.push({and:[{[String(p.value)]:{[v]:void 0}}]}),await a({or:C})},[u,a]),m=Th.useCallback(async({andIndex:h,field:p,operator:g,orIndex:b,value:C})=>{let v=u[b].and[h],y=ga[p.field.type],x=g||y.operators[0].value;if(typeof v=="object"&&p.value){let w=C??v?.[x],S=w!==v?.[String(p.value)]?.[String(x)],T=x!==Object.keys(v?.[String(p.value)]||{})?.[0];if(S||T){let I={[String(p.value)]:{[x]:w}},R=[...u];R[b].and[h]=I,await a({or:R})}}},[u,a]),f=Th.useCallback(async({andIndex:h,orIndex:p})=>{let g=[...u];g[p].and.splice(h,1),g[p].and.length===0&&g.splice(p,1),await a({or:g})},[u,a]);return Bd("div",{className:Vn,children:[u.length>0&&Bd(Th.Fragment,{children:[_s("p",{className:`${Vn}__label`,children:i("general:filterWhere",{label:jZ(e,s)})}),_s("ul",{className:`${Vn}__or-filters`,children:u.map((h,p)=>{let g=`${p}_${Array.isArray(h?.and)?h.and.length:""}`;return Bd("li",{children:[p!==0&&_s("div",{className:`${Vn}__label`,children:i("general:or")}),_s("ul",{className:`${Vn}__and-filters`,children:Array.isArray(h?.and)&&h.and.map((b,C)=>{let v=u[p].and[C],y=Object.keys(v)[0],x=Object.keys(v?.[y]||{})?.[0]||void 0,w=v?.[y]?.[x]||void 0;return Bd("li",{children:[C!==0&&_s("div",{className:`${Vn}__label`,children:i("general:and")}),_s(ER,{addCondition:d,andIndex:C,fieldName:y,filterOptions:r?.get(y),operator:x,orIndex:p,reducedFields:l,removeCondition:f,RenderedFilter:n?.get(y),updateCondition:m,value:w})]},C)})})]},g)})}),_s(oe,{buttonStyle:"icon-label",className:`${Vn}__add-or`,icon:"plus",iconPosition:"left",iconStyle:"with-border",onClick:async()=>{await d({andIndex:0,field:l.find(h=>!h.field.admin?.disableListFilter),orIndex:u.length,relation:"or"})},children:i("general:or")})]}),u.length===0&&Bd("div",{className:`${Vn}__no-filters`,children:[_s("div",{className:`${Vn}__label`,children:i("general:noFiltersSet")}),_s(oe,{buttonStyle:"icon-label",className:`${Vn}__add-first-filter`,icon:"plus",iconPosition:"left",iconStyle:"with-border",onClick:async()=>{l.length>0&&await d({andIndex:0,field:l.find(h=>!h.field.admin?.disableListFilter),orIndex:u.length,relation:"or"})},children:i("general:addFilter")})]})]})};import{c as MZ}from"react/compiler-runtime";import{jsx as Md,jsxs as OZ}from"react/jsx-runtime";import{getTranslation as VZ}from"@payloadcms/translations";import{jsx as kR}from"react/jsx-runtime";import"react";var jR=({className:t})=>kR("svg",{className:["icon","icon--people",t].filter(Boolean).join(" "),fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:kR("path",{className:"stroke",d:"M14 16C14 14.5855 13.4381 13.229 12.4379 12.2288C11.4377 11.2286 10.0812 10.6667 8.66668 10.6667M8.66668 10.6667C7.25219 10.6667 5.89563 11.2286 4.89544 12.2288C3.89525 13.229 3.33334 14.5855 3.33334 16M8.66668 10.6667C10.5076 10.6667 12 9.17428 12 7.33333C12 5.49238 10.5076 4 8.66668 4C6.82573 4 5.33334 5.49238 5.33334 7.33333C5.33334 9.17428 6.82573 10.6667 8.66668 10.6667ZM16.6667 15.3333C16.6667 13.0867 15.3333 11 14 10C14.4383 9.67118 14.7888 9.23939 15.0204 8.74285C15.252 8.2463 15.3577 7.70031 15.328 7.1532C15.2984 6.60609 15.1343 6.07472 14.8503 5.60613C14.5664 5.13754 14.1713 4.74617 13.7 4.46667",strokeLinecap:"round",strokeLinejoin:"round"})});var Yl="active-query-preset";function BR(t){let e=MZ(44),{activePreset:o,openPresetListDrawer:n,resetPreset:r}=t,{i18n:s,t:i}=N(),{getEntityConfig:l}=W(),a,c,u,d,m,f,h,p,g,b,C,v,y,x,w;if(e[0]!==o||e[1]!==l||e[2]!==s||e[3]!==n||e[4]!==i){let T=l({collectionSlug:"payload-query-presets"});f=OZ,h=vt;let I=o&&`${Yl}--active`,R;e[20]!==I?(R=[Yl,I].filter(Boolean),e[20]=I,e[21]=R):R=e[21],w=R.join(" "),c="select-preset",e[22]!==n?(u=()=>{n()},e[22]=n,e[23]=u):u=e[23],d=o?"always-white":"light",m="small",e[24]!==o?.isShared?(x=o?.isShared&&Md(jR,{className:`${Yl}__shared`}),e[24]=o?.isShared,e[25]=x):x=e[25],v=Md,y="div",C=`${Yl}__label-text-max-width`,g=Md,b="div",a=`${Yl}__label-text`,p=o?.title||i("general:selectLabel",{label:VZ(T.labels.singular,s)}),e[0]=o,e[1]=l,e[2]=s,e[3]=n,e[4]=i,e[5]=a,e[6]=c,e[7]=u,e[8]=d,e[9]=m,e[10]=f,e[11]=h,e[12]=p,e[13]=g,e[14]=b,e[15]=C,e[16]=v,e[17]=y,e[18]=x,e[19]=w}else a=e[5],c=e[6],u=e[7],d=e[8],m=e[9],f=e[10],h=e[11],p=e[12],g=e[13],b=e[14],C=e[15],v=e[16],y=e[17],x=e[18],w=e[19];let S;return e[26]!==o||e[27]!==r||e[28]!==a||e[29]!==c||e[30]!==u||e[31]!==d||e[32]!==m||e[33]!==f||e[34]!==h||e[35]!==p||e[36]!==g||e[37]!==b||e[38]!==C||e[39]!==v||e[40]!==y||e[41]!==x||e[42]!==w?(S=f(h,{className:w,id:c,onClick:u,pillStyle:d,size:m,children:[x,v(y,{className:C,children:g(b,{className:a,children:p})}),o?Md("div",{className:`${Yl}__clear`,id:"clear-preset",onClick:async T=>{T.stopPropagation(),await r()},onKeyDown:async T=>{(T.key==="Enter"||T.key===" ")&&(T.stopPropagation(),await r())},role:"button",tabIndex:0,children:Md(bt,{})}):null]}),e[26]=o,e[27]=r,e[28]=a,e[29]=c,e[30]=u,e[31]=d,e[32]=m,e[33]=f,e[34]=h,e[35]=p,e[36]=g,e[37]=b,e[38]=C,e[39]=v,e[40]=y,e[41]=x,e[42]=w,e[43]=S):S=e[43],S}import{fieldAffectsData as GZ,flattenTopLevelFields as zZ}from"payload/shared";var MR=(t,e,o)=>t?zZ(e,{i18n:o,moveSubFieldsToTop:!0}).filter(r=>GZ(r)&&t.includes(r.name)):null;import{jsx as Qr,jsxs as OR,Fragment as WZ}from"react/jsx-runtime";import{getTranslation as vC}from"@payloadcms/translations";import{transformColumnsToPreferences as VR,transformColumnsToSearchParams as GR}from"payload/shared";import{useCallback as Fh,useMemo as zR}from"react";var WR="confirm-delete-preset",Jl="payload-query-presets",HR=({activePreset:t,collectionSlug:e,queryPresetPermissions:o})=>{let{modified:n,query:r,refineListData:s,setModified:i}=st(),{i18n:l,t:a}=N(),{openModal:c}=ae(),{config:{routes:{api:u}},getEntityConfig:d}=W(),m=d({collectionSlug:Jl}),[f,,{openDrawer:h}]=St({id:t?.id,collectionSlug:Jl}),[p,,{closeDrawer:g,openDrawer:b}]=St({collectionSlug:Jl}),C=zR(()=>({"payload-query-presets":{isTemp:{not_equals:!0},relatedCollection:{equals:e}}}),[e]),[v,,{closeDrawer:y,openDrawer:x}]=qi({collectionSlugs:[Jl],filterOptions:C,selectedCollection:Jl}),w=Fh(async F=>{await s({columns:F.columns?GR(F.columns):void 0,preset:F.id,where:F.where},!1)},[s]),S=Fh(async()=>{await s({columns:[],preset:"",where:{}},!1)},[s]),T=Fh(async()=>{try{await fetch(`${u}/${Jl}/${t.id}`,{method:"DELETE"}).then(async F=>{try{let _=await F.json();F.status<400?(K.success(a("general:titleDeleted",{label:vC(m?.labels?.singular,l),title:t.title})),await S()):_.errors?_.errors.forEach(D=>K.error(D.message)):K.error(a("error:deletingTitle",{title:t.title}))}catch{K.error(a("error:deletingTitle",{title:t.title}))}})}catch{K.error(a("error:deletingTitle",{title:t.title}))}},[u,t?.id,t?.title,a,m,l,S]),I=Fh(async()=>{try{await fetch(`${u}/payload-query-presets/${t.id}`,{body:JSON.stringify({columns:VR(r.columns),where:r.where}),credentials:"include",headers:{"Content-Type":"application/json"},method:"PATCH"}).then(async F=>{try{let _=await F.json();F.status<400?(K.success(a("general:updatedLabelSuccessfully",{label:vC(m?.labels?.singular,l)})),i(!1)):_.errors?_.errors.forEach(D=>K.error(D.message)):K.error(a("error:unknown"))}catch{K.error(a("error:unknown"))}})}catch{K.error(a("error:unknown"))}},[u,t?.id,r.columns,r.where,a,m?.labels?.singular,l,i]),R=zR(()=>{let F=t&&n;return[Qr(Cm,{label:vC(m?.labels?.plural,l)},"preset-group-label"),OR(ve.ButtonGroup,{children:[F&&Qr(ve.Button,{onClick:async()=>{await s({columns:GR(t.columns),where:t.where},!1)},children:a("general:reset")}),F&&o.update&&Qr(ve.Button,{onClick:async()=>{await I()},children:t?.isShared?a("general:updateForEveryone"):a("general:save")}),Qr(ve.Button,{onClick:()=>{b()},children:a("general:createNew")}),t&&o?.delete&&OR(WZ,{children:[Qr(ve.Button,{onClick:()=>c(WR),children:a("general:delete")}),Qr(ve.Button,{onClick:()=>{h()},children:a("general:edit")})]})]},"preset-group-buttons")]},[t,o?.delete,o?.update,b,h,c,I,a,s,n,m?.labels?.plural,l]);return{CreateNewPresetDrawer:Qr(p,{initialData:{columns:VR(r.columns),relatedCollection:e,where:r.where},onSave:async({doc:F})=>{g(),await w(F)},redirectAfterCreate:!1}),DeletePresetModal:Qr(et,{body:Qr(eo,{elements:{1:({children:F})=>Qr("strong",{children:F})},i18nKey:"general:aboutToDelete",t:a,variables:{label:m?.labels?.singular,title:t?.title}}),confirmingLabel:a("general:deleting"),heading:a("general:confirmDeletion"),modalSlug:WR,onConfirm:T}),EditPresetDrawer:Qr(f,{onDelete:()=>{},onDuplicate:async({doc:F})=>{await w(F)},onSave:async({doc:F})=>{await w(F)}}),hasModifiedPreset:n,openPresetListDrawer:x,PresetListDrawer:Qr(v,{allowCreate:!1,disableQueryPresets:!0,onSelect:async({doc:F})=>{y(),await w(F)}}),queryPresetMenuItems:R,resetPreset:S}};var vo="list-controls",CC=t=>{let{beforeActions:e,collectionConfig:o,collectionSlug:n,disableQueryPresets:r,enableColumns:s=!0,enableFilters:i=!0,enableSort:l=!1,listMenuItems:a,queryPreset:c,queryPresetPermissions:u,renderedFilters:d,resolvedFilterOptions:m}=t,{handleSearchChange:f,query:h}=st(),{CreateNewPresetDrawer:p,DeletePresetModal:g,EditPresetDrawer:b,hasModifiedPreset:C,openPresetListDrawer:v,PresetListDrawer:y,queryPresetMenuItems:x,resetPreset:w}=HR({activePreset:c,collectionSlug:n,queryPresetPermissions:u}),S=c0(o),{i18n:T,t:I}=N(),{breakpoints:{s:R}}=Go(),F=(S&&ql("label"in S&&(typeof S.label=="string"||typeof S.label=="object")?S.label:"name"in S?S.name:null,T))??"ID",_=MR(o.admin.listSearchableFields,o.fields,T),D=ZR(I("general:searchBy",{label:ql(F,T)})),A=ZR(!!h?.where),L=HZ(h?.where),[E,k]=XZ(L?"where":void 0);XR(()=>{A.current&&!h?.where?A.current=!1:h?.where&&(A.current=!0)},[k,h?.where]),XR(()=>{_?.length>0?D.current=_.reduce(($,P,M)=>{let j="label"in P&&P.label?P.label:"name"in P?P.name:null;return M===0?`${I("general:searchBy",{label:ql(j,T)})}`:M===_.length-1?`${$} ${I("general:or")} ${ql(j,T)}`:`${$}, ${ql(j,T)}`},""):D.current=I("general:searchBy",{label:ql(F,T)})},[I,_,T,F]);let B=a;return o.enableQueryPresets&&!r&&x?.length>0&&(B=[...x,a?.length>0?zt(ve.Divider,{},"divider"):null,...a||[]]),Rh(UR,{children:[Rh("div",{className:vo,children:[Rh("div",{className:`${vo}__wrap`,children:[zt(Li,{}),zt(kd,{handleChange:f,label:D.current,searchQueryParam:h?.search},n),c&&C?zt("div",{className:`${vo}__modified`,children:"Modified"}):null,zt("div",{className:`${vo}__buttons`,children:Rh("div",{className:`${vo}__buttons-wrap`,children:[!R&&zt(UZ.Fragment,{children:e&&e}),s&&zt(vt,{"aria-controls":`${vo}-columns`,"aria-expanded":E==="columns",className:`${vo}__toggle-columns`,icon:zt(We,{direction:E==="columns"?"up":"down"}),id:"toggle-columns",onClick:()=>k(E!=="columns"?"columns":void 0),pillStyle:"light",size:"small",children:I("general:columns")}),i&&zt(vt,{"aria-controls":`${vo}-where`,"aria-expanded":E==="where",className:`${vo}__toggle-where`,icon:zt(We,{direction:E==="where"?"up":"down"}),id:"toggle-list-filters",onClick:()=>k(E!=="where"?"where":void 0),pillStyle:"light",size:"small",children:I("general:filters")}),l&&zt(vt,{"aria-controls":`${vo}-sort`,"aria-expanded":E==="sort",className:`${vo}__toggle-sort`,icon:zt(We,{}),onClick:()=>k(E!=="sort"?"sort":void 0),pillStyle:"light",size:"small",children:I("general:sort")}),!r&&zt(BR,{activePreset:c,openPresetListDrawer:v,resetPreset:w}),o.admin.groupBy&&zt(vt,{"aria-controls":`${vo}-group-by`,"aria-expanded":E==="group-by",className:`${vo}__toggle-group-by`,icon:zt(We,{direction:E==="group-by"?"up":"down"}),id:"toggle-group-by",onClick:()=>k(E!=="group-by"?"group-by":void 0),pillStyle:"light",size:"small",children:I("general:groupByLabel",{label:""})}),B&&Array.isArray(B)&&B.length>0&&zt(lt,{button:zt(Sh,{ariaLabel:I("general:moreOptions")}),className:`${vo}__popup`,horizontalAlign:"right",id:"list-menu",size:"medium",verticalAlign:"bottom",children:B.map(($,P)=>zt(UR,{children:$},`list-menu-item-${P}`))})]})})]}),s&&zt(wr,{className:`${vo}__columns`,height:E==="columns"?"auto":0,id:`${vo}-columns`,children:zt(Jf,{collectionSlug:o.slug})}),zt(wr,{className:`${vo}__where`,height:E==="where"?"auto":0,id:`${vo}-where`,children:zt($R,{collectionPluralLabel:o.labels?.plural,collectionSlug:o.slug,fields:o.fields,renderedFilters:d,resolvedFilterOptions:m})}),o.admin.groupBy&&zt(wr,{className:`${vo}__group-by`,height:E==="group-by"?"auto":0,id:`${vo}-group-by`,children:zt(mR,{collectionSlug:o.slug,fields:o.fields})})]}),y,b,p,g]})};import{c as hY}from"react/compiler-runtime";import{jsx as ba,jsxs as gY}from"react/jsx-runtime";import{Fragment as bY}from"react";import{c as QR}from"react/compiler-runtime";import{jsx as xC,jsxs as eY}from"react/jsx-runtime";import tY from"react";import{jsx as ZZ}from"react/jsx-runtime";import{getTranslation as YR}from"@payloadcms/translations";import{useRouter as YZ,useSearchParams as JZ}from"next/navigation.js";import{combineWhereConstraints as qZ,mergeListSearchAndWhere as QZ}from"payload/shared";import*as yC from"qs-esm";import KZ,{useCallback as JR}from"react";function qR(t){let{collection:e,collection:{slug:o,labels:{plural:n,singular:r}}={},drawerSlug:s,ids:i,onSuccess:l,selectAll:a,where:c}=t,{clearRouteCache:u}=kt(),{config:{routes:{api:d},serverURL:m}}=W(),{code:f}=xe(),h=YZ(),p=JZ(),{i18n:g,t:b}=N(),C=JR(()=>{K.error(b("error:unknown"))},[b]),v=KZ.useMemo(()=>{let x=[{_status:{not_equals:"published"}}];c&&x.push(c);let w=QZ({collectionConfig:e,search:p.get("search")});return w&&x.push(w),a?x.push(Ht(p)?.where||{id:{not_equals:""}}):x.push({id:{in:i||[]}}),yC.stringify({locale:f,where:qZ(x)},{addQueryPrefix:!0})},[e,p,a,i,f,c]),y=JR(async()=>{await Ge.patch(`${m}${d}/${o}${v}&draft=true`,{body:JSON.stringify({_status:"published"}),headers:{"Accept-Language":g.language,"Content-Type":"application/json"}}).then(async x=>{try{let w=await x.json(),S=w?.docs.length||0,T=S>1?n:r;return x.status<400||S>0?(K.success(b("general:updatedCountSuccessfully",{count:S,label:YR(T,g)})),w?.errors.length>0&&K.error(w.message,{description:w.errors.map(I=>I.message).join(`
`)}),h.replace(yC.stringify({...Ht(p),page:a?"1":void 0},{addQueryPrefix:!0})),u(),typeof l=="function"&&l(),null):(w.errors?w.errors.forEach(I=>K.error(I.message)):C(),!1)}catch{return C()}})},[m,d,o,v,g,n,r,b,h,p,a,u,C,l]);return ZZ(et,{body:b("version:aboutToPublishSelection",{label:YR(n,g)}),cancelLabel:b("general:cancel"),confirmingLabel:b("version:publishing"),confirmLabel:b("general:confirm"),heading:b("version:confirmPublish"),modalSlug:s,onConfirm:y})}var oY=t=>{let e=QR(8),{count:o,selectAll:n,selectedIDs:r,toggleAll:s}=wo(),i;e[0]!==s?(i=()=>s(),e[0]=s,e[1]=i):i=e[1];let l=n===Xt.AllAvailable,a;return e[2]!==o||e[3]!==t||e[4]!==r||e[5]!==i||e[6]!==l?(a=xC(Od,{...t,count:o,ids:r,onSuccess:i,selectAll:l}),e[2]=o,e[3]=t,e[4]=r,e[5]=i,e[6]=l,e[7]=a):a=e[7],a},Od=t=>{let e=QR(12),{collection:o,collection:n,count:r,ids:s,modalPrefix:i,onSuccess:l,selectAll:a,where:c}=t,{slug:u,versions:d}=n===void 0?{}:n,{permissions:m}=Ie(),{t:f}=N(),{openModal:h}=ae(),g=m?.collections?.[u]?.update,b=`${i?`${i}-`:""}publish-${u}`;if(!d?.drafts||r===0||!g)return null;let C;if(e[0]!==o||e[1]!==b||e[2]!==s||e[3]!==l||e[4]!==h||e[5]!==a||e[6]!==f||e[7]!==c){let v;e[9]!==b||e[10]!==h?(v=()=>{h(b)},e[9]=b,e[10]=h,e[11]=v):v=e[11],C=eY(tY.Fragment,{children:[xC(Mo,{"aria-label":f("version:publish"),onClick:v,children:f("version:publish")}),xC(qR,{collection:o,drawerSlug:b,ids:s,onSuccess:l,selectAll:a,where:c})]}),e[0]=o,e[1]=b,e[2]=s,e[3]=l,e[4]=h,e[5]=a,e[6]=f,e[7]=c,e[8]=C}else C=e[8];return C};import{jsx as Ah,jsxs as KR}from"react/jsx-runtime";import{getTranslation as e5}from"@payloadcms/translations";import{useRouter as rY,useSearchParams as nY}from"next/navigation.js";import{mergeListSearchAndWhere as sY}from"payload/shared";import*as SC from"qs-esm";import wC from"react";var t5="confirm-restore-many-docs",o5="restore-many",r5=t=>{let{collection:{slug:e}={},viewType:o}=t,{permissions:n}=Ie(),{config:{collections:r,routes:s,serverURL:i}}=W(),{code:l}=xe(),a=rY(),{clearRouteCache:c}=kt(),u=nY(),{count:d,getSelectedIds:m,selectAll:f,toggleAll:h}=wo(),{openModal:p}=ae(),{i18n:g,t:b}=N(),[C,v]=wC.useState(!1),x=n?.collections?.[e]?.update;if(f===Xt.None||!x||o!=="trash")return null;let w=f===Xt.AllAvailable,S=w?[]:m(),T=Ht(u)?.where,I={and:[...Array.isArray(T?.and)?T.and:T?[T]:[],{deletedAt:{exists:!0}}]},R=async()=>{let D=r.find(B=>B.slug===e);if(!D)return;let A;w?A=I:A={and:[{id:{in:S}},{deletedAt:{exists:!0}}]};let L=`${i}${s.api}/${e}${SC.stringify({limit:0,locale:l,trash:!0,where:sY({collectionConfig:D,search:Ht(u)?.search,where:A})},{addQueryPrefix:!0})}`,E={deletedAt:null};D?.versions?.drafts&&(E._status=C?"published":"draft");let k=await Ge.patch(L,{body:JSON.stringify(E),headers:{"Accept-Language":g.language,"Content-Type":"application/json"}});try{let{plural:B,singular:$}=D.labels,P=await k.json(),M=P?.docs?.length||0,j=M>1?B:$;(k.status<400||M>0)&&K.success(b("general:restoredCountSuccessfully",{count:M,label:e5(j,g)})),P?.errors?.length>0&&K.error(P.message,{description:P.errors.map(O=>O.message).join(`
`)})}catch{K.error(b("error:unknown"))}h(),a.replace(SC.stringify({...Ht(u),page:w?"1":void 0},{addQueryPrefix:!0})),c()},F=r.find(({slug:D})=>D===e),_=e5(d===1?F.labels.singular:F.labels.plural,g);return KR(wC.Fragment,{children:[Ah(Mo,{"aria-label":b("general:restore"),className:"restore-documents__toggle",onClick:()=>{p(t5)},children:b("general:restore")}),Ah(et,{body:KR(wC.Fragment,{children:[b(F?.versions?.drafts?"general:aboutToRestoreAsDraftCount":"general:aboutToRestoreCount",{count:d,label:_}),F?.versions?.drafts&&Ah("div",{className:`${o5}__checkbox`,children:Ah(Lo,{checked:C,id:"restore-as-published-many",label:b("general:restoreAsPublished"),name:"restore-as-published-many",onToggle:D=>v(D.target.checked)})})]}),className:o5,confirmingLabel:b("general:restoring"),heading:b("general:confirmRestoration"),modalSlug:t5,onConfirm:R})]})};import{c as a5}from"react/compiler-runtime";import{jsx as _C,jsxs as mY}from"react/jsx-runtime";import fY from"react";import{jsx as iY}from"react/jsx-runtime";import{getTranslation as n5}from"@payloadcms/translations";import{useRouter as aY,useSearchParams as lY}from"next/navigation.js";import{combineWhereConstraints as cY,mergeListSearchAndWhere as uY}from"payload/shared";import*as IC from"qs-esm";import dY,{useCallback as s5}from"react";function i5(t){let{collection:e,collection:{slug:o,labels:{plural:n,singular:r}}={},drawerSlug:s,ids:i,onSuccess:l,selectAll:a,where:c}=t,{config:{routes:{api:u},serverURL:d}}=W(),{code:m}=xe(),{i18n:f,t:h}=N(),p=lY(),g=aY(),{clearRouteCache:b}=kt(),C=s5(()=>{K.error(h("error:unknown"))},[h]),v=dY.useMemo(()=>{let x=[{_status:{not_equals:"draft"}}];c&&x.push(c);let w=uY({collectionConfig:e,search:p.get("search")});return w&&x.push(w),a||x.push({id:{in:i||[]}}),IC.stringify({locale:m,where:cY(x)},{addQueryPrefix:!0})},[e,p,a,i,m,c]),y=s5(async()=>{await Ge.patch(`${d}${u}/${o}${v}`,{body:JSON.stringify({_status:"draft"}),headers:{"Accept-Language":f.language,"Content-Type":"application/json"}}).then(async x=>{try{let w=await x.json(),S=w?.docs.length||0,T=S>1?n:r;return x.status<400||S>0?(K.success(h("general:updatedCountSuccessfully",{count:S,label:n5(T,f)})),w?.errors.length>0&&K.error(w.message,{description:w.errors.map(I=>I.message).join(`
`)}),g.replace(IC.stringify({...Ht(p),page:a?"1":void 0},{addQueryPrefix:!0})),b(),typeof l=="function"&&l(),null):(w.errors?w.errors.forEach(I=>K.error(I.message)):C(),!1)}catch{return C()}})},[d,u,o,v,f,n,r,h,g,p,a,b,C,l]);return iY(et,{body:h("version:aboutToUnpublishSelection",{label:n5(n,f)}),confirmingLabel:h("version:unpublishing"),heading:h("version:confirmUnpublish"),modalSlug:s,onConfirm:y})}var pY=t=>{let e=a5(8),{count:o,selectAll:n,selectedIDs:r,toggleAll:s}=wo(),i;e[0]!==s?(i=()=>s(),e[0]=s,e[1]=i):i=e[1];let l=n===Xt.AllAvailable,a;return e[2]!==o||e[3]!==t||e[4]!==r||e[5]!==i||e[6]!==l?(a=_C(Vd,{...t,count:o,ids:r,onSuccess:i,selectAll:l}),e[2]=o,e[3]=t,e[4]=r,e[5]=i,e[6]=l,e[7]=a):a=e[7],a},Vd=t=>{let e=a5(12),{collection:o,collection:n,count:r,ids:s,modalPrefix:i,onSuccess:l,selectAll:a,where:c}=t,{slug:u,versions:d}=n===void 0?{}:n,{t:m}=N(),{permissions:f}=Ie(),{toggleModal:h}=ae(),g=f?.collections?.[u]?.update,b=`${i?`${i}-`:""}unpublish-${u}`;if(!d?.drafts||r===0||!g)return null;let C;if(e[0]!==o||e[1]!==b||e[2]!==s||e[3]!==l||e[4]!==a||e[5]!==m||e[6]!==h||e[7]!==c){let v;e[9]!==b||e[10]!==h?(v=()=>{h(b)},e[9]=b,e[10]=h,e[11]=v):v=e[11],C=mY(fY.Fragment,{children:[_C(Mo,{"aria-label":m("version:unpublish"),onClick:v,children:m("version:unpublish")}),_C(i5,{collection:o,drawerSlug:b,ids:s,onSuccess:l,selectAll:a,where:c})]}),e[0]=o,e[1]=b,e[2]=s,e[3]=l,e[4]=a,e[5]=m,e[6]=h,e[7]=c,e[8]=C}else C=e[8];return C};var va=t=>{let e=hY(19),{collectionConfig:o,disableBulkDelete:n,disableBulkEdit:r,label:s,modalPrefix:i,showSelectAllAcrossPages:l,viewType:a,where:c}=t,u=l===void 0?!0:l,{count:d,selectAll:m,selectedIDs:f,toggleAll:h,totalDocs:p}=wo(),{t:g}=N(),b;e[0]!==h?(b=()=>h(),e[0]=h,e[1]=b):b=e[1];let C=b;if(d===0)return null;let v=o?.trash&&a==="trash",y;return e[2]!==o||e[3]!==d||e[4]!==n||e[5]!==r||e[6]!==v||e[7]!==s||e[8]!==i||e[9]!==C||e[10]!==m||e[11]!==f||e[12]!==u||e[13]!==g||e[14]!==h||e[15]!==p||e[16]!==a||e[17]!==c?(y=ba(gh,{count:d,ListActions:[m!==Xt.AllAvailable&&d<p&&u!==!1?ba(Mo,{"aria-label":g("general:selectAll",{count:`(${p})`,label:s}),id:"select-all-across-pages",onClick:()=>h(!0),children:g("general:selectAll",{count:`(${p})`,label:""})},"select-all"):null].filter(Boolean),SelectionActions:[!r&&!v&&gY(bY,{children:[ba(Ed,{collection:o,count:d,ids:f,modalPrefix:i,onSuccess:C,selectAll:m===Xt.AllAvailable,where:c}),ba(Od,{collection:o,count:d,ids:f,modalPrefix:i,onSuccess:C,selectAll:m===Xt.AllAvailable,where:c}),ba(Vd,{collection:o,count:d,ids:f,modalPrefix:i,onSuccess:C,selectAll:m===Xt.AllAvailable,where:c})]},"bulk-actions"),v&&ba(r5,{collection:o,viewType:a},"bulk-restore"),!n&&ba(O0,{collection:o,modalPrefix:i,viewType:a},"bulk-delete")].filter(Boolean)}),e[2]=o,e[3]=d,e[4]=n,e[5]=r,e[6]=v,e[7]=s,e[8]=i,e[9]=C,e[10]=m,e[11]=f,e[12]=u,e[13]=g,e[14]=h,e[15]=p,e[16]=a,e[17]=c,e[18]=y):y=e[18],y};import{jsx as Kr,jsxs as zY,Fragment as WY}from"react/jsx-runtime";import{getTranslation as NC}from"@payloadcms/translations";import"react";import{jsx as l5}from"react/jsx-runtime";var vY="close-modal-button";function c5({slug:t,className:e}){let{closeModal:o}=ae(),{t:n}=N();return l5("button",{"aria-label":n("general:close"),className:[vY,e].filter(Boolean).join(" "),onClick:()=>{o(t)},type:"button",children:l5(bt,{})},"close-button")}import{c as CY}from"react/compiler-runtime";import{jsx as u5,jsxs as yY}from"react/jsx-runtime";import{getTranslation as d5}from"@payloadcms/translations";import{jsx as Ph,jsxs as DC}from"react/jsx-runtime";import"react";var Ds="list-header",Ca=t=>DC("header",{className:[Ds,t.className].filter(Boolean).join(" "),children:[DC("div",{className:`${Ds}__content`,children:[DC("div",{className:`${Ds}__title-and-actions`,children:[Ph("h1",{className:`${Ds}__title`,children:t.title}),t.TitleActions.length?Ph("div",{className:`${Ds}__title-actions`,children:t.TitleActions}):null]}),t.Actions.length?Ph("div",{className:`${Ds}__actions`,children:t.Actions}):null]}),t.AfterListHeaderContent?Ph("div",{className:`${Ds}__after-header-content`,children:t.AfterListHeaderContent}):null]});var xY="list-drawer",m5=()=>{let t=CY(12),{i18n:e,t:o}=N(),{config:n,getEntityConfig:r}=W(),{collections:s}=n,{enabledCollections:i,selectedOption:l,setSelectedOption:a}=Ir(),c;if(t[0]!==s||t[1]!==i||t[2]!==r||t[3]!==e||t[4]!==l||t[5]!==a||t[6]!==o){c=Symbol.for("react.early_return_sentinel");e:{let u;t[8]!==i?(u=m=>{let{slug:f}=m;return i.includes(f)},t[8]=i,t[9]=u):u=t[9];let d=s.filter(u);if(d.length>1){let m=r({collectionSlug:l.value}),f;t[10]!==e?(f=h=>({label:d5(h.labels.singular,e),value:h.slug}),t[10]=e,t[11]=f):f=t[11],c=yY("div",{className:`${xY}__select-collection-wrap`,children:[u5(_e,{label:o("upload:selectCollectionToBrowse")}),u5(pt,{className:`${Ds}__select-collection`,isClearable:!1,onChange:a,options:d.map(f),value:{label:d5(m?.labels.singular,e),value:m?.slug}})]});break e}}t[0]=s,t[1]=i,t[2]=r,t[3]=e,t[4]=l,t[5]=a,t[6]=o,t[7]=c}else c=t[7];return c!==Symbol.for("react.early_return_sentinel")?c:null};import{c as wY}from"react/compiler-runtime";import{jsx as f5}from"react/jsx-runtime";var SY="list-header";function TC(t){let e=wY(3),{hasCreatePermission:o}=t,{DocumentDrawerToggler:n}=Ir(),{t:r}=N();if(!o)return null;let s;return e[0]!==n||e[1]!==r?(s=f5(n,{className:`${SY}__create-new-button`,children:f5(vt,{size:"small",children:r("general:createNew")})},"create-new-button-toggler"),e[0]=n,e[1]=r,e[2]=s):s=e[2],s}import{c as IY}from"react/compiler-runtime";import{jsx as _Y}from"react/jsx-runtime";import{useRouter as DY}from"next/navigation.js";import"react";function Gd(t){let e=IY(12),{collectionSlug:o,hasCreatePermission:n,isBulkUploadEnabled:r,onBulkUploadSuccess:s,openBulkUpload:i}=t,{drawerSlug:l,setCollectionSlug:a,setOnSuccess:c}=Qo(),{t:u}=N(),{openModal:d}=ae(),m=DY(),f;e[0]!==l||e[1]!==o||e[2]!==s||e[3]!==i||e[4]!==d||e[5]!==m||e[6]!==a||e[7]!==c?(f=()=>{typeof i=="function"?i():(a(o),d(l),c(()=>{typeof s=="function"?s():m.refresh()}))},e[0]=l,e[1]=o,e[2]=s,e[3]=i,e[4]=d,e[5]=m,e[6]=a,e[7]=c,e[8]=f):f=e[8];let h=f;if(!n||!r)return null;let p;return e[9]!==h||e[10]!==u?(p=_Y(oe,{"aria-label":u("upload:bulkUpload"),buttonStyle:"pill",onClick:h,size:"small",children:u("upload:bulkUpload")},"bulk-upload-button"),e[9]=h,e[10]=u,e[11]=p):p=e[11],p}import{c as TY}from"react/compiler-runtime";import{jsx as FY}from"react/jsx-runtime";import{getTranslation as RY}from"@payloadcms/translations";import"react";var AY="list-create-new-doc";function FC(t){let e=TY(5),{collectionConfig:o,hasCreatePermission:n,newDocumentURL:r}=t,{i18n:s,t:i}=N();if(!n)return null;let l=o?.labels?.singular,a;return e[0]!==s||e[1]!==r||e[2]!==i||e[3]!==l?(a=FY(oe,{"aria-label":i("general:createNewLabel",{label:RY(l,s)}),buttonStyle:"pill",className:`${AY}__create-new-button`,el:"link",size:"small",to:r,children:i("general:createNew")},"create-new-button"),e[0]=s,e[1]=r,e[2]=i,e[3]=l,e[4]=a):a=e[4],a}import{jsx as zd,jsxs as PY}from"react/jsx-runtime";import{getTranslation as RC}from"@payloadcms/translations";import{useRouter as EY,useSearchParams as NY}from"next/navigation.js";import*as Nh from"qs-esm";import Eh from"react";var p5="confirm-empty-trash";function AC({collectionConfig:t,hasDeletePermission:e}){let{i18n:o,t:n}=N(),{code:r}=xe(),{config:s}=W(),{openModal:i}=ae(),l=EY(),a=NY(),{clearRouteCache:c}=kt(),[u,d]=Eh.useState(null);Eh.useEffect(()=>{(async()=>{let h=Nh.stringify({depth:0,limit:0,locale:r,trash:!0,where:{deletedAt:{exists:!0}}},{addQueryPrefix:!0});try{let g=await(await Ge.get(`${s.serverURL}${s.routes.api}/${t.slug}${h}`,{headers:{"Accept-Language":o.language,"Content-Type":"application/json"}})).json();d(g?.totalDocs??0)}catch{d(0)}})()},[t.slug,s,o.language,r]);let m=Eh.useCallback(async()=>{if(!e)return;let{slug:f,labels:h}=t,p=Nh.stringify({limit:0,locale:r,trash:!0,where:{deletedAt:{exists:!0}}},{addQueryPrefix:!0}),g=await Ge.delete(`${s.serverURL}${s.routes.api}/${f}${p}`,{headers:{"Accept-Language":o.language,"Content-Type":"application/json"}});try{let b=await g.json(),C=b?.docs?.length||0;g.status<400&&K.success(n("general:permanentlyDeletedCountSuccessfully",{count:C,label:RC(h?.plural,o)})),b?.errors?.length>0&&K.error(b.message,{description:b.errors.map(v=>v.message).join(`
`)}),l.replace(Nh.stringify({...Object.fromEntries(a.entries()),page:"1"},{addQueryPrefix:!0})),c()}catch{K.error(n("error:unknown"))}},[t,s,e,o,n,r,a,l,c]);return PY(Eh.Fragment,{children:[zd(oe,{"aria-label":n("general:emptyTrashLabel",{label:RC(t?.labels?.plural,o)}),buttonStyle:"pill",disabled:u===0,id:"empty-trash-button",onClick:()=>{i(p5)},size:"small",children:n("general:emptyTrash")},"empty-trash-button"),zd(et,{body:zd(eo,{elements:{0:({children:f})=>zd("strong",{children:f}),1:({children:f})=>zd("strong",{children:f})},i18nKey:"general:aboutToPermanentlyDeleteTrash",t:n,variables:{count:u??0,label:RC(u===1?t.labels?.singular:t.labels?.plural,o)}}),confirmingLabel:n("general:deleting"),heading:n("general:confirmDeletion"),modalSlug:p5,onConfirm:m})]})}import{c as LY}from"react/compiler-runtime";import{jsx as h5}from"react/jsx-runtime";import{formatAdminURL as $Y}from"payload/shared";var PC="list-pills";function Lh(t){let e=LY(10),{collectionConfig:o,folderCollectionSlug:n,viewType:r}=t,{t:s}=N(),{config:i}=W();if(!n)return null;let l=r==="folders"&&`${PC}__button--active`,a;e[0]!==l?(a=[`${PC}__button`,l].filter(Boolean),e[0]=l,e[1]=a):a=e[1];let c=a.join(" "),u=r==="folders",d=r==="list"||r==="trash"?"link":"div",m=`/collections/${o.slug}/${n}`,f;return e[2]!==i.routes.admin||e[3]!==i.serverURL||e[4]!==s||e[5]!==c||e[6]!==u||e[7]!==d||e[8]!==m?(f=h5("div",{className:PC,children:h5(oe,{buttonStyle:"tab",className:c,disabled:u,el:d,to:$Y({adminRoute:i.routes.admin,path:m,serverURL:i.serverURL}),children:s("folder:byFolder")})}),e[2]=i.routes.admin,e[3]=i.serverURL,e[4]=s,e[5]=c,e[6]=u,e[7]=d,e[8]=m,e[9]=f):f=e[9],f}import{c as kY}from"react/compiler-runtime";import{jsx as jY,jsxs as BY}from"react/jsx-runtime";import{getTranslation as g5}from"@payloadcms/translations";import{formatAdminURL as MY}from"payload/shared";var EC="list-pills";function $h(t){let e=kY(11),{collectionConfig:o,viewType:n}=t,{i18n:r,t:s}=N(),{config:i}=W(),l=`${s("general:all")} ${g5(o?.labels?.plural,r)}`,a;if(e[0]!==l||e[1]!==o.labels?.plural||e[2]!==o.slug||e[3]!==i.routes.admin||e[4]!==i.serverURL||e[5]!==r||e[6]!==s||e[7]!==n){let c=l.toLowerCase().replace(/\s+/g,"-"),u=n==="list"&&`${EC}__button--active`,d;e[9]!==u?(d=[`${EC}__button`,u].filter(Boolean),e[9]=u,e[10]=d):d=e[10],a=jY("div",{className:EC,children:BY(oe,{buttonStyle:"tab",className:d.join(" "),disabled:n==="list",el:n==="folders"||n==="trash"?"link":"div",id:c,to:MY({adminRoute:i.routes.admin,path:`/collections/${o.slug}`,serverURL:i.serverURL}),children:[s("general:all")," ",g5(o?.labels?.plural,r)]})}),e[0]=l,e[1]=o.labels?.plural,e[2]=o.slug,e[3]=i.routes.admin,e[4]=i.serverURL,e[5]=r,e[6]=s,e[7]=n,e[8]=a}else a=e[8];return a}import{c as OY}from"react/compiler-runtime";import{jsx as VY}from"react/jsx-runtime";import{formatAdminURL as GY}from"payload/shared";function kh(t){let e=OY(7),{collectionConfig:o,viewType:n}=t,{t:r}=N(),{config:s}=W();if(!o.trash)return null;let i=n==="trash",l=n==="list"||n==="folders"?"link":"div",a=`/collections/${o.slug}/trash`,c;return e[0]!==s.routes.admin||e[1]!==s.serverURL||e[2]!==r||e[3]!==i||e[4]!==l||e[5]!==a?(c=VY(oe,{buttonStyle:"tab",disabled:i,el:l,id:"trash-view-pill",to:GY({adminRoute:s.routes.admin,path:a,serverURL:s.serverURL}),children:r("general:trash")},"trash-view-pill"),e[0]=s.routes.admin,e[1]=s.serverURL,e[2]=r,e[3]=i,e[4]=l,e[5]=a,e[6]=c):c=e[6],c}var b5="list-drawer",LC=({className:t,collectionConfig:e,Description:o,disableBulkDelete:n,disableBulkEdit:r,hasCreatePermission:s,hasDeletePermission:i,i18n:l,isBulkUploadEnabled:a,isTrashEnabled:c,newDocumentURL:u,onBulkUploadSuccess:d,openBulkUpload:m,smallBreak:f,viewType:h})=>{let{config:p,getEntityConfig:g}=W(),{drawerSlug:b,isInDrawer:C,selectedOption:v}=Ir(),y=h==="trash",{isGroupingBy:x}=st();return C?Kr(Ca,{Actions:[Kr(c5,{className:`${b5}__header-close`,slug:b},"close-button")],AfterListHeaderContent:zY(WY,{children:[o,Kr(m5,{})]}),className:`${b5}__header`,title:NC(g({collectionSlug:v.value})?.labels?.plural,l),TitleActions:[Kr(TC,{hasCreatePermission:s},"list-drawer-create-new-doc")].filter(Boolean)}):Kr(Ca,{Actions:[!f&&!x&&Kr(va,{collectionConfig:e,disableBulkDelete:n,disableBulkEdit:r,label:NC(e?.labels?.plural,l),showSelectAllAcrossPages:!x,viewType:h},"list-selection"),(e.folders&&p.folders||c)&&Kr($h,{collectionConfig:e,viewType:h},"list-header-default-button"),e.folders&&p.folders&&Kr(Lh,{collectionConfig:e,folderCollectionSlug:p.folders.slug,viewType:h},"list-header-by-folder-button"),c&&Kr(kh,{collectionConfig:e,viewType:h},"list-header-trash-button")].filter(Boolean),AfterListHeaderContent:o,className:t,title:NC(e?.labels?.plural,l),TitleActions:[s&&!y&&Kr(FC,{collectionConfig:e,hasCreatePermission:s,newDocumentURL:u},"list-header-create-new-doc"),s&&a&&!y&&Kr(Gd,{collectionSlug:e.slug,hasCreatePermission:s,isBulkUploadEnabled:a,onBulkUploadSuccess:d,openBulkUpload:m},"list-header-bulk-upload"),i&&c&&h==="trash"&&Kr(AC,{collectionConfig:e,hasDeletePermission:i},"list-header-empty-trash")].filter(Boolean)})};import{jsx as v5,jsxs as HY}from"react/jsx-runtime";import"react";var C5="group-by-header",UY=({collectionConfig:t,groupByFieldPath:e,groupByValue:o,heading:n})=>HY("header",{className:C5,children:[v5("h4",{className:`${C5}__heading`,children:n}),v5(va,{collectionConfig:t,label:n,modalPrefix:o,where:{[e]:{equals:o}}})]});import{c as KY}from"react/compiler-runtime";import{jsx as eJ}from"react/jsx-runtime";import"react";import{jsx as jC,jsxs as kC}from"react/jsx-runtime";import{isNumber as qY}from"payload/shared";import{Fragment as QY}from"react";import{c as XY}from"react/compiler-runtime";import{jsx as di,jsxs as y5}from"react/jsx-runtime";import{collectionDefaults as ZY,isNumber as YY}from"payload/shared";import"react";var Ql="per-page",JY=ZY.admin.pagination.limits,$C=t=>{let e=XY(9),{defaultLimit:o,handleChange:n,limit:r,limits:s}=t,i=o===void 0?10:o,l=s===void 0?JY:s,{t:a}=N(),c=YY(r)?r:i,u;if(e[0]!==n||e[1]!==c||e[2]!==l||e[3]!==a){let d;e[5]!==n||e[6]!==c||e[7]!==l?(d=m=>{let{close:f}=m;return di(ve.ButtonGroup,{children:l.map((h,p)=>y5(ve.Button,{className:[`${Ql}__button`,h===c&&`${Ql}__button-active`].filter(Boolean).join(" "),onClick:()=>{f(),n&&n(h)},children:[h===c&&di("div",{className:`${Ql}__chevron`,children:di(We,{direction:"right",size:"small"})}),"\xA0",di("span",{children:h})]},p))})},e[5]=n,e[6]=c,e[7]=l,e[8]=d):d=e[8],u=di("div",{className:Ql,children:di(lt,{button:y5("div",{className:`${Ql}__base-button`,children:[di("span",{children:a("general:perPage",{limit:c})}),"\xA0",di(We,{className:`${Ql}__icon`})]}),horizontalAlign:"right",render:d,size:"small"})}),e[0]=n,e[1]=c,e[2]=l,e[3]=a,e[4]=u}else u=e[4];return u};var x5="page-controls",BC=({AfterPageControls:t,collectionConfig:e,data:o,handlePageChange:n,handlePerPageChange:r,limit:s})=>{let{i18n:i}=N();return kC("div",{className:x5,children:[jC(yu,{hasNextPage:o.hasNextPage,hasPrevPage:o.hasPrevPage,limit:o.limit,nextPage:o.nextPage,numberOfNeighbors:1,onChange:n,page:o.page,prevPage:o.prevPage,totalPages:o.totalPages}),o.totalDocs>0&&kC(QY,{children:[kC("div",{className:`${x5}__page-info`,children:[o.page*o.limit-(o.limit-1),"-",o.totalPages>1&&o.totalPages!==o.page?o.limit*o.page:o.totalDocs," ",i.t("general:of")," ",o.totalDocs]}),jC($C,{handleChange:r,limit:s,limits:e?.admin?.pagination?.limits,resetPage:o.totalDocs<=o.pagingCounter}),t]})]})},MC=({AfterPageControls:t,collectionConfig:e})=>{let{data:o,defaultLimit:n,handlePageChange:r,handlePerPageChange:s,query:i}=st();return jC(BC,{AfterPageControls:t,collectionConfig:e,data:o,handlePageChange:r,handlePerPageChange:s,limit:qY(i.limit)?i.limit:n})};var tJ=t=>{let e=KY(12),{AfterPageControls:o,collectionConfig:n,data:r,groupByValue:s}=t,{refineListData:i}=st(),l;e[0]!==s||e[1]!==i?(l=async m=>{await i({queryByGroup:{[s]:{page:m}}})},e[0]=s,e[1]=i,e[2]=l):l=e[2];let a=l,c;e[3]!==s||e[4]!==i?(c=async m=>{await i({queryByGroup:{[s]:{limit:m,page:1}}})},e[3]=s,e[4]=i,e[5]=c):c=e[5];let u=c,d;return e[6]!==o||e[7]!==n||e[8]!==r||e[9]!==a||e[10]!==u?(d=eJ(BC,{AfterPageControls:o,collectionConfig:n,data:r,handlePageChange:a,handlePerPageChange:u}),e[6]=o,e[7]=n,e[8]=r,e[9]=a,e[10]=u,e[11]=d):d=e[11],d};import{c as oJ}from"react/compiler-runtime";import{jsx as S5}from"react/jsx-runtime";import{formatAdminURL as rJ}from"payload/shared";import"react";import{jsx as w5}from"react/jsx-runtime";import"react";var OC=()=>w5("svg",{className:"icon icon--logout",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:w5("path",{className:"stroke",d:"M12 16H14.6667C15.0203 16 15.3594 15.8595 15.6095 15.6095C15.8595 15.3594 16 15.0203 16 14.6667V5.33333C16 4.97971 15.8595 4.64057 15.6095 4.39052C15.3594 4.14048 15.0203 4 14.6667 4H12M7.33333 13.3333L4 10M4 10L7.33333 6.66667M4 10H12",strokeLinecap:"square"})});var nJ="nav",sJ=t=>{let e=oJ(5),{tabIndex:o}=t,n=o===void 0?0:o,{t:r}=N(),{config:s}=W(),{admin:i,routes:l}=s,{routes:a}=i,{logout:c}=a,{admin:u}=l,d;return e[0]!==u||e[1]!==c||e[2]!==r||e[3]!==n?(d=S5(Jt,{"aria-label":r("authentication:logOut"),className:`${nJ}__log-out`,href:rJ({adminRoute:u,path:c}),prefetch:!1,tabIndex:n,title:r("authentication:logOut"),children:S5(OC,{})}),e[0]=u,e[1]=c,e[2]=r,e[3]=n,e[4]=d):d=e[4],d};import{c as iJ}from"react/compiler-runtime";import{jsx as Kl,jsxs as I5}from"react/jsx-runtime";import aJ,{useState as _5}from"react";var mi="nav-group",lJ="nav",cJ=t=>{let e=iJ(21),{children:o,isOpen:n,label:r}=t,[s,i]=_5(typeof n<"u"?!n:!1),[l,a]=_5(!1),{setPreference:c}=ao(),{navOpen:u}=fa();if(r){let m;e[0]!==s||e[1]!==r||e[2]!==c?(m=()=>{a(!0);let T={};T?.[r]?T[r].open=!!s:T[r]={open:!!s},c(lJ,{groups:T},!0),i(!s)},e[0]=s,e[1]=r,e[2]=c,e[3]=m):m=e[3];let f=m,h=`${r}`,p=s&&`${mi}--collapsed`,g;e[4]!==h||e[5]!==p?(g=[`${mi}`,h,p].filter(Boolean),e[4]=h,e[5]=p,e[6]=g):g=e[6];let b=g.join(" "),C=`nav-group-${r}`,v=`${mi}__toggle--${s?"collapsed":"open"}`,y;e[7]!==v?(y=[`${mi}__toggle`,v].filter(Boolean),e[7]=v,e[8]=y):y=e[8];let x=y.join(" "),w=u?0:-1,S;return e[9]!==l||e[10]!==o||e[11]!==s||e[12]!==r||e[13]!==w||e[14]!==b||e[15]!==C||e[16]!==x||e[17]!==f?(S=I5("div",{className:b,id:C,children:[I5("button",{className:x,onClick:f,tabIndex:w,type:"button",children:[Kl("div",{className:`${mi}__label`,children:r}),Kl("div",{className:`${mi}__indicator`,children:Kl(We,{className:`${mi}__indicator`,direction:s?void 0:"up"})})]}),Kl(wr,{duration:l?200:0,height:s?0:"auto",children:Kl("div",{className:`${mi}__content`,children:o})})]}),e[9]=l,e[10]=o,e[11]=s,e[12]=r,e[13]=w,e[14]=b,e[15]=C,e[16]=x,e[17]=f,e[18]=S):S=e[18],S}let d;return e[19]!==o?(d=Kl(aJ.Fragment,{children:o}),e[19]=o,e[20]=d):d=e[20],d};import{jsx as uJ,jsxs as dJ}from"react/jsx-runtime";import{formatAdminURL as mJ}from"payload/shared";import"react";var fJ="browse-by-folder-button";function pJ({active:t}){let{t:e}=N(),{config:o}=W(),{admin:{routes:{browseByFolder:n}},routes:{admin:r}}=o;return dJ(Jt,{className:[fJ,t&&"active"].filter(Boolean).join(" "),href:mJ({adminRoute:r,path:n}),id:"browse-by-folder",prefetch:!1,children:[uJ(ur,{}),e("folder:browseByFolder")]})}import{jsx as D5}from"react/jsx-runtime";import jh from"react";var hJ=({options:t,...e})=>{let{field:o,field:{name:n,admin:{className:r,isClearable:s=!0,isSortable:i=!0,placeholder:l}={},hasMany:a=!1,label:c,localized:u,required:d},onChange:m,path:f,readOnly:h,validate:p}=e,{t:g}=N(),{folderType:b}=Mt(),C=jh.useMemo(()=>!b||b.length===0?vp(t):vp(t.filter(k=>typeof k=="object"&&k.value?b.includes(k.value):!0)),[t,b]),v=jh.useCallback((k,B)=>{if(typeof p=="function")return p(k,{...B,hasMany:a,options:C,required:d})},[p,d,a,C]),{customComponents:{AfterInput:y,BeforeInput:x,Description:w,Error:S,Label:T}={},disabled:I,path:R,selectFilterOptions:F,setValue:_,showError:D,value:A}=Ne({potentiallyStalePath:f,validate:v}),L=jh.useCallback(k=>{if(!h||I){let B=null;k&&a?Array.isArray(k)&&k.length>0?B=k.map($=>$.value):B=null:k&&!Array.isArray(k)&&(B=k.value),typeof m=="function"&&m(B),_(B)}},[h,I,a,_,m]),E=jh.useMemo(()=>rt(o),[o]);return D5("div",{children:D5(Ln,{AfterInput:y,BeforeInput:x,className:r,Description:w,description:g("folder:folderTypeDescription"),Error:S,filterOption:F?({value:k})=>F?.some(B=>(typeof B=="string"?B:B.value)===k):void 0,hasMany:a,isClearable:s,isSortable:i,Label:T,label:c,localized:u,name:n,onChange:L,options:C,path:R,placeholder:l,readOnly:h||I,required:d||Array.isArray(b)&&b.length>0,showError:D,style:E,value:A})})};import{c as _J}from"react/compiler-runtime";import{jsx as tc,jsxs as zC,Fragment as DJ}from"react/jsx-runtime";import{getTranslation as $5}from"@payloadcms/translations";import{extractID as k5}from"payload/shared";import j5 from"react";import{jsx as T5}from"react/jsx-runtime";import"react";var ec=()=>T5("svg",{className:"icon icon--document",fill:"none",height:"16",viewBox:"0 0 16 16",width:"16",xmlns:"http://www.w3.org/2000/svg",children:T5("path",{clipRule:"evenodd",d:"M3.5 1C2.94772 1 2.5 1.44772 2.5 2V14C2.5 14.5523 2.94771 15 3.5 15H12.5C13.0523 15 13.5 14.5523 13.5 14V4.41421C13.5 4.149 13.3946 3.89464 13.2071 3.70711L10.7929 1.29289C10.6054 1.10536 10.351 1 10.0858 1H3.5ZM5 5.5C5 5.22386 5.22386 5 5.5 5H10.5C10.7761 5 11 5.22386 11 5.5C11 5.77614 10.7761 6 10.5 6H5.5C5.22386 6 5 5.77614 5 5.5ZM5 8.5C5 8.22386 5.22386 8 5.5 8H10.5C10.7761 8 11 8.22386 11 8.5C11 8.77614 10.7761 9 10.5 9H5.5C5.22386 9 5 8.77614 5 8.5ZM5 11.5C5 11.2239 5.22386 11 5.5 11H10.5C10.7761 11 11 11.2239 11 11.5C11 11.7761 10.7761 12 10.5 12H5.5C5.22386 12 5 11.7761 5 11.5Z",fill:"currentColor",fillRule:"evenodd"})});import{jsx as VC,jsxs as SJ}from"react/jsx-runtime";import{useDroppable as IJ}from"@dnd-kit/core";import L5 from"react";import{jsx as gJ}from"react/jsx-runtime";import{useDraggable as bJ}from"@dnd-kit/core";import{useId as vJ,useRef as F5}from"react";var R5="draggable-with-click",Bh=({as:t="div",children:e,className:o,disabled:n=!1,onClick:r,onKeyDown:s,ref:i,thresholdPixels:l=3})=>{let a=vJ(),{attributes:c,listeners:u,setNodeRef:d}=bJ({id:a,disabled:n}),m=F5({x:0,y:0}),f=F5(!1),h=g=>{m.current={x:g.clientX,y:g.clientY},f.current=!1;let b=y=>{let x=Math.abs(y.clientX-m.current.x),w=Math.abs(y.clientY-m.current.y);(x>l||w>l)&&(f.current=!0,u?.onPointerDown&&(u.onPointerDown(g),r(y)),window.removeEventListener("pointermove",b))},C=()=>{window.removeEventListener("pointermove",b),window.removeEventListener("pointerup",v)},v=y=>{C(),f.current||r(y)};window.addEventListener("pointermove",b),window.addEventListener("pointerup",v)};return gJ(t||"div",{role:"button",tabIndex:0,...c,className:[R5,o,n?`${R5}--disabled`:""].filter(Boolean).join(" "),onKeyDown:n?void 0:s,onPointerDown:n?void 0:r?h:void 0,ref:g=>{n||(d(g),i&&(i.current=g))},children:e})};import{jsx as Gn,jsxs as CJ}from"react/jsx-runtime";import"react";var Ts="simple-table",A5=({appearance:t,className:e,headerCells:o,tableRows:n})=>Gn("div",{className:[e,Ts,t&&`${Ts}--appearance-${t}`].filter(Boolean).join(" "),children:CJ("table",{cellPadding:0,cellSpacing:0,className:`${Ts}__table`,children:[Gn(yJ,{children:Gn(wJ,{children:o})}),Gn(xJ,{children:n})]})}),yJ=({children:t,className:e,...o})=>Gn("thead",{className:`${Ts}__thead ${e||""}`.trim(),...o,children:t}),xJ=({children:t,className:e,...o})=>Gn("tbody",{className:`${Ts}__tbody ${e||""}`.trim(),...o,children:t}),wJ=({children:t,className:e,...o})=>Gn("tr",{className:`${Ts}__tr ${e||""}`.trim(),...o,children:t}),P5=({children:t,className:e,...o})=>Gn("td",{className:`${Ts}__td ${e||""}`.trim(),...o,children:t}),E5=({children:t,className:e,...o})=>Gn("th",{className:`${Ts}__th ${e||""}`.trim(),...o,children:t}),N5=({children:t,className:e,...o})=>Gn("td",{className:`${Ts}__hidden-cell ${e||""}`.trim(),...o,children:t});var zn="draggable-table-row";function GC({id:t,columns:e,disabled:o=!1,dragData:n,isDroppable:r,isFocused:s,isSelected:i,isSelecting:l,itemKey:a,onClick:c,onKeyDown:u}){let d=!o&&r&&!i,{isOver:m,setNodeRef:f}=IJ({id:t,data:n,disabled:!d}),h=L5.useRef(null);return L5.useEffect(()=>{let p=h.current;return s&&h.current?h.current.focus():!s&&h.current&&h.current.blur(),()=>{p&&p.blur()}},[s]),SJ(Bh,{as:"tr",className:[zn,i&&`${zn}--selected`,l&&`${zn}--selecting`,o&&`${zn}--disabled`,s&&`${zn}--focused`,m&&`${zn}--over`].filter(Boolean).join(" "),onClick:c,onKeyDown:u,ref:h,children:[e.map((p,g)=>VC(P5,{className:[`${zn}__cell-content`,g===0&&`${zn}__first-td`,g===e.length-1&&`${zn}__last-td`].filter(Boolean).join(" "),children:p},`${a}-${g}`)),d?VC(N5,{children:VC("div",{className:`${zn}__drop-area`,ref:f})}):null]},a)}var B5="folder-file-table";function WC(t){let e=_J(39),{showRelationCell:o}=t,n=o===void 0?!0:o,{checkIfItemIsDisabled:r,documents:s,focusedRowIndex:i,onItemClick:l,onItemKeyPress:a,selectedItemKeys:c,subfolders:u}=Mt(),{config:d}=W(),{i18n:m,t:f}=N(),h;e[0]!==d||e[1]!==m?(h=()=>{let v={};return d.collections.forEach(y=>{v[y.slug]={plural:$5(y.labels?.plural,m),singular:$5(y.labels?.singular,m)}}),v},e[0]=d,e[1]=m,e[2]=h):h=e[2];let[p]=j5.useState(h),g;e[3]!==n||e[4]!==f?(g=()=>{let v=[{name:"name",label:f("general:name")},{name:"createdAt",label:f("general:createdAt")},{name:"updatedAt",label:f("general:updatedAt")}];return n&&v.push({name:"type",label:f("version:type")}),v},e[3]=n,e[4]=f,e[5]=g):g=e[5];let[b]=j5.useState(g),C;if(e[6]!==r||e[7]!==b||e[8]!==d||e[9]!==s||e[10]!==i||e[11]!==m||e[12]!==l||e[13]!==a||e[14]!==p||e[15]!==c||e[16]!==u){let v;e[18]!==r||e[19]!==b||e[20]!==d||e[21]!==i||e[22]!==m||e[23]!==l||e[24]!==a||e[25]!==p||e[26]!==c?(v=(x,w)=>{let{itemKey:S,relationTo:T,value:I}=x,R=k5(I);return tc(GC,{columns:b.map((F,_)=>{let{name:D}=F,A="\u2014";return D==="name"&&I._folderOrDocumentTitle!==void 0&&(A=I._folderOrDocumentTitle),(D==="createdAt"||D==="updatedAt")&&I[D]&&(A=Or({date:I[D],i18n:m,pattern:d.admin.dateFormat})),D==="type"&&(A=zC(DJ,{children:[p[T]?.singular||T,Array.isArray(x.value?.folderType)?x.value?.folderType.reduce((L,E,k)=>k===0?` \u2014 ${p[E]?.plural||E}`:k>0?`${L}, ${p[E]?.plural||E}`:L,""):""]})),_===0?zC("span",{className:`${B5}__cell-with-icon`,children:[tc(ur,{}),A]},`${S}-${D}`):A}),disabled:r(x),dragData:{id:R,type:"folder"},id:R,isDroppable:!0,isFocused:i===w,isSelected:c.has(S),isSelecting:c.size>0,itemKey:S,onClick:F=>{l({event:F,index:w,item:x})},onKeyDown:F=>{a({event:F,index:w,item:x})}},`${w}-${S}`)},e[18]=r,e[19]=b,e[20]=d,e[21]=i,e[22]=m,e[23]=l,e[24]=a,e[25]=p,e[26]=c,e[27]=v):v=e[27];let y;e[28]!==r||e[29]!==b||e[30]!==d||e[31]!==i||e[32]!==m||e[33]!==l||e[34]!==a||e[35]!==p||e[36]!==c||e[37]!==u.length?(y=(x,w)=>{let{itemKey:S,relationTo:T,value:I}=x,R=k5(I),F=w+u.length;return tc(GC,{columns:b.map((_,D)=>{let{name:A}=_,L="\u2014";return A==="name"&&I._folderOrDocumentTitle!==void 0&&(L=I._folderOrDocumentTitle),(A==="createdAt"||A==="updatedAt")&&I[A]&&(L=Or({date:I[A],i18n:m,pattern:d.admin.dateFormat})),A==="type"&&(L=p[T]?.singular||T),D===0?zC("span",{className:`${B5}__cell-with-icon`,children:[tc(ec,{}),L]},`${S}-${A}`):L}),disabled:r(x),dragData:{id:R,type:"document"},id:R,isFocused:i===F,isSelected:c.has(S),isSelecting:c.size>0,itemKey:S,onClick:_=>{l({event:_,index:F,item:x})},onKeyDown:_=>{a({event:_,index:F,item:x})}},`${F}-${S}`)},e[28]=r,e[29]=b,e[30]=d,e[31]=i,e[32]=m,e[33]=l,e[34]=a,e[35]=p,e[36]=c,e[37]=u.length,e[38]=y):y=e[38],C=tc(A5,{headerCells:b.map(TJ),tableRows:[...u.map(v),...s.map(y)]}),e[6]=r,e[7]=b,e[8]=d,e[9]=s,e[10]=i,e[11]=m,e[12]=l,e[13]=a,e[14]=p,e[15]=c,e[16]=u,e[17]=C}else C=e[17];return C}function TJ(t){let{name:e,label:o}=t;return tc(E5,{children:o},e)}import{jsx as ZC,jsxs as NJ,Fragment as LJ}from"react/jsx-runtime";import"react";import{c as RJ}from"react/compiler-runtime";import{jsx as fr,jsxs as Mh}from"react/jsx-runtime";import{useDroppable as AJ}from"@dnd-kit/core";import{getTranslation as PJ}from"@payloadcms/translations";import UC from"react";import{jsx as HC,jsxs as FJ}from"react/jsx-runtime";import"react";function M5({className:t=""}){return FJ("div",{className:`icon icon--dots ${t}`.trim(),children:[HC("div",{}),HC("div",{}),HC("div",{})]})}var mr="folder-file-card";function XC({id:t,type:e,className:o="",disabled:n=!1,folderType:r,isDeleting:s=!1,isFocused:i=!1,isSelected:l=!1,itemKey:a,onClick:c,onKeyDown:u,PopupActions:d,previewUrl:m,selectedCount:f=0,title:h}){let p=!t||n||e!=="folder",{isOver:g,setNodeRef:b}=AJ({id:a,data:{id:t,type:e,folderType:r},disabled:p}),C=UC.useRef(null);return UC.useEffect(()=>{let v=C.current;return i&&C.current?C.current.focus():!i&&C.current&&C.current.blur(),()=>{v&&v.blur()}},[i]),Mh(Bh,{className:[mr,o,l&&`${mr}--selected`,n&&`${mr}--disabled`,s&&`${mr}--deleting`,i&&`${mr}--focused`,g&&`${mr}--over`,`${mr}--${e}`].filter(Boolean).join(" "),disabled:n||!c&&!u,onClick:c,onKeyDown:u,ref:C,children:[p?null:fr("div",{className:`${mr}__drop-area`,ref:b}),e==="file"?fr("div",{className:`${mr}__preview-area`,children:m?fr(Tr,{fileSrc:m}):fr(ec,{})}):null,Mh("div",{className:`${mr}__titlebar-area`,children:[fr("div",{className:`${mr}__icon-wrap`,children:e==="file"?fr(ec,{}):fr(ur,{})}),Mh("div",{className:`${mr}__titlebar-labels`,children:[fr("p",{className:`${mr}__name`,title:h,children:fr("span",{children:h})}),r&&r.length>0?fr(EJ,{folderType:r}):null]}),d?fr(lt,{button:fr(M5,{}),disabled:f>1||f===1&&!l,horizontalAlign:"right",size:"large",verticalAlign:"bottom",children:d}):null]})]},a)}function EJ({folderType:t}){let{config:e}=W(),{i18n:o}=N(),n=UC.useMemo(()=>t.reduce((r,s)=>{let i=e.collections?.find(l=>l.slug===s);return i?[...r,PJ(i.labels.plural,o)]:r},[]),[t,e.collections,o]);return fr("p",{className:`${mr}__assigned-collections`,children:n.map((r,s)=>Mh("span",{children:[r,s<t.length-1?", ":""]},r))})}function O5(t){let e=RJ(20),{type:o,className:n,index:r,item:s}=t,{checkIfItemIsDisabled:i,focusedRowIndex:l,onItemClick:a,onItemKeyPress:c,selectedItemKeys:u}=Mt(),d;if(e[0]!==i||e[1]!==n||e[2]!==l||e[3]!==r||e[4]!==s||e[5]!==a||e[6]!==c||e[7]!==u||e[8]!==o){let m=u.has(s.itemKey),f=i(s),h;e[10]!==s.value.folderType?(h=s.value.folderType||[],e[10]=s.value.folderType,e[11]=h):h=e[11];let p;e[12]!==r||e[13]!==s||e[14]!==a?(p=b=>{a({event:b,index:r,item:s})},e[12]=r,e[13]=s,e[14]=a,e[15]=p):p=e[15];let g;e[16]!==r||e[17]!==s||e[18]!==c?(g=b=>{c({event:b,index:r,item:s})},e[16]=r,e[17]=s,e[18]=c,e[19]=g):g=e[19],d=fr(XC,{className:n,disabled:f,folderType:h,id:s.value.id,isFocused:l===r,isSelected:m,itemKey:s.itemKey,onClick:p,onKeyDown:g,previewUrl:s.value.url,title:s.value._folderOrDocumentTitle,type:o}),e[0]=i,e[1]=n,e[2]=l,e[3]=r,e[4]=s,e[5]=a,e[6]=c,e[7]=u,e[8]=o,e[9]=d}else d=e[9];return d}var V5="item-card-grid";function Oh({type:t,items:e,subfolderCount:o,title:n}){return NJ(LJ,{children:[n&&ZC("p",{className:`${V5}__title`,children:n}),ZC("div",{className:V5,children:!e||e?.length===0?null:e.map((r,s)=>{let i=s+(o||0),{itemKey:l}=r;return ZC(O5,{index:i,item:r,type:t},l)})})]})}import{c as MJ}from"react/compiler-runtime";import{jsx as Gh}from"react/jsx-runtime";import{Fragment as G5}from"react";import{c as $J}from"react/compiler-runtime";import{jsx as kJ,jsxs as jJ}from"react/jsx-runtime";import"react";function YC(t){return t===void 0||typeof t=="number"?t:decodeURIComponent(t)}var BJ="id-label",Vh=t=>{let e=$J(9),{id:o,className:n,prefix:r}=t,s=r===void 0?"ID:":r,{config:i}=W(),{routes:l}=i,{admin:a}=l,{collectionSlug:c,globalSlug:u}=De(),d=Mr(),m=`/${c?`collections/${c}`:`globals/${u}`}/${o}`,f;if(e[0]!==a||e[1]!==n||e[2]!==d||e[3]!==o||e[4]!==s||e[5]!==m){let h=ep({adminRoute:a,path:m}),p;e[7]!==n?(p=[BJ,n].filter(Boolean),e[7]=n,e[8]=p):p=e[8],f=jJ("div",{className:p.join(" "),title:o,children:[s,"\xA0",d>1?kJ(Jt,{href:h,children:YC(o)}):YC(o)]}),e[0]=a,e[1]=n,e[2]=d,e[3]=o,e[4]=s,e[5]=m,e[6]=f}else f=e[6];return f};var JC="render-title",qC=t=>{let e=MJ(10),{className:o,element:n,fallback:r,title:s}=t,i=n===void 0?"h1":n,{id:l,isInitializing:a}=De(),{title:c}=No(),u=s||c||r,d=u===l,m=i,f;if(e[0]!==m||e[1]!==o||e[2]!==l||e[3]!==d||e[4]!==a||e[5]!==u){let h=Gh(G5,{children:"\xA0"}),p=d&&`${JC}--has-id`,g;e[7]!==o||e[8]!==p?(g=[o,JC,p].filter(Boolean),e[7]=o,e[8]=p,e[9]=g):g=e[9],f=Gh(m,{className:g.join(" "),"data-doc-id":l,title:u,children:a?h:Gh(G5,{children:d?Gh(Vh,{className:`${JC}__id`,id:l}):u||h})}),e[0]=m,e[1]=o,e[2]=l,e[3]=d,e[4]=a,e[5]=u,e[6]=f}else f=e[6];return f};import{c as OJ}from"react/compiler-runtime";import{jsx as oc,jsxs as z5}from"react/jsx-runtime";import"react";var Wn="sort-column",VJ=t=>{let e=OJ(22),{name:o,appearance:n,disable:r,Label:s,label:i}=t,l=r===void 0?!1:r,{handleSortChange:a,query:c}=st(),{t:u}=N(),{sort:d}=c,m=`-${o}`,f=o,h;e[0]!==f||e[1]!==d?(h=[`${Wn}__asc`],d===f&&h.push(`${Wn}--active`),e[0]=f,e[1]=d,e[2]=h):h=e[2];let p;e[3]!==m||e[4]!==d?(p=[`${Wn}__desc`],d===m&&p.push(`${Wn}--active`),e[3]=m,e[4]=d,e[5]=p):p=e[5];let g=n&&`${Wn}--appearance-${n}`,b;e[6]!==g?(b=[Wn,g].filter(Boolean),e[6]=g,e[7]=b):b=e[7];let C=b.join(" "),v;e[8]!==s||e[9]!==i?(v=s??oc(_e,{hideLocale:!0,label:i,unstyled:!0}),e[8]=s,e[9]=i,e[10]=v):v=e[10];let y;return e[11]!==f||e[12]!==h||e[13]!==m||e[14]!==p||e[15]!==l||e[16]!==a||e[17]!==i||e[18]!==u||e[19]!==C||e[20]!==v?(y=z5("div",{className:C,children:[oc("span",{className:`${Wn}__label`,children:v}),!l&&z5("div",{className:`${Wn}__buttons`,children:[oc("button",{"aria-label":u("general:sortByLabelDirection",{direction:u("general:ascending"),label:i}),className:[...h,`${Wn}__button`].filter(Boolean).join(" "),onClick:()=>void a(f),type:"button",children:oc(We,{direction:"up"})}),oc("button",{"aria-label":u("general:sortByLabelDirection",{direction:u("general:descending"),label:i}),className:[...p,`${Wn}__button`].filter(Boolean).join(" "),onClick:()=>void a(m),type:"button",children:oc(We,{})})]})]}),e[11]=f,e[12]=h,e[13]=m,e[14]=p,e[15]=l,e[16]=a,e[17]=i,e[18]=u,e[19]=C,e[20]=v,e[21]=y):y=e[21],y};import{jsx as W5}from"react/jsx-runtime";import"react";var GJ=()=>W5("svg",{"aria-hidden":"true",className:"graphic code-block-icon",focusable:"false",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:W5("path",{className:"stroke",d:"M14 12.6667L16.6667 9.99999L14 7.33332M5.99999 7.33332L3.33333 9.99999L5.99999 12.6667M11.6667 4.66666L8.33333 15.3333",strokeLinecap:"square"})});import{jsx as QC}from"react/jsx-runtime";import"react";var KC="minimize-maximize",zJ=({className:t,isMinimized:e})=>{let o=[KC,e?`${KC}--minimized`:`${KC}--maximized`,t].filter(Boolean).join(" ");return QC("svg",{className:o,height:"20",stroke:"currentColor",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:e?QC("path",{d:"M7.33333 4H5.33333C4.97971 4 4.64057 4.14048 4.39052 4.39052C4.14048 4.64057 4 4.97971 4 5.33333V7.33333M16 7.33333V5.33333C16 4.97971 15.8595 4.64057 15.6095 4.39052C15.3594 4.14048 15.0203 4 14.6667 4H12.6667M4 12.6667V14.6667C4 15.0203 4.14048 15.3594 4.39052 15.6095C4.64057 15.8595 4.97971 16 5.33333 16H7.33333M12.6667 16H14.6667C15.0203 16 15.3594 15.8595 15.6095 15.6095C15.8595 15.3594 16 15.0203 16 14.6667V12.6667"}):QC("path",{d:"M7.33333 4V6C7.33333 6.35362 7.19286 6.69276 6.94281 6.94281C6.69276 7.19286 6.35362 7.33333 6 7.33333H4M16 7.33333H14C13.6464 7.33333 13.3072 7.19286 13.0572 6.94281C12.8071 6.69276 12.6667 6.35362 12.6667 6V4M4 12.6667H6C6.35362 12.6667 6.69276 12.8071 6.94281 13.0572C7.19286 13.3072 7.33333 13.6464 7.33333 14V16M12.6667 16V14C12.6667 13.6464 12.8071 13.3072 13.0572 13.0572C13.3072 12.8071 13.6464 12.6667 14 12.6667H16"})})};import{jsx as Wd,jsxs as WJ}from"react/jsx-runtime";import"react";function HJ(){return WJ("svg",{className:"icon icon--move-folder",fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[Wd("g",{filter:"url(#filter0_d_278_1086)",children:Wd("path",{d:"M5.33334 10V7.33334C5.33334 6.97971 5.47382 6.64058 5.72387 6.39053C5.97392 6.14048 6.31305 6 6.66668 6H9.26668C9.48967 5.99782 9.70965 6.0516 9.90648 6.15642C10.1033 6.26124 10.2707 6.41375 10.3933 6.6L10.9333 7.4C11.0547 7.58436 11.22 7.73568 11.4143 7.84041C11.6087 7.94513 11.8259 7.99997 12.0467 8H17.3333C17.687 8 18.0261 8.14048 18.2762 8.39053C18.5262 8.64058 18.6667 8.97971 18.6667 9.33334V16C18.6667 16.3536 18.5262 16.6928 18.2762 16.9428C18.0261 17.1929 17.687 17.3333 17.3333 17.3333H6.66668C6.31305 17.3333 5.97392 17.1929 5.72387 16.9428C5.47382 16.6928 5.33334 16.3536 5.33334 16V15.3333M5.33334 12.6667H12M12 12.6667L10 14.6667M12 12.6667L10 10.6667",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})}),Wd("defs",{children:Wd("filter",{colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"26",id:"filter0_d_278_1086",width:"26",x:"-1",y:"-1",children:Wd("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_278_1086",mode:"normal",result:"shape"})})})]})}import{jsx as zh,jsxs as UJ}from"react/jsx-runtime";import"react";var ey=()=>UJ("svg",{className:"icon icon--grid-view",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[zh("path",{d:"M8 4H4.66667C4.29848 4 4 4.29848 4 4.66667V8C4 8.36819 4.29848 8.66667 4.66667 8.66667H8C8.36819 8.66667 8.66667 8.36819 8.66667 8V4.66667C8.66667 4.29848 8.36819 4 8 4Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),zh("path",{d:"M15.3333 4H12C11.6318 4 11.3333 4.29848 11.3333 4.66667V8C11.3333 8.36819 11.6318 8.66667 12 8.66667H15.3333C15.7015 8.66667 16 8.36819 16 8V4.66667C16 4.29848 15.7015 4 15.3333 4Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),zh("path",{d:"M15.3333 11.3333H12C11.6318 11.3333 11.3333 11.6318 11.3333 12V15.3333C11.3333 15.7015 11.6318 16 12 16H15.3333C15.7015 16 16 15.7015 16 15.3333V12C16 11.6318 15.7015 11.3333 15.3333 11.3333Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),zh("path",{d:"M8 11.3333H4.66667C4.29848 11.3333 4 11.6318 4 12V15.3333C4 15.7015 4.29848 16 4.66667 16H8C8.36819 16 8.66667 15.7015 8.66667 15.3333V12C8.66667 11.6318 8.36819 11.3333 8 11.3333Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})]});import{jsx as H5}from"react/jsx-runtime";import"react";var ty=()=>H5("svg",{className:"icon icon--list-view",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:H5("path",{d:"M4 10H16M4 14H16M4 6H16",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})});import{jsx as U5,jsxs as XJ}from"react/jsx-runtime";import"react";var oy=()=>XJ("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[U5("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-error-500)"}),U5("path",{d:"M15.4001 10.5996L10.6001 15.3996M10.6001 10.5996L15.4001 15.3996",stroke:"var(--theme-error-50)",strokeLinecap:"round",strokeLinejoin:"round"})]});import{jsx as X5,jsxs as ZJ}from"react/jsx-runtime";import"react";var ry=()=>ZJ("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[X5("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-elevation-500)"}),X5("path",{d:"M13 16.1998V12.9998M13 9.7998H13.0077",stroke:"var(--theme-elevation-50)",strokeLinecap:"round",strokeLinejoin:"round"})]});import{jsx as Z5,jsxs as YJ}from"react/jsx-runtime";import"react";var ny=()=>YJ("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[Z5("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-success-500)"}),Z5("path",{d:"M10.6001 13.0004L12.2001 14.6004L15.4001 11.4004",stroke:"var(--theme-success-50)",strokeLinecap:"round",strokeLinejoin:"round"})]});import{jsx as Y5,jsxs as JJ}from"react/jsx-runtime";import"react";var sy=()=>JJ("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[Y5("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-warning-500)"}),Y5("path",{d:"M13 10V13.2M13 16.4H13.008",stroke:"var(--theme-warning-50)",strokeLinecap:"round",strokeLinejoin:"round"})]});import{c as q5}from"react/compiler-runtime";import{jsx as J5}from"react/jsx-runtime";import rc from"react";var Q5=rc.createContext({addClientFunction:()=>null,removeClientFunction:()=>null}),K5=rc.createContext({}),iy=t=>{let e=q5(6),{children:o}=t,n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={},e[0]=n):n=e[0];let[r,s]=rc.useState(n),i;e[1]===Symbol.for("react.memo_cache_sentinel")?(i=d=>{s(m=>{let f={...m};return f[d.key]=d.func,f})},e[1]=i):i=e[1];let l=i,a;e[2]===Symbol.for("react.memo_cache_sentinel")?(a=d=>{s(m=>{let f={...m};return delete f[d.key],f})},e[2]=a):a=e[2];let c=a,u;return e[3]!==o||e[4]!==r?(u=J5(Q5,{value:{addClientFunction:l,removeClientFunction:c},children:J5(K5,{value:r,children:o})}),e[3]=o,e[4]=r,e[5]=u):u=e[5],u},qJ=(t,e)=>{let o=q5(6),{addClientFunction:n,removeClientFunction:r}=rc.use(Q5),s,i;o[0]!==n||o[1]!==e||o[2]!==t||o[3]!==r?(s=()=>(n({func:e,key:t}),()=>{r({func:e,key:t})}),i=[e,t,n,r],o[0]=n,o[1]=e,o[2]=t,o[3]=r,o[4]=s,o[5]=i):(s=o[4],i=o[5]),rc.useEffect(s,i)},QJ=()=>rc.use(K5);import{jsx as sA}from"react/jsx-runtime";import{DndContext as oq}from"@dnd-kit/core";import{fieldSchemaToJSON as rq}from"payload/shared";import ay,{useCallback as ly,useEffect as Hd,useMemo as nq,useRef as sq,useState as Hn}from"react";import{c as KJ}from"react/compiler-runtime";import{useEffect as eA,useRef as tA,useState as eq}from"react";var oA=t=>{let e=KJ(15),{eventType:o,onMessage:n,url:r}=t,s=tA(!1),[i,l]=eq(!1),{config:a}=W(),{serverURL:c}=a,u=tA(null),d,m;e[0]!==o||e[1]!==i||e[2]!==n||e[3]!==c||e[4]!==r?(d=()=>{let C=async v=>{v.origin!==window.location.origin||v.origin!==r||v.origin!==c||typeof n=="function"&&v.data?.type===o&&!s.current&&(s.current=!0,await n(v.data?.searchParams),s.current=!1)};return i&&u.current&&window.addEventListener("message",C,!1),()=>{window.removeEventListener("message",C)}},m=[n,o,r,c,i],e[0]=o,e[1]=i,e[2]=n,e[3]=c,e[4]=r,e[5]=d,e[6]=m):(d=e[5],m=e[6]),eA(d,m);let f;e[7]!==r?(f=C=>{C&&C.preventDefault();let v={height:700,left:"auto",menubar:"no",popup:"yes",toolbar:"no",top:"auto",width:800},y=Object.entries(v).reduce((w,S)=>{let[T,I]=S,R=w;if(I==="auto"){if(T==="top"){let F=Math.round(window.innerHeight/2-v.height/2);R=R+`top=${F},`}else if(T==="left"){let F=Math.round(window.innerWidth/2-v.width/2);R=R+`left=${F},`}return R}return R=R+`${T}=${I},`,R},"").slice(0,-1),x=window.open(r,"_blank",y);u.current=x,l(!0)},e[7]=r,e[8]=f):f=e[8];let h=f,p,g;e[9]!==i?(p=()=>{let C;return i?C=setInterval(function(){u.current.closed&&(clearInterval(C),l(!1))},1e3):clearInterval(C),()=>{C&&clearInterval(C)}},g=[i,u],e[9]=i,e[10]=p,e[11]=g):(p=e[10],g=e[11]),eA(p,g);let b;return e[12]!==i||e[13]!==h?(b={isPopupOpen:i,openPopupWindow:h,popupRef:u},e[12]=i,e[13]=h,e[14]=b):b=e[14],b};import{rectIntersection as tq}from"@dnd-kit/core";var rA=({collisionRect:t,droppableContainers:e,...o})=>{let n=e.find(({id:l})=>l==="live-preview-area"),r=tq({...o,collisionRect:t,droppableContainers:[n]});if(r.length===0)return r;let s=n?.rect?.current;if(t.top>=s.top&&t.left>=s.left&&t.bottom<=s.bottom&&t.right<=s.right)return r};var nA=(t,e)=>{switch(e.type){case"height":return{...t,height:e.value};case"width":return{...t,width:e.value};default:return{...t,...e?.value||{}}}};var iq=t=>{try{return new URL(t,window.location.origin).href}catch{return t}},aq=({breakpoints:t,children:e,isLivePreviewEnabled:o,isLivePreviewing:n,url:r})=>{let[s,i]=Hn("iframe"),[l,a]=Hn(n),c=nq(()=>[...t||[],{name:"responsive",height:"100%",label:"Responsive",width:"100%"}],[t]),[u,d]=Hn("");Hd(()=>d(r?.startsWith("http://")||r?.startsWith("https://")?r:iq(r)),[r]);let{isPopupOpen:m,openPopupWindow:f,popupRef:h}=oA({eventType:"payload-live-preview",url:u}),[p,g]=Hn(!1),[b,C]=Hn(!1),{collectionSlug:v,globalSlug:y}=De(),x=sq(!0),{setPreference:w}=ao(),S=ay.useRef(null),[T,I]=Hn(!1),{config:R,getEntityConfig:F}=W(),[_,D]=Hn(1),[A,L]=Hn({x:0,y:0}),[E,k]=ay.useReducer(nA,{height:0,width:0}),[B,$]=Hn({height:0,width:0}),P=F({collectionSlug:v,globalSlug:y}),[M,j]=ay.useState("responsive"),[O]=Hn(()=>rq(P?.fields||[],R)),G=Q=>{if(Q.over&&Q.over.id==="live-preview-area"){let U={x:A.x+Q.delta.x,y:A.y+Q.delta.y};L(U)}},V=ly(Q=>{k({type:"width",value:Q})},[k]),z=ly(Q=>{k({type:"height",value:Q})},[k]);Hd(()=>{let Q=c?.find(U=>U.name===M);Q&&M!=="responsive"&&M!=="custom"&&typeof Q?.width=="number"&&typeof Q?.height=="number"&&k({type:"reset",value:{height:Q.height,width:Q.width}})},[M,c]),Hd(()=>{let Q=U=>{u?.startsWith(U.origin)&&U.data&&typeof U.data=="object"&&U.data.type==="payload-live-preview"&&U.data.ready&&g(!0)};return window.addEventListener("message",Q),C(!0),()=>{window.removeEventListener("message",Q)}},[u,b]);let X=ly(Q=>{g(!1),i(Q),Q==="popup"&&f()},[f]);return Hd(()=>{(m?"popup":"iframe")!==s&&X("iframe")},[s,m,X]),Hd(()=>{if(x.current){x.current=!1;return}w(v?`collection-${v}`:`global-${y}`,{editViewType:l?"live-preview":"default"},!0)},[l,w,v,y]),sA(G0,{value:{appIsReady:p,breakpoint:M,breakpoints:c,fieldSchemaJSON:O,iframeHasLoaded:T,iframeRef:S,isLivePreviewEnabled:o,isLivePreviewing:l,isPopupOpen:m,listeningForMessages:b,measuredDeviceSize:B,openPopupWindow:f,popupRef:h,previewWindowType:s,setAppIsReady:g,setBreakpoint:j,setHeight:z,setIframeHasLoaded:I,setIsLivePreviewing:a,setMeasuredDeviceSize:$,setPreviewWindowType:X,setSize:k,setToolbarPosition:L,setWidth:V,setZoom:D,size:E,toolbarPosition:A,url:u,zoom:_},children:sA(oq,{collisionDetection:rA,onDragEnd:G,children:e})})};import{c as lq}from"react/compiler-runtime";import{jsx as iA}from"react/jsx-runtime";import cq,{useEffect as uq,useRef as dq}from"react";var aA=200,cy="progress-bar",mq=150,fq=()=>{let t=lq(9),{isTransitioning:e,transitionProgress:o}=qe(),[n,r]=cq.useState(null),s=dq(!0),i,l;if(t[0]!==e||t[1]!==o?(i=()=>{let a,c;return e?s.current?c=setTimeout(()=>{r(o),s.current=!1},mq):r(o):(s.current=!0,r(1),a=setTimeout(()=>{r(null)},aA*2)),()=>{clearTimeout(a),clearTimeout(c)}},l=[e,o],t[0]=e,t[1]=o,t[2]=i,t[3]=l):(i=t[2],l=t[3]),uq(i,l),typeof n=="number"){let a=n===1&&`${cy}--fade-out`,c;t[4]!==a?(c=[cy,a].filter(Boolean),t[4]=a,t[5]=c):c=t[5];let u=c.join(" "),d;return t[6]!==n||t[7]!==u?(d=iA("div",{className:u,style:{"--transition-duration":`${aA}ms`},children:iA("div",{className:`${cy}__progress`,style:{width:`${(n||0)*100}%`}})}),t[6]=n,t[7]=u,t[8]=d):d=t[8],d}return null};import{c as pq}from"react/compiler-runtime";import{jsx as hq}from"react/jsx-runtime";import{createContext as gq,use as bq}from"react";var lA=gq({}),vq=t=>{let e=pq(6),{children:o,visibleEntities:n}=t,r;e[0]!==n?(r=l=>{let{collectionSlug:a,globalSlug:c}=l;return a?n.collections.includes(a):c?n.globals.includes(c):!1},e[0]=n,e[1]=r):r=e[1];let s=r,i;return e[2]!==o||e[3]!==s||e[4]!==n?(i=hq(lA,{value:{isEntityVisible:s,visibleEntities:n},children:o}),e[2]=o,e[3]=s,e[4]=n,e[5]=i):i=e[5],i},uy=()=>bq(lA);import{c as Cq}from"react/compiler-runtime";import{jsx as yq}from"react/jsx-runtime";import{useParams as xq}from"next/navigation.js";import{createContext as wq,use as Sq}from"react";var cA=wq({}),dy=t=>{let e=Cq(3),{children:o}=t,n=xq(),r;return e[0]!==o||e[1]!==n?(r=yq(cA,{value:n,children:o}),e[0]=o,e[1]=n,e[2]=r):r=e[2],r},Iq=()=>Sq(cA);import{c as Mq}from"react/compiler-runtime";import{jsx as Zt,jsxs as fA}from"react/jsx-runtime";import{DndContext as Oq,pointerWithin as Vq}from"@dnd-kit/core";import _rt,{Fragment as Drt}from"react";import{useContext as Dq}from"react";import{createContext as _q}from"react";var Ud=_q({});var Xd=()=>Dq(Ud);import Tq,{useCallback as Fq,useEffect as Rq,useReducer as Aq,useRef as Pq}from"react";var Eq=(t,e)=>{let{timestamp:o,animationRef:n}=e;n.current=null;let{x:r,y:s,xDirection:i,yDirection:l,eventsFired:a,hasScrolled:c}=t,u=c||!!o,d=u?window.pageXOffset:0,m=u?window.pageYOffset:0,f=u?a+1:a,h=d-r,p=m-s,g=d/(document.body.scrollWidth-window.innerWidth)*100,b=m/(document.body.scrollHeight-window.innerHeight)*100,C=(g+b)/2,v=h>0?"right":h<0?"left":i,y=p>0?"down":p<0?"up":l;return{x:d,y:m,xDifference:h,yDifference:p,xDirection:v,yDirection:y,xPercentage:g,yPercentage:b,totalPercentage:C,eventsFired:f,hasScrolled:u}},Zd=t=>{let{children:e}=t,o=Pq(null),[n,r]=Aq(Eq,{x:0,y:0,xDifference:0,yDifference:0,xDirection:void 0,yDirection:void 0,xPercentage:0,yPercentage:0,totalPercentage:0,eventsFired:0,hasScrolled:!1}),s=Fq(i=>{o.current&&cancelAnimationFrame(o.current),o.current=requestAnimationFrame(l=>{r({e:i,timestamp:l,animationRef:o})})},[]);return Rq(()=>(window.addEventListener("scroll",s),()=>{window.removeEventListener("scroll",s)}),[s]),Tq.createElement(Ud.Provider,{value:Object.assign({},n)},e&&e)};import Nrt from"react";import Gq from"react";var{WindowInfoProvider:my}=$s&&"WindowInfoProvider"in $s?$s:{WindowInfoProvider:void 0},{useWindowInfo:ya}=$s&&"useWindowInfo"in $s?$s:{useWindowInfo:void 0};import{jsx as Nq}from"react/jsx-runtime";import{useSearchParams as Lq}from"next/navigation.js";import*as Wh from"qs-esm";import uA,{createContext as $q,use as kq}from"react";var jq={searchParams:{},stringifyParams:()=>""},dA=$q(jq),fy=({children:t})=>{let o=Lq().toString(),n=uA.useMemo(()=>Wh.parse(o,{depth:10,ignoreQueryPrefix:!0}),[o]),r=uA.useCallback(({params:s,replace:i=!1})=>Wh.stringify({...i?{}:n,...s},{addQueryPrefix:!0}),[n]);return Nq(dA,{value:{searchParams:n,stringifyParams:r},children:t})},Bq=()=>kq(dA);import{jsx as Yd}from"react/jsx-runtime";import"react";var mA=()=>Yd(nx,{className:"payload-toast-container",closeButton:!0,dir:"undefined",gap:8,icons:{error:Yd(oy,{}),info:Yd(ry,{}),success:Yd(ny,{}),warning:Yd(sy,{})},offset:"calc(var(--gutter-h) / 2)",toastOptions:{classNames:{closeButton:"payload-toast-close-button",content:"toast-content",error:"toast-error",icon:"toast-icon",info:"toast-info",success:"toast-success",title:"toast-title",toast:"payload-toast-item",warning:"toast-warning"},unstyled:!0},visibleToasts:5});var zq=t=>{let e=Mq(16),{children:o,config:n,dateFNSKey:r,fallbackLang:s,isNavOpen:i,languageCode:l,languageOptions:a,locale:c,permissions:u,serverFunction:d,switchLanguageServerAction:m,theme:f,translations:h,user:p}=t,g=Gq.useId(),b;return e[0]!==o||e[1]!==n||e[2]!==r||e[3]!==g||e[4]!==s||e[5]!==i||e[6]!==l||e[7]!==a||e[8]!==c||e[9]!==u||e[10]!==d||e[11]!==m||e[12]!==f||e[13]!==h||e[14]!==p?(b=fA(oR,{children:[Zt(jb,{serverFunction:d,children:Zt(Ag,{children:Zt(Gv,{cachingEnabled:process.env.NEXT_PUBLIC_ENABLE_ROUTER_CACHE_REFRESH==="true",children:Zt(ug,{config:n,children:Zt(iy,{children:Zt(cg,{dateFNSKey:r,fallbackLang:s,language:l,languageOptions:a,switchLanguageServerAction:m,translations:h,children:Zt(my,{breakpoints:{l:"(max-width: 1440px)",m:"(max-width: 1024px)",s:"(max-width: 768px)",xs:"(max-width: 400px)"},children:Zt(Zd,{children:Zt(fy,{children:Zt(s1,{classPrefix:"payload",transTime:0,zIndex:"var(--z-modal)",children:fA(u1,{permissions:u,user:p,children:[Zt(f1,{children:Zt(mg,{theme:f,children:Zt(dy,{children:Zt(p1,{locale:c,children:Zt(E0,{children:Zt(W_,{children:Zt(Vv,{children:Zt(MF,{initialIsOpen:i,children:Zt(Tv,{children:Zt(Oq,{collisionDetection:Vq,id:g,children:o})})})})})})})})})}),Zt(o1,{}),Zt(_w,{})]})})})})})})})})})})}),Zt(mA,{})]}),e[0]=o,e[1]=n,e[2]=r,e[3]=g,e[4]=s,e[5]=i,e[6]=l,e[7]=a,e[8]=c,e[9]=u,e[10]=d,e[11]=m,e[12]=f,e[13]=h,e[14]=p,e[15]=b):b=e[15],b};import{jsx as pA,jsxs as Wq}from"react/jsx-runtime";import{email as Hq,getFieldPermissions as Uq,username as Xq}from"payload/shared";import"react";var Zq="login-fields";function py(t){let{className:e,loginWithUsername:o,operation:n,permissions:r,readOnly:s,t:i}=t;function l(h,p){return Uq({field:{name:h,type:"text"},operation:n==="create"?"create":p,parentName:"",permissions:r}).operation}let a=typeof r=="object"&&"email"in r&&r.email,c=typeof r=="object"&&"username"in r&&r.username,u=a?{read:l("email","read"),update:l("email","update")}:{read:!0,update:!0},d=c?{read:l("username","read"),update:l("username","update")}:{read:!0,update:!0},m=(!o||o?.requireEmail||o?.allowEmailLogin)&&u.read,f=!!o&&d.read;if(m||f)return Wq("div",{className:[Zq,e&&e].filter(Boolean).join(" "),children:[m?pA(Wi,{field:{name:"email",admin:{autoComplete:"off"},label:i("general:email"),required:!o||o&&o.requireEmail},path:"email",readOnly:s||!u.update,schemaPath:"email",validate:Hq}):null,f&&pA(ta,{field:{name:"username",admin:{autoComplete:"off"},label:i("authentication:username"),required:o&&o.requireUsername},path:"username",readOnly:s||!d.update,schemaPath:"username",validate:Xq})]})}import{c as Yq}from"react/compiler-runtime";import{jsx as Jq}from"react/jsx-runtime";import"react";var hA="select-all",qq=()=>{let t=Yq(7),{selectAll:e,toggleAll:o}=wo(),{i18n:n}=N(),r;if(t[0]!==n||t[1]!==e||t[2]!==o){let s;t[4]===Symbol.for("react.memo_cache_sentinel")?(s=[hA,`${hA}__checkbox`],t[4]=s):s=t[4];let i;t[5]!==o?(i=()=>o(),t[5]=o,t[6]=i):i=t[6],r=Jq(Lo,{"aria-label":e===Xt.None?n.t("general:selectAllRows"):n.t("general:deselectAllRows"),checked:e===Xt.AllInPage||e===Xt.AllAvailable,className:s.join(" "),id:"select-all",name:"select-all",onToggle:i,partialChecked:e===Xt.Some}),t[0]=n,t[1]=e,t[2]=o,t[3]=r}else r=t[3];return r};import{c as Qq}from"react/compiler-runtime";import{jsx as gA}from"react/jsx-runtime";import"react";var bA="select-row",Kq=t=>{let e=Qq(14),{rowData:o}=t,{user:n}=Ie(),{selected:r,setSelection:s}=wo(),i;e[0]!==o?(i=o||{},e[0]=o,e[1]=i):i=e[1];let{_isLocked:l,_userEditing:a}=i;if(l&&a&&a.id!==n?.id){let p;return e[2]!==a?(p=gA(Fd,{user:a}),e[2]=a,e[3]=p):p=e[3],p}let u;e[4]!==o.id||e[5]!==r?(u=r.get(o.id),e[4]=o.id,e[5]=r,e[6]=u):u=e[6];let d=!!u,m;e[7]===Symbol.for("react.memo_cache_sentinel")?(m=[bA,`${bA}__checkbox`],e[7]=m):m=e[7];let f;e[8]!==o.id||e[9]!==s?(f=()=>s(o.id),e[8]=o.id,e[9]=s,e[10]=f):f=e[10];let h;return e[11]!==d||e[12]!==f?(h=gA(Lo,{checked:d,className:m.join(" "),onToggle:f}),e[11]=d,e[12]=f,e[13]=h):h=e[13],h};import{jsx as eQ}from"react/jsx-runtime";import"react";var nc=t=>{let{onClick:e}=t,{count:o,selected:n}=wo();return!n||!o?null:eQ(vt,{onClick:()=>{typeof e=="function"&&e(n)},pillStyle:"white",size:"small",children:`Select ${o}`})};import{jsx as oo,jsxs as Jd}from"react/jsx-runtime";import{getTranslation as qd}from"@payloadcms/translations";import{useRouter as rQ}from"next/navigation.js";import{formatAdminURL as nQ,formatFilesize as sQ}from"payload/shared";import CA,{Fragment as yA,useEffect as iQ}from"react";import{jsx as tQ}from"react/jsx-runtime";import"react";var oQ="sticky-toolbar",vA=({children:t})=>tQ("div",{className:oQ,children:t});var fi="collection-list";function aQ(t){let{AfterList:e,AfterListTable:o,beforeActions:n,BeforeList:r,BeforeListTable:s,collectionSlug:i,columnState:l,Description:a,disableBulkDelete:c,disableBulkEdit:u,disableQueryPresets:d,enableRowSelections:m,hasCreatePermission:f,hasDeletePermission:h,listMenuItems:p,newDocumentURL:g,queryPreset:b,queryPresetPermissions:C,renderedFilters:v,resolvedFilterOptions:y,Table:x,viewType:w}=t,[S]=an(x),{allowCreate:T,createNewDrawerSlug:I,isInDrawer:R,onBulkSelect:F}=Ir(),_=T!==void 0?T&&f:f,{user:D}=Ie(),{config:{routes:{admin:A}},getEntityConfig:L}=W(),E=rQ(),{data:k,isGroupingBy:B}=st(),{openModal:$}=ae(),{drawerSlug:P,setCollectionSlug:M,setOnSuccess:j}=Qo(),O=L({collectionSlug:i}),{labels:G,upload:V}=O,z=!!V,X=z&&O.upload.bulkUpload,Q=!!O.trash,{i18n:U}=N(),{setStepNav:ee}=Pr(),{breakpoints:{s:J}}=ya(),re=CA.useMemo(()=>z?k.docs.map(le=>({...le,filesize:sQ(le.filesize)})):k?.docs,[k?.docs,z]),ie=CA.useCallback(()=>{M(i),$(P),j(()=>E.refresh())},[E,i,P,$,M,j]);return iQ(()=>{if(!R){let le={label:qd(G?.plural,U),url:Q&&w==="trash"?nQ({adminRoute:A,path:`/collections/${i}`}):void 0},Z={label:U.t("general:trash")};ee(Q&&w==="trash"?[le,Z]:[le])}},[A,ee,G,R,Q,w,U,i]),Jd(yA,{children:[oo(hu,{collectionSlug:i,columnState:l,children:oo("div",{className:`${fi} ${fi}--${i}`,children:Jd(j0,{docs:re,totalDocs:k?.totalDocs,children:[r,Jd(_o,{className:`${fi}__wrap`,children:[oo(LC,{collectionConfig:O,Description:oo("div",{className:`${fi}__sub-header`,children:oo(ue,{CustomComponent:a,Fallback:oo(C0,{collectionSlug:i,description:O?.admin?.description})})}),disableBulkDelete:c,disableBulkEdit:u,hasCreatePermission:_,hasDeletePermission:h,i18n:U,isBulkUploadEnabled:X&&!V.hideFileInputOnCreate,isTrashEnabled:Q,newDocumentURL:g,openBulkUpload:ie,smallBreak:J,viewType:w}),oo(CC,{beforeActions:m&&typeof F=="function"?n?[...n,oo(nc,{onClick:F},"select-many")]:[oo(nc,{onClick:F},"select-many")]:n,collectionConfig:O,collectionSlug:i,disableQueryPresets:O?.enableQueryPresets!==!0||d,listMenuItems:p,queryPreset:b,queryPresetPermissions:C,renderedFilters:v,resolvedFilterOptions:y}),s,re?.length>0&&oo("div",{className:`${fi}__tables`,children:oo(vu,{children:S})}),re?.length===0&&Jd("div",{className:`${fi}__no-results`,children:[oo("p",{children:U.t(w==="trash"?"general:noTrashResults":"general:noResults",{label:qd(G?.plural,U)})}),_&&g&&w!=="trash"&&oo(yA,{children:R?oo(oe,{el:"button",onClick:()=>$(I),children:U.t("general:createNewLabel",{label:qd(G?.singular,U)})}):oo(oe,{el:"link",to:g,children:U.t("general:createNewLabel",{label:qd(G?.singular,U)})})})]}),o,re?.length>0&&!B&&oo(MC,{AfterPageControls:J?Jd("div",{className:`${fi}__list-selection`,children:[oo(va,{collectionConfig:O,disableBulkDelete:c,disableBulkEdit:u,label:qd(O.labels.plural,U),showSelectAllAcrossPages:!B}),oo("div",{className:`${fi}__list-selection-actions`,children:m&&typeof F=="function"?n?[...n,oo(nc,{onClick:F},"select-many")]:[oo(nc,{onClick:F},"select-many")]:n})]}):null,collectionConfig:O})]}),e]})})}),re?.length>0&&B&&k.totalPages>1&&oo(vA,{children:oo(MC,{collectionConfig:O})})]})}import{c as EA}from"react/compiler-runtime";import{jsx as ro,jsxs as sc}from"react/jsx-runtime";import{useDndMonitor as IQ}from"@dnd-kit/core";import{getTranslation as ic}from"@payloadcms/translations";import{useRouter as _Q}from"next/navigation.js";import{formatAdminURL as AA}from"payload/shared";import DQ,{Fragment as PA}from"react";import{jsx as Un,jsxs as xA,Fragment as lQ}from"react/jsx-runtime";import{getTranslation as wA}from"@payloadcms/translations";import{useRouter as cQ}from"next/navigation.js";import uQ from"react";var hy="move-to-folder--current-folder",SA="confirm-many-delete",dQ="current-folder-actions";function Hh({className:t}){let e=cQ(),{startRouteTransition:o}=qe(),{breadcrumbs:n,currentFolder:r,folderCollectionConfig:s,folderCollectionSlug:i,folderFieldName:l,folderID:a,getFolderRoute:c,moveToFolder:u}=Mt(),[d,,{closeDrawer:m,openDrawer:f}]=St({id:a,collectionSlug:i}),{clearRouteCache:h}=kt(),{config:p}=W(),{routes:g,serverURL:b}=p,{closeModal:C,openModal:v}=ae(),{i18n:y,t:x}=N(),w=uQ.useCallback(async()=>{await fetch(`${b}${g.api}/${i}/${a}?depth=0`,{credentials:"include",method:"DELETE"}),o(()=>{e.push(c(n[n.length-2]?.id||null))})},[n,i,a,c,e,b,g.api,o]);return a?xA(lQ,{children:[Un(lt,{button:Un(Sh,{}),className:[dQ,t].filter(Boolean).join(" "),render:()=>xA(ve.ButtonGroup,{children:[Un(ve.Button,{onClick:()=>{f()},children:x("general:editLabel",{label:wA(s.labels.singular,y)})}),Un(ve.Button,{onClick:()=>{v(hy)},children:x("folder:moveFolder")}),Un(ve.Button,{onClick:()=>{v(SA)},children:x("folder:deleteFolder")})]})}),Un(Pl,{action:"moveItemToFolder",drawerSlug:hy,folderAssignedCollections:r?.value.folderType,folderCollectionSlug:i,folderFieldName:l,fromFolderID:r?.value.id,fromFolderName:r?.value._folderOrDocumentTitle,itemsToMove:[r],onConfirm:async({id:S,name:T})=>{await u({itemsToMove:[r],toFolderID:S}),S?K.success(x("folder:itemHasBeenMoved",{folderName:`"${T}"`,title:r.value._folderOrDocumentTitle})):K.success(x("folder:itemHasBeenMovedToRoot",{title:r.value._folderOrDocumentTitle})),C(hy)},title:r.value._folderOrDocumentTitle}),Un(et,{body:Un(eo,{elements:{1:({children:S})=>Un("strong",{children:S})},i18nKey:"general:aboutToDelete",t:x,variables:{label:wA(s.labels.singular,y),title:r.value._folderOrDocumentTitle}}),confirmingLabel:x("general:deleting"),heading:x("general:confirmDeletion"),modalSlug:SA,onConfirm:w}),Un(d,{onSave:()=>{m(),h()}})]}):null}import{jsx as Uh,jsxs as mQ}from"react/jsx-runtime";import{DragOverlay as fQ}from"@dnd-kit/core";var gy="drag-overlay-selection";function Xh({item:t,selectedCount:e}){return Uh(fQ,{dropAnimation:null,modifiers:[pQ],style:{height:"unset",maxWidth:"220px"},children:mQ("div",{className:`${gy}__cards`,children:[Array.from({length:e>1?2:1}).map((o,n)=>Uh("div",{className:`${gy}__card`,style:{right:`${n*3}px`,top:`-${n*3}px`},children:Uh(XC,{id:null,isSelected:!0,itemKey:"overlay-card",title:t.value._folderOrDocumentTitle,type:"folder"})},n)),e>1?Uh("span",{className:`${gy}__card-count`,children:e}):null]})})}var pQ=({activatorEvent:t,draggingNodeRect:e,transform:o})=>{if(e&&t){let n=Vx(t);if(!n)return o;let r=n.x-e.left,s=n.y-e.top;return{...o,x:o.x+r+5,y:o.y+s+5}}return o};import{jsx as Nr,jsxs as Zh,Fragment as vy}from"react/jsx-runtime";import"react";var Qd="sort-by-pill",by=[{label:t=>t("general:name"),value:"name"},{label:t=>t("general:createdAt"),value:"createdAt"},{label:t=>t("general:updatedAt"),value:"updatedAt"}],IA=[{label:t=>Zh(vy,{children:[Nr(gd,{}),t("general:ascending")]}),value:"asc"},{label:t=>Zh(vy,{children:[Nr(hd,{}),t("general:descending")]}),value:"desc"}];function Yh(){let{refineFolderData:t,sort:e}=Mt(),{t:o}=N(),n=e.startsWith("-")?"desc":"asc",[r]=by.filter(({value:i})=>i===(e.startsWith("-")?e.slice(1):e))||by,[s]=IA.filter(({value:i})=>i===n);return Nr(lt,{button:Zh(vt,{className:`${Qd}__trigger`,icon:Nr(We,{}),size:"small",children:[n==="asc"?Nr(gd,{className:`${Qd}__sort-icon`}):Nr(hd,{className:`${Qd}__sort-icon`}),r?.label(o)]}),className:Qd,horizontalAlign:"right",render:({close:i})=>Zh(vy,{children:[Nr(ve.GroupLabel,{label:"Sort by"}),Nr(ve.ButtonGroup,{children:by.map(({label:l,value:a})=>Nr(ve.Button,{active:r?.value===a,onClick:()=>{t({query:{page:"1",sort:n==="desc"?`-${a}`:a},updateURL:!0}),i()},children:l(o)},a))}),Nr(ve.Divider,{}),Nr(ve.GroupLabel,{label:"Order"}),Nr(ve.ButtonGroup,{children:IA.map(({label:l,value:a})=>Nr(ve.Button,{active:s?.value===a,className:`${Qd}__order-option`,onClick:()=>{n!==a&&(t({query:{page:"1",sort:a==="desc"?`-${r?.value}`:r?.value},updateURL:!0}),i())},children:l(o)},a))})]}),showScrollbar:!0,verticalAlign:"bottom"})}import{jsx as Jh,jsxs as hQ,Fragment as gQ}from"react/jsx-runtime";var qh="folder-view-toggle-button";function Qh({activeView:t,setActiveView:e}){return hQ(gQ,{children:[Jh(oe,{buttonStyle:"pill",className:[qh,t==="grid"&&`${qh}--active`].filter(Boolean).join(" "),icon:Jh(ey,{}),margin:!1,onClick:()=>{e("grid")}}),Jh(oe,{buttonStyle:"pill",className:[qh,t==="list"&&`${qh}--active`].filter(Boolean).join(" "),icon:Jh(ty,{}),margin:!1,onClick:()=>{e("list")}})]})}import{jsx as Cy,jsxs as bQ}from"react/jsx-runtime";var _A="search-bar";function Kh({Actions:t,className:e,filterKey:o,label:n,onSearchChange:r,searchQueryParam:s}){return bQ("div",{className:[_A,e].filter(Boolean).join(" "),children:[Cy(Li,{}),Cy(kd,{handleChange:r,label:n,searchQueryParam:s},o||"search"),t&&t.length>0?Cy("div",{className:`${_A}__actions`,children:t}):null]})}import{c as yQ}from"react/compiler-runtime";import{jsx as Fs,jsxs as FA}from"react/jsx-runtime";import{extractID as RA}from"payload/shared";import xQ,{Fragment as wQ}from"react";import{jsx as DA,jsxs as vQ,Fragment as CQ}from"react/jsx-runtime";var TA=({id:t,folderCollectionSlug:e})=>{let{clearRouteCache:o}=kt(),{t:n}=N(),[r,,{closeDrawer:s,openDrawer:i}]=St({id:t,collectionSlug:e});return t?vQ(CQ,{children:[DA(Mo,{onClick:i,type:"button",children:n("general:edit")}),DA(r,{onSave:()=>{s(),o()}})]}):null};var eg="move-to-folder--list",tg=t=>{let e=yQ(17),{disableBulkDelete:o,disableBulkEdit:n,folderAssignedCollections:r}=t,{clearSelections:s,currentFolder:i,folderCollectionSlug:l,folderFieldName:a,folderID:c,getSelectedItems:u,moveToFolder:d}=Mt(),{clearRouteCache:m}=kt(),{config:f}=W(),{t:h}=N(),{closeModal:p,openModal:g}=ae(),b,C;if(e[0]!==m||e[1]!==s||e[2]!==p||e[3]!==f||e[4]!==i?.value?._folderOrDocumentTitle||e[5]!==o||e[6]!==n||e[7]!==r||e[8]!==l||e[9]!==a||e[10]!==c||e[11]!==u||e[12]!==d||e[13]!==g||e[14]!==h){C=Symbol.for("react.early_return_sentinel");e:{let v=u(),y=v.reduce(SQ,{}),x=v.length,w=Object.keys(y).length===1&&Object.keys(y)[0]!==l,S=w?f.collections.find(I=>I.slug===Object.keys(y)[0]):null;if(x===0){C=null;break e}let T=w?y[Object.keys(y)[0]]?.ids||[]:[];b=Fs(gh,{count:x,ListActions:[x>0&&Fs(Mo,{onClick:()=>s(),children:h("general:clearAll")},"clear-all")].filter(Boolean),SelectionActions:[!n&&T.length&&FA(wQ,{children:[Fs(Ed,{collection:S,count:x,ids:T,selectAll:!1}),Fs(Od,{collection:S,count:x,ids:T,selectAll:!1}),Fs(Vd,{collection:S,count:x,ids:T,selectAll:!1})]},"bulk-actions"),x===1&&!w&&Fs(TA,{folderCollectionSlug:l,id:y[l].ids[0]},"edit-folder-action"),x>0?FA(xQ.Fragment,{children:[Fs(Mo,{onClick:()=>{g(eg)},type:"button",children:h("general:move")}),Fs(Pl,{action:"moveItemsToFolder",drawerSlug:eg,folderAssignedCollections:r,folderCollectionSlug:l,folderFieldName:a,fromFolderID:c,fromFolderName:i?.value?._folderOrDocumentTitle,itemsToMove:u(),onConfirm:async I=>{let{id:R,name:F}=I;await d({itemsToMove:u(),toFolderID:R}),R?K.success(h("folder:itemsMovedToFolder",{folderName:`"${F}"`,title:`${x} ${x>1?h("general:items"):h("general:item")}`})):K.success(h("folder:itemsMovedToRoot",{title:`${x} ${x>1?h("general:items"):h("general:item")}`})),m(),p(eg)}})]},eg):null,!o&&Fs(V0,{afterDelete:()=>{m(),s()},selections:y},"bulk-delete")].filter(Boolean)})}e[0]=m,e[1]=s,e[2]=p,e[3]=f,e[4]=i?.value?._folderOrDocumentTitle,e[5]=o,e[6]=n,e[7]=r,e[8]=l,e[9]=a,e[10]=c,e[11]=u,e[12]=d,e[13]=g,e[14]=h,e[15]=b,e[16]=C}else b=e[15],C=e[16];return C!==Symbol.for("react.early_return_sentinel")?C:b};function SQ(t,e){return e&&(t[e.relationTo]?(t[e.relationTo].ids.push(RA(e.value)),t[e.relationTo].totalCount=t[e.relationTo].totalCount+1):t[e.relationTo]={ids:[RA(e.value)],totalCount:1}),t}var xa="collection-folder-list";function TQ({allCollectionFolderSlugs:t,allowCreateCollectionSlugs:e,baseFolderPath:o,breadcrumbs:n,documents:r,folderFieldName:s,folderID:i,FolderResultsComponent:l,search:a,sort:c,subfolders:u,...d}){return ro(ra,{allCollectionFolderSlugs:t,allowCreateCollectionSlugs:e,baseFolderPath:o,breadcrumbs:n,documents:r,folderFieldName:s,folderID:i,FolderResultsComponent:l,search:a,sort:c,subfolders:u,children:ro(FQ,{...d})})}function FQ(t){let e=EA(20),{AfterFolderList:o,AfterFolderListTable:n,BeforeFolderList:r,BeforeFolderListTable:s,collectionSlug:i,Description:l,disableBulkDelete:a,disableBulkEdit:c,search:u,viewPreference:d}=t,{config:m,getEntityConfig:f}=W(),{i18n:h,t:p}=N(),g=ct(),{setStepNav:b}=Pr(),{setPreference:C}=ao(),{allowCreateCollectionSlugs:v,breadcrumbs:y,documents:x,dragOverlayItem:w,folderCollectionConfig:S,folderCollectionSlug:T,FolderResultsComponent:I,folderType:R,getSelectedItems:F,moveToFolder:_,refineFolderData:D,selectedItemKeys:A,setIsDragging:L,subfolders:E}=Mt(),k=_Q(),{startRouteTransition:B}=qe(),{clearRouteCache:$}=kt(),P=f({collectionSlug:i}),{labels:M,upload:j}=P,G=!!j&&P.upload.bulkUpload,{breakpoints:V}=ya(),{s:z}=V,X;e[0]!==$||e[1]!==F||e[2]!==_?(X=async Z=>{if(Z.over&&Z.over.data.current.type==="folder"&&"id"in Z.over.data.current){try{await _({itemsToMove:F(),toFolderID:Z.over.data.current.id})}catch(pe){console.error("Error moving items:",pe)}$()}},e[0]=$,e[1]=F,e[2]=_,e[3]=X):X=e[3];let Q=X,U=async Z=>{await C(`${i}-collection-folder`,{viewPreference:Z}),$()},ee=M?.plural,J;e[4]!==y||e[5]!==i||e[6]!==m.folders||e[7]!==m.routes.admin||e[8]!==g||e[9]!==h||e[10]!==k||e[11]!==b||e[12]!==B||e[13]!==ee?(J=[y,i,m.folders,m.routes.admin,g,h,ee,k,b,B],e[4]=y,e[5]=i,e[6]=m.folders,e[7]=m.routes.admin,e[8]=g,e[9]=h,e[10]=k,e[11]=b,e[12]=B,e[13]=ee,e[14]=J):J=e[14],DQ.useEffect(()=>{g||b([y.length?{label:sc(sa,{className:[`${xa}__step-nav-droppable`,`${xa}__step-nav-icon-label`].filter(Boolean).join(" "),id:null,onClick:()=>{B(()=>{m.folders&&k.push(AA({adminRoute:m.routes.admin,path:`/collections/${i}/${m.folders.slug}`}))})},children:[ro(ur,{}),ic(M?.plural,h)]},"root")}:{label:sc("div",{className:`${xa}__step-nav-icon-label`,children:[ro(ur,{}),ic(M?.plural,h)]},"root")},...y.map((Z,pe)=>({label:pe===y.length-1?Z.name:ro(sa,{className:`${xa}__step-nav-droppable`,id:Z.id,onClick:()=>{B(()=>{m.folders&&k.push(AA({adminRoute:m.routes.admin,path:`/collections/${i}/${m.folders.slug}/${Z.id}`}))})},children:Z.name},Z.id)}))])},J);let re=x.length+E.length,ie;e[15]!==D?(ie=Z=>D({query:{search:Z},updateURL:!0}),e[15]=D,e[16]=ie):ie=e[16];let le;return e[17]!==w||e[18]!==A.size?(le=A.size>0&&w&&ro(Xh,{item:w,selectedCount:A.size}),e[17]=w,e[18]=A.size,e[19]=le):le=e[19],sc(PA,{children:[ro(RQ,{onDragEnd:Q,setIsDragging:L}),sc("div",{className:`${xa} ${xa}--${i}`,children:[r,sc(_o,{className:`${xa}__wrap`,children:[ro(Ca,{Actions:[!z&&ro(tg,{disableBulkDelete:a,disableBulkEdit:P.disableBulkEdit??c,folderAssignedCollections:Array.isArray(R)?R:[i]},"list-selection"),m.folders&&P.folders&&sc(PA,{children:[ro($h,{collectionConfig:P,viewType:"folders"},"list-header-default-button"),ro(Lh,{collectionConfig:P,folderCollectionSlug:T,viewType:"folders"},"list-header-by-folder-button")]},"list-header-folder-view-buttons"),P.trash&&ro(kh,{collectionConfig:P,viewType:"folders"},"list-header-trash-button")].filter(Boolean),AfterListHeaderContent:l,title:ic(M?.plural,h),TitleActions:[v.length&&ro(yn,{buttonLabel:p("general:createNew"),collectionSlugs:v,folderAssignedCollections:Array.isArray(R)?R:[i],onCreateSuccess:$,slugPrefix:"create-document--header-pill"},"create-new-button"),ro(Gd,{collectionSlug:i,hasCreatePermission:v.includes(i),isBulkUploadEnabled:G},"bulk-upload-button")].filter(Boolean)}),ro(Kh,{Actions:[ro(Yh,{},"sort-by-pill"),ro(Qh,{activeView:d,setActiveView:U},"toggle-view-buttons"),ro(Hh,{},"current-folder-actions")].filter(Boolean),label:p("general:searchBy",{label:p("general:name")}),onSearchChange:ie,searchQueryParam:u}),s,re>0&&I,re===0&&ro(Al,{Actions:[v.includes(T)&&ro(yn,{buttonLabel:`${p("general:create")} ${ic(S.labels?.singular,h).toLowerCase()}`,collectionSlugs:[S.slug],folderAssignedCollections:Array.isArray(R)?R:[i],onCreateSuccess:$,slugPrefix:"create-folder--no-results"},"create-folder"),v.includes(i)&&ro(yn,{buttonLabel:`${p("general:create")} ${p("general:document").toLowerCase()}`,collectionSlugs:[i],folderAssignedCollections:Array.isArray(R)?R:[i],onCreateSuccess:$,slugPrefix:"create-document--no-results"},"create-document")].filter(Boolean),Message:ro("p",{children:h.t("general:noResults",{label:`${ic(M?.plural,h)} ${p("general:or").toLowerCase()} ${ic(S.labels?.plural,h)}`})})}),n]}),o]}),le]})}function RQ(t){let e=EA(3),{onDragEnd:o,setIsDragging:n}=t,r;return e[0]!==o||e[1]!==n?(r={onDragCancel(){n(!1)},onDragEnd(s){n(!1),o(s)},onDragStart(){n(!0)}},e[0]=o,e[1]=n,e[2]=r):r=e[2],IQ(r),null}import{c as BA}from"react/compiler-runtime";import{jsx as jt,jsxs as ac,Fragment as xy}from"react/jsx-runtime";import{useDndMonitor as LQ}from"@dnd-kit/core";import{getTranslation as Kd}from"@payloadcms/translations";import{useRouter as $Q}from"next/navigation.js";import wy,{Fragment as kQ}from"react";import{c as AQ}from"react/compiler-runtime";import{jsx as $A,jsxs as PQ}from"react/jsx-runtime";import{getTranslation as kA}from"@payloadcms/translations";import EQ from"react";import{jsx as yy}from"react/jsx-runtime";var NA="checkbox-popup";function LA({Button:t,className:e,onChange:o,options:n,selectedValues:r,...s}){return yy(lt,{button:t,className:[NA,e].filter(Boolean).join(" "),horizontalAlign:"right",render:({close:i})=>yy("div",{className:`${NA}__options`,children:n.map(({label:l,value:a})=>yy(Lo,{checked:r?.includes(a),label:l,onToggle:()=>{let c=r?.includes(a)?r.filter(u=>u!==a):[...r,a];o({close:i,selectedValues:c})}},a))}),showScrollbar:!0,verticalAlign:"bottom",...s})}var NQ="collection-type";function jA(){let t=AQ(13),{activeCollectionFolderSlugs:e,allCollectionFolderSlugs:o,folderCollectionSlug:n,refineFolderData:r}=Mt(),{i18n:s,t:i}=N(),{config:l,getEntityConfig:a}=W(),c;t[0]!==l||t[1]!==n||t[2]!==o||t[3]!==a||t[4]!==s?(c=()=>l.collections.reduce((m,f)=>(f.folders&&o.includes(f.slug)&&m.push({label:kA(f.labels?.plural,s),value:f.slug}),m),[{label:kA(a({collectionSlug:n}).labels?.plural,s),value:n}]),t[0]=l,t[1]=n,t[2]=o,t[3]=a,t[4]=s,t[5]=c):c=t[5];let[u]=EQ.useState(c),d;if(t[6]!==u||t[7]!==r||t[8]!==i||t[9]!==e){let m;t[11]!==r?(m=f=>{let{selectedValues:h}=f;r({query:{relationTo:h},updateURL:!0})},t[11]=r,t[12]=m):m=t[12],d=$A(LA,{Button:PQ(oe,{buttonStyle:"pill",el:"div",icon:"chevron",margin:!1,size:"small",children:[e.length?$A("span",{className:`${NQ}__count`,children:e.length}):null,i("version:type")]}),onChange:m,options:u,selectedValues:e},"relation-to-selection-popup"),t[6]=u,t[7]=r,t[8]=i,t[9]=e,t[10]=d}else d=t[10];return d}var wa="folder-list";function jQ({activeCollectionFolderSlugs:t,allCollectionFolderSlugs:e,allowCreateCollectionSlugs:o,baseFolderPath:n,breadcrumbs:r,documents:s,folderFieldName:i,folderID:l,FolderResultsComponent:a,search:c,subfolders:u,...d}){return jt(ra,{activeCollectionFolderSlugs:t,allCollectionFolderSlugs:e,allowCreateCollectionSlugs:o,baseFolderPath:n,breadcrumbs:r,documents:s,folderFieldName:i,folderID:l,FolderResultsComponent:a,search:c,subfolders:u,children:jt(BQ,{...d})})}function BQ(t){let e=BA(30),{AfterFolderList:o,AfterFolderListTable:n,BeforeFolderList:r,BeforeFolderListTable:s,Description:i,disableBulkDelete:l,disableBulkEdit:a,folderAssignedCollections:c,viewPreference:u}=t,d=$Q(),{getEntityConfig:m}=W(),{i18n:f,t:h}=N(),p=ct(),{setStepNav:g}=Pr(),{startRouteTransition:b}=qe(),{clearRouteCache:C}=kt(),{breakpoints:v}=ya(),{s:y}=v,{setPreference:x}=ao(),{activeCollectionFolderSlugs:w,allowCreateCollectionSlugs:S,breadcrumbs:T,documents:I,dragOverlayItem:R,folderCollectionConfig:F,folderID:_,folderType:D,getFolderRoute:A,getSelectedItems:L,moveToFolder:E,refineFolderData:k,search:B,selectedItemKeys:$,setIsDragging:P,subfolders:M}=Mt(),[j,O]=wy.useState(u||"grid"),G;e[0]!==T||e[1]!==F||e[2]!==f||e[3]!==h?(G=()=>{let ge=T.length===0?Kd(F.labels?.plural,f):T[T.length-1].name;return h("folder:searchByNameInFolder",{folderName:ge})},e[0]=T,e[1]=F,e[2]=f,e[3]=h,e[4]=G):G=e[4];let[V]=wy.useState(G),z;e[5]!==C||e[6]!==L||e[7]!==E?(z=async ge=>{ge.over&&ge.over.data.current.type==="folder"&&"id"in ge.over.data.current&&(await E({itemsToMove:L(),toFolderID:ge.over.data.current.id||null}),C())},e[5]=C,e[6]=L,e[7]=E,e[8]=z):z=e[8];let X=z,Q=I.length+M.length,U;e[9]!==T||e[10]!==h?(U=T.length?T[T.length-1].name:h("folder:browseByFolder"),e[9]=T,e[10]=h,e[11]=U):U=e[11];let ee=U,J;e[12]!==m||e[13]!==f||e[14]!==h?(J=(ge,Te,Y,de)=>{let H=m({collectionSlug:Te});return Y===0?Kd(H.labels?.plural,f):Y===de.length-1?`${ge} ${h("general:or").toLowerCase()} ${Kd(H.labels?.plural,f)}`:`${ge}, ${Kd(H.labels?.plural,f)}`},e[12]=m,e[13]=f,e[14]=h,e[15]=J):J=e[15];let re=w.reduce(J,""),ie=ge=>{x("browse-by-folder",{viewPreference:ge}),O(ge)},le,Z;e[16]!==T||e[17]!==p||e[18]!==A||e[19]!==d||e[20]!==g||e[21]!==b||e[22]!==h?(le=()=>{p||g([T.length?{label:ac(sa,{className:[`${wa}__step-nav-droppable`,`${wa}__step-nav-icon-label`].filter(Boolean).join(" "),id:null,onClick:()=>{b(()=>{d.push(A(null))})},children:[jt(ur,{}),h("folder:browseByFolder")]},"root")}:{label:ac("div",{className:`${wa}__step-nav-icon-label`,children:[jt(ur,{}),h("folder:browseByFolder")]},"root")},...T.map((ge,Te)=>({label:Te===T.length-1?ge.name:jt(sa,{className:`${wa}__step-nav-droppable`,id:ge.id,onClick:()=>{b(()=>{d.push(A(ge.id))})},children:ge.name},ge.id)}))])},Z=[T,p,A,d,g,b,h],e[16]=T,e[17]=p,e[18]=A,e[19]=d,e[20]=g,e[21]=b,e[22]=h,e[23]=le,e[24]=Z):(le=e[23],Z=e[24]),wy.useEffect(le,Z);let pe=S.filter(ge=>ge!==F.slug),be;e[25]!==k?(be=ge=>k({query:{search:ge},updateURL:!0}),e[25]=k,e[26]=be):be=e[26];let Ae;return e[27]!==R||e[28]!==$.size?(Ae=$.size>0&&R&&jt(Xh,{item:R,selectedCount:$.size}),e[27]=R,e[28]=$.size,e[29]=Ae):Ae=e[29],ac(kQ,{children:[jt(MQ,{onDragEnd:X,setIsDragging:P}),ac("div",{className:`${wa} ${wa}--folders`,children:[r,ac(_o,{className:`${wa}__wrap`,children:[jt(Ca,{Actions:[!y&&jt(tg,{disableBulkDelete:l,disableBulkEdit:a,folderAssignedCollections:c},"list-selection")].filter(Boolean),AfterListHeaderContent:i,title:ee,TitleActions:[S.length&&jt(yn,{buttonLabel:h("general:createNew"),collectionSlugs:S,folderAssignedCollections:Array.isArray(D)?D:[],onCreateSuccess:C,slugPrefix:"create-document--header-pill"},"create-new-button")].filter(Boolean)}),jt(Kh,{Actions:[jt(Yh,{},"sort-by-pill"),_&&jt(jA,{},"collection-type"),jt(Qh,{activeView:j,setActiveView:ie},"toggle-view-buttons"),jt(Hh,{},"current-folder-actions")].filter(Boolean),label:V,onSearchChange:be,searchQueryParam:B}),s,Q>0&&jt(xy,{children:j==="grid"?ac("div",{children:[M.length?jt(xy,{children:jt(Oh,{items:M,title:"Folders",type:"folder"})}):null,I.length?jt(xy,{children:jt(Oh,{items:I,subfolderCount:M.length,title:"Documents",type:"file"})}):null]}):jt(WC,{})}),Q===0&&jt(Al,{Actions:[S.includes(F.slug)&&jt(yn,{buttonLabel:`${h("general:create")} ${Kd(F.labels?.singular,f).toLowerCase()}`,collectionSlugs:[F.slug],folderAssignedCollections:Array.isArray(D)?D:[],onCreateSuccess:C,slugPrefix:"create-folder--no-results"},"create-folder"),_&&pe.length>0&&jt(yn,{buttonLabel:`${h("general:create")} ${h("general:document").toLowerCase()}`,collectionSlugs:pe,folderAssignedCollections:Array.isArray(D)?D:[],onCreateSuccess:C,slugPrefix:"create-document--no-results"},"create-document")].filter(Boolean),Message:jt("p",{children:f.t("general:noResults",{label:re})})}),n]}),o]}),Ae]})}function MQ(t){let e=BA(3),{onDragEnd:o,setIsDragging:n}=t,r;return e[0]!==o||e[1]!==n?(r={onDragCancel(){n(!1)},onDragEnd(s){n(!1),o(s)},onDragStart(){n(!0)}},e[0]=o,e[1]=n,e[2]=r):r=e[2],LQ(r),null}import{jsx as or,jsxs as ag}from"react/jsx-runtime";import{useRouter as DK,useSearchParams as TK}from"next/navigation.js";import{formatAdminURL as FK}from"payload/shared";import tP,{Fragment as RK,useCallback as rm,useEffect as oP,useMemo as AK,useRef as rP,useState as lg}from"react";import{c as OA}from"react/compiler-runtime";import{jsx as lc,jsxs as MA}from"react/jsx-runtime";var VA=t=>{let e=OA(10),{drawerSlug:o,showDocumentID:n}=t,r=n===void 0?!0:n,{closeModal:s}=ae(),{t:i}=N(),l;if(e[0]!==s||e[1]!==o||e[2]!==r||e[3]!==i){let a;e[5]!==s||e[6]!==o?(a=()=>s(o),e[5]=s,e[6]=o,e[7]=a):a=e[7];let c;e[8]!==r?(c=r&&lc(OQ,{}),e[8]=r,e[9]=c):c=e[9],l=MA(_o,{className:`${Zs}__header`,children:[MA("div",{className:`${Zs}__header-content`,children:[lc("h2",{className:`${Zs}__header-text`,children:lc(qC,{element:"span"})}),lc("button",{"aria-label":i("general:close"),className:`${Zs}__header-close`,onClick:a,type:"button",children:lc(bt,{})})]}),c]}),e[0]=s,e[1]=o,e[2]=r,e[3]=i,e[4]=l}else l=e[4];return l},OQ=()=>{let t=OA(3),{id:e}=De(),{title:o}=No(),n;return t[0]!==e||t[1]!==o?(n=e&&e!==o?lc(Vh,{id:e.toString()}):null,t[0]=e,t[1]=o,t[2]=n):n=t[2],n};import{c as oK}from"react/compiler-runtime";import{jsx as cc,jsxs as rK}from"react/jsx-runtime";import{reduceFieldsToValues as nK}from"payload/shared";import sK,{useEffect as XA}from"react";import{jsx as GA}from"react/jsx-runtime";import zA,{useEffect as VQ}from"react";var WA=t=>{let{children:e}=t,o=zA.useRef(null),n=zA.useRef(null),{breakpoint:r,setMeasuredDeviceSize:s,size:i,zoom:l}=Fo(),{size:a}=qp(o.current),{size:c}=qp(n.current),u=!1;VQ(()=>{a&&s(a)},[a,s]);let d="0",m="0";if(r&&r!=="responsive"&&(d="-50%",i&&a&&typeof l=="number"&&typeof i.width=="number"&&typeof i.height=="number"&&typeof a.width=="number"&&typeof a.height=="number")){m="0 auto";let p=i.width/l,g=a.width*l,b=p-i.width;if(u=g>c.width,u)if(l>1){let C=a.width-c.width;C<0?d=`${C/2}px`:d="0"}else d="0";else l>=1?d=`${b/2}px`:(d=`${(c.width-g)/2}px`,m="0")}let f=l?`${100/l}%`:"100%",h=l?`${100/l}%`:"100%";return r!=="responsive"&&(f=`${i?.width/(typeof l=="number"?l:1)}px`,h=`${i?.height/(typeof l=="number"?l:1)}px`),GA("div",{ref:n,style:{height:"100%",width:"100%"},children:GA("div",{ref:o,style:{height:h,margin:m,transform:`translate3d(${d}, 0, 0)`,width:f},children:e})})};import{jsx as GQ}from"react/jsx-runtime";import"react";var zQ="live-preview-iframe",HA=t=>{let{ref:e,setIframeHasLoaded:o,url:n}=t,{zoom:r}=Fo();return GQ("iframe",{className:zQ,onLoad:()=>{o(!0)},ref:e,src:n,style:{transform:typeof r=="number"?`scale(${r}) `:void 0},title:n})};import{c as qQ}from"react/compiler-runtime";import{jsx as Ia,jsxs as QQ}from"react/jsx-runtime";import{useDraggable as KQ}from"@dnd-kit/core";import"react";import{c as YQ}from"react/compiler-runtime";import{jsx as Xo,jsxs as Sa}from"react/jsx-runtime";import og from"react";import{c as WQ}from"react/compiler-runtime";import{jsx as HQ}from"react/jsx-runtime";import UQ,{useEffect as XQ}from"react";var ZQ="toolbar-input",Sy=t=>{let e=WQ(18),{axis:o}=t,{breakpoint:n,measuredDeviceSize:r,setBreakpoint:s,setSize:i,size:l,zoom:a}=Fo(),[c,u]=UQ.useState((o==="x"?r?.width:r?.height)||0),d;e[0]!==o||e[1]!==r?.height||e[2]!==r?.width||e[3]!==s||e[4]!==i||e[5]!==a?(d=C=>{let v=Number(C.target.value);v<0&&(v=0),u(v),s("custom"),i({type:"reset",value:{height:o==="y"?v:Number(r?.height.toFixed(0))*a,width:o==="x"?v:Number(r?.width.toFixed(0))*a}})},e[0]=o,e[1]=r?.height,e[2]=r?.width,e[3]=s,e[4]=i,e[5]=a,e[6]=d):d=e[6];let m=d,f,h;e[7]!==o||e[8]!==n||e[9]!==r||e[10]!==l||e[11]!==a?(f=()=>{n==="responsive"&&r&&u(o==="x"?Number(r.width.toFixed(0))*a:Number(r.height.toFixed(0))*a),n!=="responsive"&&l&&u(o==="x"?l.width:l.height)},h=[n,o,r,l,a],e[7]=o,e[8]=n,e[9]=r,e[10]=l,e[11]=a,e[12]=f,e[13]=h):(f=e[12],h=e[13]),XQ(f,h);let p=o==="x"?"live-preview-width":"live-preview-height",g=c||0,b;return e[14]!==m||e[15]!==p||e[16]!==g?(b=HQ("input",{className:ZQ,min:0,name:p,onChange:m,step:1,type:"number",value:g}),e[14]=m,e[15]=p,e[16]=g,e[17]=b):b=e[17],b};var pi="live-preview-toolbar-controls",JQ=[50,75,100,125,150,200],Iy=()=>{let t=YQ(14),{breakpoint:e,breakpoints:o,setBreakpoint:n,setPreviewWindowType:r,setZoom:s,url:i,zoom:l}=Fo(),{t:a}=N(),c;if(t[0]!==e||t[1]!==o||t[2]!==n||t[3]!==r||t[4]!==s||t[5]!==a||t[6]!==i||t[7]!==l){let u={label:a("general:custom"),value:"custom"},d;t[9]!==s||t[10]!==l?(d=f=>{let{close:h}=f;return Xo(ve.ButtonGroup,{children:Xo(og.Fragment,{children:JQ.map(p=>Sa(ve.Button,{active:l*100==p,onClick:()=>{s(p/100),h()},children:[p,"%"]},p))})})},t[9]=s,t[10]=l,t[11]=d):d=t[11];let m;t[12]!==r?(m=f=>{f.preventDefault(),r("popup")},t[12]=r,t[13]=m):m=t[13],c=Sa("div",{className:pi,children:[o?.length>0&&Xo(lt,{button:Sa(og.Fragment,{children:[Xo("span",{children:o.find(f=>f.name==e)?.label??u.label}),Xo(We,{className:`${pi}__chevron`})]}),className:`${pi}__breakpoint`,horizontalAlign:"right",render:f=>{let{close:h}=f;return Xo(ve.ButtonGroup,{children:Sa(og.Fragment,{children:[o.map(p=>Xo(ve.Button,{active:p.name==e,onClick:()=>{n(p.name),h()},children:p.label},p.name)),e==="custom"&&Xo(ve.Button,{active:e==u.value,onClick:()=>{n(u.value),h()},children:u.label})]})})},showScrollbar:!0,verticalAlign:"bottom"}),Sa("div",{className:`${pi}__device-size`,children:[Xo(Sy,{axis:"x"}),Xo("span",{className:`${pi}__size-divider`,children:Xo(bt,{})}),Xo(Sy,{axis:"y"})]}),Xo(lt,{button:Sa(og.Fragment,{children:[Sa("span",{children:[l*100,"%"]}),Xo(We,{className:`${pi}__chevron`})]}),className:`${pi}__zoom`,horizontalAlign:"right",render:d,showScrollbar:!0,verticalAlign:"bottom"}),Xo("a",{className:`${pi}__external`,href:i,onClick:m,target:"_blank",title:"Open in new window",type:"button",children:Xo(Rd,{})})]}),t[0]=e,t[1]=o,t[2]=n,t[3]=r,t[4]=s,t[5]=a,t[6]=i,t[7]=l,t[8]=c}else c=t[8];return c};var em="live-preview-toolbar",eK=t=>{let e=qQ(10),{toolbarPosition:o}=Fo(),n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={id:"live-preview-toolbar"},e[0]=n):n=e[0];let{attributes:r,listeners:s,setNodeRef:i,transform:l}=KQ(n),a;e[1]===Symbol.for("react.memo_cache_sentinel")?(a=[em,`${em}--draggable`],e[1]=a):a=e[1];let c=`${o.x}px`,u=`${o.y}px`,d;return e[2]!==r||e[3]!==s||e[4]!==t||e[5]!==i||e[6]!==c||e[7]!==u||e[8]!==l?(d=QQ("div",{className:a.join(" "),style:{left:c,top:u,...l?{transform:l?`translate3d(${l?.x||0}px, ${l?.y||0}px, 0)`:void 0}:{}},children:[Ia("button",{...s,...r,className:`${em}__drag-handle`,ref:i,type:"button",children:Ia(cn,{})}),Ia(Iy,{...t})]}),e[2]=r,e[3]=s,e[4]=t,e[5]=i,e[6]=c,e[7]=u,e[8]=l,e[9]=d):d=e[9],d},tK=t=>Ia("div",{className:[em,`${em}--static`].join(" "),children:Ia(Iy,{...t})}),UA=t=>{let{draggable:e}=t;return e?Ia(eK,{...t}):Ia(tK,{...t})};var tm="live-preview-window",ZA=t=>{let e=oK(46),{appIsReady:o,breakpoint:n,fieldSchemaJSON:r,iframeHasLoaded:s,iframeRef:i,isLivePreviewing:l,popupRef:a,previewWindowType:c,setIframeHasLoaded:u,url:d}=Fo(),m=xe(),{mostRecentUpdate:f}=ps(),h=sK.useRef(void 0),[p]=Ls(),g;e[0]!==o||e[1]!==r||e[2]!==p||e[3]!==i||e[4]!==l||e[5]!==m||e[6]!==f||e[7]!==a||e[8]!==c||e[9]!==d?(g=()=>{if(l&&p&&window&&"postMessage"in window&&o){let y=nK(p,!0),x=!h.current||h.current!==c;h.current=c;let w={type:"payload-live-preview",data:y,externallyUpdatedRelationship:f,fieldSchemaJSON:x?r:void 0,locale:m.code};c==="popup"&&a.current&&a.current.postMessage(w,d),c==="iframe"&&i.current&&i.current.contentWindow?.postMessage(w,d)}},e[0]=o,e[1]=r,e[2]=p,e[3]=i,e[4]=l,e[5]=m,e[6]=f,e[7]=a,e[8]=c,e[9]=d,e[10]=g):g=e[10];let b;e[11]!==o||e[12]!==r||e[13]!==p||e[14]!==s||e[15]!==i||e[16]!==l||e[17]!==m||e[18]!==f||e[19]!==a||e[20]!==c||e[21]!==u||e[22]!==d?(b=[p,d,s,c,a,o,i,u,r,f,m,l],e[11]=o,e[12]=r,e[13]=p,e[14]=s,e[15]=i,e[16]=l,e[17]=m,e[18]=f,e[19]=a,e[20]=c,e[21]=u,e[22]=d,e[23]=b):b=e[23],XA(g,b);let C;e[24]!==i||e[25]!==l||e[26]!==a||e[27]!==c||e[28]!==d?(C=()=>{if(!l)return;let y={type:"payload-document-event"};c==="popup"&&a.current&&a.current.postMessage(y,d),c==="iframe"&&i.current&&i.current.contentWindow?.postMessage(y,d)},e[24]=i,e[25]=l,e[26]=a,e[27]=c,e[28]=d,e[29]=C):C=e[29];let v;if(e[30]!==i||e[31]!==l||e[32]!==f||e[33]!==a||e[34]!==c||e[35]!==d?(v=[f,i,a,c,d,l],e[30]=i,e[31]=l,e[32]=f,e[33]=a,e[34]=c,e[35]=d,e[36]=v):v=e[36],XA(C,v),c==="iframe"){let y=l&&`${tm}--is-live-previewing`,x=n&&n!=="responsive"&&`${tm}--has-breakpoint`,w;e[37]!==y||e[38]!==x?(w=[tm,y,x].filter(Boolean),e[37]=y,e[38]=x,e[39]=w):w=e[39];let S=w.join(" "),T;return e[40]!==i||e[41]!==t||e[42]!==u||e[43]!==S||e[44]!==d?(T=cc("div",{className:S,children:rK("div",{className:`${tm}__wrapper`,children:[cc(UA,{...t}),cc("div",{className:`${tm}__main`,children:cc(WA,{children:d?cc(HA,{ref:i,setIframeHasLoaded:u,url:d}):cc(Ft,{height:"100%"})})})]})}),e[40]=i,e[41]=t,e[42]=u,e[43]=S,e[44]=d,e[45]=T):T=e[45],T}};import{formatAdminURL as iK}from"payload/shared";var YA=({adminRoute:t,router:e})=>{let o=iK({adminRoute:t,path:"/"});e.push(o)};import{formatAdminURL as aK}from"payload/shared";var JA=({adminRoute:t,collectionSlug:e,router:o})=>{let n=aK({adminRoute:t,path:e?`/collections/${e}`:"/"});o.push(n)};var _y=(t,e,o,n,r,s,i,l,a,c)=>{if(a)try{s(t,e??o,n),r||(l.current.hasShownLockedModal=!0),l.current={hasShownLockedModal:l.current?.hasShownLockedModal,isLocked:!0,user:n},i(n),r&&c&&c(!1)}catch(u){console.error("Error during document takeover:",u)}};import{c as fK}from"react/compiler-runtime";import{jsx as Xn,jsxs as om}from"react/jsx-runtime";import{getFieldPermissions as Ty}from"payload/shared";import pK,{Fragment as hK,useEffect as gK,useState as bK}from"react";import{jsx as _a,jsxs as rg}from"react/jsx-runtime";import{getTranslation as lK}from"@payloadcms/translations";import{text as cK}from"payload/shared";import uK,{useEffect as qA,useMemo as QA,useState as Dy}from"react";var dK="apiKey",ng="api-key",mK="field-type",KA=({enabled:t,readOnly:e})=>{let[o]=Dy(ns()),[n,r]=Dy(!1),[s,i]=Dy(!1),{i18n:l,t:a}=N(),{config:c,getEntityConfig:u}=W(),{collectionSlug:d}=De(),m=Lt(([w])=>w&&w[dK]||null),f=u({collectionSlug:d})?.fields?.find(w=>"name"in w&&w.name==="apiKey"),h=w=>cK(w,{name:"apiKey",type:"text",blockData:{},data:{},event:"onChange",maxLength:48,minLength:24,path:["apiKey"],preferences:{fields:{}},req:{payload:{config:c},t:a},siblingData:{}}),p=m?.value,g=QA(()=>{let w="API Key";return f?.label&&(w=f.label),lK(w,l)},[f,l]),b=QA(()=>rg("label",{className:`${ng}__label field-label`,htmlFor:"apiKey",children:[_a("span",{children:g}),_a(Qu,{value:p})]}),[g,p]),C=Ne({path:"apiKey",validate:h}),v=()=>{n&&r(!1),setTimeout(()=>{r(!0)},1)},{setValue:y,value:x}=C;return qA(()=>{!p&&t&&y(o),!t&&p&&y(null)},[p,t,y,o]),qA(()=>{n&&setTimeout(()=>{r(!1)},1e4)},[n]),t?rg(uK.Fragment,{children:[rg("div",{className:[mK,"api-key","read-only"].filter(Boolean).join(" "),children:[b,rg("div",{className:`${ng}__input-wrap`,children:[_a("input",{"aria-label":g,className:n?"highlight":void 0,disabled:!0,id:"apiKey",name:"apiKey",type:s?"text":"password",value:x||""}),_a("div",{className:`${ng}__toggle-button-wrap`,children:_a(oe,{buttonStyle:"none",className:`${ng}__toggle-button`,icon:_a(bh,{active:s}),onClick:()=>i(w=>!w)})})]})]}),!e&&_a(oC,{highlightField:v,setKey:()=>y(ns())})]}):null};var sg="auth-fields",eP=t=>{let e=fK(34),{className:o,collectionSlug:n,disableLocalStrategy:r,email:s,loginWithUsername:i,operation:l,readOnly:a,requirePassword:c,setValidateBeforeSubmit:u,useAPIKey:d,username:m,verify:f}=t,{permissions:h}=Ie(),[p,g]=bK(c),b=Lt(vK),C=Lt(CK),v=So(),{i18n:y,t:x}=N(),{docPermissions:w,isEditing:S,isInitializing:T,isTrashed:I}=De(),{config:R}=W(),{routes:F,serverURL:_}=R,{api:D}=F,A=!0,L=!0,E=typeof w.fields=="object"&&"password"in w.fields,k=typeof w.fields=="object"&&("username"in w.fields||"email"in w.fields);if(E){let{permissions:Z}=Ty({field:{name:"password",type:"text"},operation:l,parentName:"",permissions:w?.fields});l==="create"?A=Z===!0||typeof Z=="object"&&Z.create:A=Z===!0||typeof Z=="object"&&Z.update}if(k){let Z=i&&(i.requireEmail||i.allowEmailLogin),{operation:pe}=Ty({field:{name:"email",type:"text"},operation:"read",parentName:"",permissions:w?.fields}),{operation:be}=Ty({field:{name:"username",type:"text"},operation:"read",parentName:"",permissions:w?.fields});Z?L=be||pe:i&&!Z?L=be:L=pe}let B=(!r||typeof r=="object"&&r.enableFields===!0)&&(L||A),$=a||T||I,P=w?.fields===!0?!0:w?.fields?.enableAPIKey,M=a||P===!0||P&&typeof P=="object"&&!P?.update,j=a||P!==!0&&!P?.update,O=P===!0||P?.read,G;e:{let Z=h?.collections?.[n];if(Z){G=!!("unlock"in Z&&Z.unlock);break e}G=!1}let V=G,z;e[0]!==C||e[1]!==u||e[2]!==x?(z=Z=>{Z?(u(!0),C({type:"UPDATE",errorMessage:x("validation:required"),path:"password",valid:!1}),C({type:"UPDATE",errorMessage:x("validation:required"),path:"confirm-password",valid:!1})):(u(!1),C({type:"REMOVE",path:"password"}),C({type:"REMOVE",path:"confirm-password"})),g(Z)},e[0]=C,e[1]=u,e[2]=x,e[3]=z):z=e[3];let X=z,Q;e[4]!==D||e[5]!==n||e[6]!==s||e[7]!==y||e[8]!==i||e[9]!==_||e[10]!==x||e[11]!==m?(Q=async()=>{let Z=`${_}${D}/${n}/unlock`;(await fetch(Z,{body:JSON.stringify(i&&m?{username:m}:{email:s}),credentials:"include",headers:{"Accept-Language":y.language,"Content-Type":"application/json"},method:"post"})).status===200?K.success(x("authentication:successfullyUnlocked")):K.error(x("authentication:failedToUnlock"))},e[4]=D,e[5]=n,e[6]=s,e[7]=y,e[8]=i,e[9]=_,e[10]=x,e[11]=m,e[12]=Q):Q=e[12];let U=Q,ee,J;if(e[13]!==v?(ee=()=>{v||g(!1)},J=[v],e[13]=v,e[14]=ee,e[15]=J):(ee=e[14],J=e[15]),gK(ee,J),r&&!B&&!d)return null;let re;e[16]!==o?(re=[sg,o].filter(Boolean),e[16]=o,e[17]=re):re=e[17];let ie;e[18]!==M||e[19]!==O||e[20]!==n||e[21]!==$||e[22]!==b?.value||e[23]!==j||e[24]!==x||e[25]!==d?(ie=d&&Xn("div",{className:`${sg}__api-key`,children:O&&om(hK,{children:[Xn(Vr,{field:{name:"enableAPIKey",admin:{disabled:$,readOnly:j},label:x("authentication:enableAPIKey")},path:"enableAPIKey",schemaPath:`${n}.enableAPIKey`}),Xn(KA,{enabled:!!b?.value,readOnly:M})]})}),e[18]=M,e[19]=O,e[20]=n,e[21]=$,e[22]=b?.value,e[23]=j,e[24]=x,e[25]=d,e[26]=ie):ie=e[26];let le;return e[27]!==n||e[28]!==$||e[29]!==S||e[30]!==a||e[31]!==x||e[32]!==f?(le=f&&S&&Xn(Vr,{field:{name:"_verified",admin:{disabled:$,readOnly:a},label:x("authentication:verified")},path:"_verified",schemaPath:`${n}._verified`}),e[27]=n,e[28]=$,e[29]=S,e[30]=a,e[31]=x,e[32]=f,e[33]=le):le=e[33],om("div",{className:re.join(" "),children:[B&&om(pK.Fragment,{children:[Xn(py,{loginWithUsername:i,operation:l,permissions:w?.fields,readOnly:a||I,t:x}),(p||c)&&(!r||!B)&&om("div",{className:`${sg}__changing-password`,children:[Xn(pd,{autoComplete:"new-password",field:{name:"password",label:x("authentication:newPassword"),required:!0},indexPath:"",parentPath:"",parentSchemaPath:"",path:"password",schemaPath:"password"}),Xn(fd,{disabled:a||I})]}),om("div",{className:`${sg}__controls`,children:[p&&!c&&Xn(oe,{buttonStyle:"secondary",disabled:$,onClick:()=>X(!1),size:"medium",children:x("general:cancel")}),!p&&!c&&!r&&A&&Xn(oe,{buttonStyle:"secondary",disabled:$,id:"change-password",onClick:()=>X(!0),size:"medium",children:x("authentication:changePassword")}),l==="update"&&V&&Xn(oe,{buttonStyle:"secondary",disabled:$||!L,onClick:()=>void U(),size:"medium",children:x("authentication:forceUnlock")})]})]}),ie,le]})};function vK(t){let[e]=t;return e&&e?.enableAPIKey||null}function CK(t){return t[1]}import{c as yK}from"react/compiler-runtime";import{getTranslation as xK}from"@payloadcms/translations";import{formatAdminURL as ig}from"payload/shared";import{useEffect as wK}from"react";var Fy=t=>{let e=yK(21),{id:o,collectionSlug:n,globalSlug:r,isTrashed:s,pluralLabel:i,useAsTitle:l}=t,a=t?.view||void 0,{isEditing:c,isInitializing:u}=De(),{title:d}=No(),{isEntityVisible:m}=uy(),f;e[0]!==n||e[1]!==r||e[2]!==m?(f=m({collectionSlug:n,globalSlug:r}),e[0]=n,e[1]=r,e[2]=m,e[3]=f):f=e[3];let h=f,{setStepNav:p}=Pr(),{i18n:g,t:b}=N(),{config:C}=W(),{routes:v}=C,{admin:y}=v,x,w;return e[4]!==y||e[5]!==n||e[6]!==r||e[7]!==g||e[8]!==o||e[9]!==c||e[10]!==u||e[11]!==s||e[12]!==h||e[13]!==i||e[14]!==p||e[15]!==b||e[16]!==d||e[17]!==l||e[18]!==a?(x=()=>{let S=[];u||(n?(S.push({label:xK(i,g),url:h?ig({adminRoute:y,path:`/collections/${n}`}):void 0}),s&&S.push({label:b("general:trash"),url:h?ig({adminRoute:y,path:`/collections/${n}/trash`}):void 0}),c?S.push({label:l&&l!=="id"&&d||`${o}`,url:h?ig({adminRoute:y,path:s?`/collections/${n}/trash/${o}`:`/collections/${n}/${o}`}):void 0}):S.push({label:b("general:createNew")})):r&&S.push({label:d,url:h?ig({adminRoute:y,path:`/globals/${r}`}):void 0}),a&&S.push({label:a}),p(S))},w=[p,u,c,i,o,s,l,y,b,g,d,n,r,a,h],e[4]=y,e[5]=n,e[6]=r,e[7]=g,e[8]=o,e[9]=c,e[10]=u,e[11]=s,e[12]=h,e[13]=i,e[14]=p,e[15]=b,e[16]=d,e[17]=l,e[18]=a,e[19]=x,e[20]=w):(x=e[19],w=e[20]),wK(x,w),null};import{c as SK}from"react/compiler-runtime";import{useEffect as IK,useRef as _K}from"react";var Ry=t=>{let e=SK(14),{collectionConfig:o,config:n,fallback:r,globalConfig:s}=t,i=o?.admin?.useAsTitle,l;e[0]!==i?(l=C=>{let[v]=C;return i&&v&&v?.[i]||null},e[0]=i,e[1]=l):l=e[1];let a=Lt(l),c=_K(!1),{i18n:u}=N(),{setDocumentTitle:d}=No(),m=n?.admin?.dateFormat,f=a?.value||"",h;e[2]!==o||e[3]!==m||e[4]!==r||e[5]!==s||e[6]!==u||e[7]!==f||e[8]!==i?(h=Zo({collectionConfig:o,data:{id:"",[i]:f},dateFormat:m,fallback:r,globalConfig:s,i18n:u}),e[2]=o,e[3]=m,e[4]=r,e[5]=s,e[6]=u,e[7]=f,e[8]=i,e[9]=h):h=e[9];let p=h,g,b;return e[10]!==d||e[11]!==p?(g=()=>{if(!c.current){c.current=!0;return}d(p)},b=[d,p],e[10]=d,e[11]=p,e[12]=g,e[13]=b):(g=e[12],b=e[13]),IK(g,b),null};var Rs="collection-edit";function PK({BeforeDocumentControls:t,Description:e,EditMenuItems:o,PreviewButton:n,PublishButton:r,SaveButton:s,SaveDraftButton:i,Upload:l,UploadControls:a}){let{id:c,action:u,AfterDocument:d,AfterFields:m,apiURL:f,BeforeFields:h,collectionSlug:p,currentEditor:g,disableActions:b,disableCreate:C,disableLeaveWithoutSaving:v,docPermissions:y,documentIsLocked:x,documentLockState:w,getDocPermissions:S,getDocPreferences:T,globalSlug:I,hasPublishPermission:R,hasSavePermission:F,incrementVersionCount:_,initialState:D,isEditing:A,isInitializing:L,isTrashed:E,lastUpdateTime:k,redirectAfterCreate:B,redirectAfterDelete:$,redirectAfterDuplicate:P,redirectAfterRestore:M,savedDocumentData:j,setCurrentEditor:O,setDocumentIsLocked:G,unlockDocument:V,updateDocumentEditor:z,updateSavedDocumentData:X}=De(),{clearDoc:Q,drawerSlug:U,onDelete:ee,onDuplicate:J,onRestore:re,onSave:ie}=Zi(),le=!!U,{refreshCookieAsync:Z,user:pe}=Ie(),{config:be,config:{admin:{user:Ae},routes:{admin:ge}},getEntityConfig:Te}=W(),Y=Te({collectionSlug:p}),de=Te({globalSlug:I}),H=ct(),q=DK(),ne=TK(),{reportUpdate:te}=ps(),{resetUploadEdits:ce}=Pi(),{getFormState:he}=$t(),{startRouteTransition:$e}=qe(),{isLivePreviewEnabled:me,isLivePreviewing:ye,previewWindowType:Be}=Fo(),Oe=rP(null),ke=rP(null),He=ne.get("locale"),at=Y?.slug||de?.slug,ht=p&&!c?"create":"update",Ke=Y?Y.auth:void 0,Dt=Y?Y.upload:void 0,dt=Y||de,no=dt?.lockDocuments!==void 0?dt?.lockDocuments:!0,gt=no!==!1,se=(typeof no=="object"?no.duration:300)*1e3,Ce=!!(Y?.versions?.drafts&&Y?.versions?.drafts?.autosave||de?.versions?.drafts&&de?.versions?.drafts?.autosave),fe=typeof v<"u"?!v:!Ce,[Se,we]=lg(!1),[Me,Ze]=lg(!1),[Je,Ye]=lg(Date.now()),Tt=k+se,yo=Date.now()>Tt,Yt=AK(()=>[at],[at]),[je,xt]=lg(()=>!!(ht==="create"&&Ke&&!Ke.disableLocalStrategy)),tt=tP.useRef(null),Ue=rm(mt=>{G(!0);let rr=typeof w.current?.user=="object"?w.current?.user?.id:w.current?.user;if(mt){let Po=typeof mt.user=="string"||typeof mt.user=="number"?mt.user:mt.user.id;(!w.current||Po!==rr)&&(rr===pe.id&&Po!==pe.id&&(Ze(!0),w.current.hasShownLockedModal=!0),w.current={hasShownLockedModal:w.current?.hasShownLockedModal||!1,isLocked:!0,user:mt.user},O(mt.user))}},[w,O,G,pe?.id]),io=rm(mt=>{tt.current=mt},[]),Ao=rm(async()=>{let mt=w.current?.user,rr=typeof mt=="object"?mt?.id===pe?.id:mt===pe?.id;if(gt&&x&&(c||I)){let Po=tt.current?new URL(tt.current).pathname:"";if(!["/preview","/api","/versions"].some(en=>Po.includes(en))&&rr)try{await V(c,p??I),G(!1),O(null)}catch(en){console.error("Failed to unlock before leave",en)}}},[p,x,w,I,c,gt,O,G,V,pe?.id]),Wt=rm(async mt=>{let rr=Dr(ke),Po=mt?.doc||mt?.result;if(te({id:c,entitySlug:at,updatedAt:Po?.updatedAt||new Date().toISOString()}),pe&&p===Ae&&c===pe.id&&Z(),_(),typeof X=="function"&&X(Po||{}),typeof ie=="function"){let pr=c?"update":"create";ie({...mt,operation:pr,updatedAt:pr==="update"?new Date().toISOString():Po?.updatedAt||new Date().toISOString()})}if(!A&&H<2&&B!==!1){let pr=FK({adminRoute:ge,path:`/collections/${p}/${Po?.id}${He?`?locale=${He}`:""}`});$e(()=>q.push(pr))}else ce();if(await S(mt),(c||I)&&!Ce){let pr=await T(),{state:en}=await he({id:c,collectionSlug:p,data:Po,docPermissions:y,docPreferences:pr,globalSlug:I,operation:ht,renderAllFields:!0,returnLockStatus:!1,schemaPath:Yt.join("."),signal:rr.signal,skipValidation:!0});return gt&&G(!1),ke.current=null,en}},[te,c,at,pe,p,Ae,_,X,ie,B,A,H,S,I,Ce,Z,ge,He,q,ce,T,he,y,ht,Yt,gt,G,$e]),Lr=rm(async({formState:mt,submitted:rr})=>{let Po=Dr(Oe),pr=Date.now(),en=pr-Je,Da=gt&&en>=1e4;Da&&Ye(pr);let nP=await T(),Ny=await he({id:c,collectionSlug:p,docPermissions:y,docPreferences:nP,formState:mt,globalSlug:I,operation:ht,skipValidation:!rr,renderAllFields:!1,returnLockStatus:gt,schemaPath:Yt.join("."),signal:Po.signal,updateLastEdited:Da});if(!Ny)return;let{lockedState:sP,state:iP}=Ny;return gt&&Ue(sP),Oe.current=null,iP},[c,p,T,he,I,Ue,gt,ht,Yt,y,Je]);oP(()=>()=>{Ze(!1)},[]),oP(()=>{let mt=Oe.current,rr=ke.current;return()=>{_r(mt),_r(rr)}},[]);let In=x&&g&&(typeof g=="object"?g.id!==pe?.id:g!==pe?.id)&&!Se&&!Me&&!w.current?.hasShownLockedModal&&!yo,As=be.folders&&p===be.folders?.slug;return or("main",{className:[Rs,(c||I)&&`${Rs}--is-editing`,I&&`global-edit--${I}`,p&&`collection-edit--${p}`,ye&&Be==="iframe"&&`${Rs}--is-live-previewing`].filter(Boolean).join(" "),children:or($c,{operation:ht,children:ag(ds,{action:u,className:`${Rs}__form`,disabled:Se||L||!F||E,disableValidationOnSubmit:!je,initialState:!L&&D,isDocumentForm:!0,isInitializing:L,method:c?"PATCH":"POST",onChange:[Lr],onSuccess:Wt,children:[le&&or(VA,{drawerSlug:U,showDocumentID:!As}),gt&&In&&or(v0,{handleGoBack:()=>JA({adminRoute:ge,collectionSlug:p,router:q}),isActive:In,onReadOnly:()=>{we(!0),Ze(!1)},onTakeOver:()=>_y(c,p,I,pe,!1,z,O,w,gt),updatedAt:k,user:g}),gt&&Me&&or(b0,{handleBackToDashboard:()=>YA({adminRoute:ge,router:q}),isActive:Me,onReadOnly:()=>{we(!0),Ze(!1)}}),!Se&&fe&&or(bd,{onConfirm:Ao,onPrevent:io}),!le&&or(Fy,{collectionSlug:Y?.slug,globalSlug:de?.slug,id:c,isTrashed:E,pluralLabel:Y?.labels?.plural,useAsTitle:Y?.admin?.useAsTitle}),or(Ry,{collectionConfig:Y,config:be,fallback:H<=1?c?.toString():void 0,globalConfig:de}),or(q0,{apiURL:f,BeforeDocumentControls:t,customComponents:{PreviewButton:n,PublishButton:r,SaveButton:s,SaveDraftButton:i},data:j,disableActions:b||As||E,disableCreate:C,EditMenuItems:o,hasPublishPermission:R,hasSavePermission:F,id:c,isEditing:A,isInDrawer:le,isTrashed:E,onDelete:ee,onDrawerCreateNew:Q,onDuplicate:J,onRestore:re,onSave:Wt,onTakeOver:()=>_y(c,p,I,pe,!0,z,O,w,gt,we),permissions:y,readOnlyForIncomingUser:Se,redirectAfterDelete:$,redirectAfterDuplicate:P,redirectAfterRestore:M,slug:Y?.slug||de?.slug,user:g}),ag("div",{className:[`${Rs}__main-wrapper`,Be==="popup"&&`${Rs}--detached`].filter(Boolean).join(" "),children:[ag("div",{className:[`${Rs}__main`,Be==="popup"&&`${Rs}__main--popup-open`].filter(Boolean).join(" "),children:[or(Xu,{AfterFields:m,BeforeFields:h||ag(RK,{children:[Ke&&or(eP,{className:`${Rs}__auth`,collectionSlug:Y.slug,disableLocalStrategy:Y.auth?.disableLocalStrategy,email:j?.email,loginWithUsername:Ke?.loginWithUsername,operation:ht,readOnly:!F,requirePassword:!c,setValidateBeforeSubmit:xt,useAPIKey:Ke.useAPIKey,username:j?.username,verify:Ke.verify}),Dt&&or(tP.Fragment,{children:or(_l,{children:l||or(e0,{collectionSlug:Y.slug,initialState:D,uploadConfig:Dt,UploadControls:a})})})]}),Description:e,docPermissions:y,fields:dt.fields,forceSidebarWrap:ye,isTrashed:E,readOnly:Se||!F||E,schemaPathSegments:Yt}),d]}),me&&!le&&or(ZA,{collectionSlug:p,globalSlug:I})]})]})})})}import{jsx as EK}from"react/jsx-runtime";import"react";var NK="field-diff-label",Ay=({children:t})=>EK("div",{className:NK,children:t});import{jsx as LK,jsxs as Py}from"react/jsx-runtime";import{getTranslation as $K}from"@payloadcms/translations";var Ey="field-diff",kK=t=>{let{className:e,From:o,i18n:n,label:{label:r,locale:s},nestingLevel:i=0,To:l}=t;return Py("div",{className:`${Ey}-container${e?` ${e}`:""} nested-level-${i}`,style:i?{"--left-offset":`calc(50%  - (${i} * calc( calc(var(--base)* 0.5) - 2.5px  )))`}:{"--left-offset":"50%"},children:[Py(Ay,{children:[s&&LK("span",{className:`${Ey}__locale-label`,children:s}),typeof r!="function"&&$K(r||"",n)]}),Py("div",{className:`${Ey}-content`,style:i?{gridTemplateColumns:"calc(var(--left-offset) - calc(var(--base)*0.5) )     calc(50% - calc(var(--base)*0.5) + calc(50% - var(--left-offset)))"}:void 0,children:[o,l]})]})};export{S0 as Account,zH as ActionsProvider,wr as AnimateHeight,CU as AppHeader,dd as ArrayField,u1 as AuthProvider,nn as Banner,zc as BlocksDrawer,Wc as BlocksField,pJ as BrowseByFolderButton,GT as BulkUploadDrawer,r0 as BulkUploadProvider,oe as Button,fP as CalendarIcon,xU as Card,D1 as CheckIcon,Vr as CheckboxField,Lo as CheckboxInput,We as ChevronIcon,iy as ClientFunctionProvider,_0 as CloseMenuIcon,GJ as CodeBlockIcon,dP as CodeEdiftor,Hc as CodeEditorLazy,Uc as CodeField,Ni as Collapsible,Zc as CollapsibleField,ug as ConfigProvider,fd as ConfirmPasswordField,et as ConfirmationModal,xi as CopyIcon,L0 as CopyLocaleData,Qu as CopyToClipboard,Zb as DateCell,lC as DateCondition,pP as DatePicker,uu as DateTimeField,$1 as DefaultBlockImage,jQ as DefaultBrowseByFolderView,Cu as DefaultCell,TQ as DefaultCollectionFolderView,PK as DefaultEditView,aQ as DefaultListView,O0 as DeleteMany,q0 as DocumentControls,Vv as DocumentEventsProvider,Xu as DocumentFields,ec as DocumentIcon,Lc as DocumentInfoProvider,v0 as DocumentLocked,b0 as DocumentTakeOver,cn as DragHandleIcon,Bt as Drawer,zv as DrawerContentContainer,ts as DrawerToggler,oa as Dropzone,Jn as EditDepthProvider,gr as EditIcon,QX as EditMany,Zv as EditUpload,py as EmailAndUsernameFields,Wi as EmailField,vq as EntityVisibilityProvider,oy as ErrorIcon,Io as ErrorPill,Rd as ExternalLinkIcon,Xe as FieldDescription,kK as FieldDiffContainer,Ay as FieldDiffLabel,Qe as FieldError,_e as FieldLabel,rp as File,Qv as FileDetails,WC as FolderFileTable,Zu as FolderIcon,ra as FolderProvider,hJ as FolderTypeField,ds as Form,rO as FormLoadingOverlayToggle,Rr as FormSubmit,tZ as FullscreenModal,oC as GenerateConfirmation,ey as GridViewIcon,UY as GroupByHeader,tJ as GroupByPageControls,du as GroupField,_o as Gutter,F0 as Hamburger,mu as HiddenField,lZ as HydrateAuthProvider,ry as InfoIcon,Oh as ItemCardGrid,wu as JSONField,xu as JoinField,bd as LeaveWithoutSaving,T1 as LineIcon,Jt as Link,Eg as LinkIcon,CC as ListControls,Eb as ListDrawerContextProvider,LC as ListHeader,kb as ListQueryProvider,va as ListSelection,ty as ListViewIcon,aq as LivePreviewProvider,hn as LoadingOverlay,U_ as LoadingOverlayToggle,p1 as LocaleProvider,Fd as Locked,OC as LogOutIcon,sJ as Logout,D0 as MenuIcon,zJ as MinimizeMaximizeIcon,vr as Modal,bc as MoreIcon,Ju as MoveDocToFolder,fT as MoveDocToFolderButton,HJ as MoveFolderIcon,cJ as NavGroup,P0 as NavToggler,Oc as NullifyLocaleField,cC as NumberCondition,Su as NumberField,$c as OperationProvider,YW as OrderableTable,yu as Pagination,dy as ParamsProvider,pd as PasswordField,ch as PayloadIcon,$C as PerPage,vt as Pill,Ob as PillSelector,jr as PlusIcon,Iu as PointField,lt as Popup,ve as PopupList,f1 as PreferencesProvider,z0 as PreviewButton,Kv as PreviewSizes,fq as ProgressBar,X0 as PublishButton,oY as PublishMany,nH as QueryPresetsAccessCell,cH as QueryPresetsColumnField,KW as QueryPresetsColumnsCell,oH as QueryPresetsWhereCell,fH as QueryPresetsWhereField,Tu as RadioGroupField,pt as ReactSelect,mC as RelationshipCondition,Lu as RelationshipField,vv as RelationshipInput,vu as RelationshipProvider,sv as RelationshipTable,ue as RenderCustomComponent,n7 as RenderDefaultCell,jo as RenderFields,qC as RenderTitle,$u as RichTextField,zq as RootProvider,Gv as RouteCacheProvider,Ag as RouteTransitionProvider,ku as RowField,Zn as RowLabel,_g as RowLabelProvider,Z0 as SaveButton,Y0 as SaveDraftButton,Zd as ScrollInfoProvider,kd as SearchFilter,Li as SearchIcon,fy as SearchParamsProvider,k1 as SectionTitle,pt as Select,qq as SelectAll,hC as SelectCondition,ju as SelectField,Ln as SelectInput,nc as SelectMany,Kq as SelectRow,j0 as SelectionProvider,jb as ServerFunctionsProvider,Fy as SetDocumentStepNav,Ry as SetDocumentTitle,mU as SetStepNav,Ft as ShimmerEffect,VJ as SortColumn,WW as SortHeader,UW as SortRow,lP as StaggeredShimmers,ny as SuccessIcon,Ng as SwapIcon,Pv as TabComponent,W0 as Table,hu as TableColumnsProvider,Vu as TabsField,Rb as TabsProvider,gC as TextCondition,ta as TextField,Nv as TextInput,Gu as TextareaField,Lv as TextareaInput,mg as ThemeProvider,Tr as Thumbnail,cu as TimezonePicker,Eo as Tooltip,eo as Translation,cg as TranslationProvider,zu as UIField,pY as UnpublishMany,e0 as Upload,S1 as UploadEditsProvider,ud as UploadField,Tv as UploadHandlersProvider,Yp as UploadInput,C0 as ViewDescription,sy as WarningIcon,ki as WatchChildErrors,_1 as WatchCondition,my as WindowInfoProvider,bt as XIcon,SW as allFieldComponents,cP as defaultTheme,Zs as documentDrawerBaseClass,Re as fieldBaseClass,nF as fieldComponents,Mu as fieldReducer,Tc as formatDrawerSlug,y1 as formatTimeToNow,EX as getHTMLDiffComponents,Ht as parseSearchParams,K as toast,I0 as useActions,qJ as useAddClientFunction,Ls as useAllFormFields,Ie as useAuth,Qo as useBulkUpload,WT as useBulkUploadDrawerSlug,ev as useCellProps,MX as useClickOutside,K0 as useClickOutsideContext,QJ as useClientFunctions,Os as useCollapsible,W as useConfig,Cr as useDebounce,fv as useDebouncedCallback,Dv as useDebouncedEffect,dg as useDelay,Vb as useDelayedRender,St as useDocumentDrawer,Zi as useDocumentDrawerContext,ps as useDocumentEvents,Fa as useDocumentForm,De as useDocumentInfo,No as useDocumentTitle,Dc as useDrawerSlug,ct as useEditDepth,qt as useEffectEvent,uy as useEntityVisibility,Ne as useField,Mt as useFolder,Ve as useForm,Ig as useFormBackgroundProcessing,Lt as useFormFields,vi as useFormInitializing,So as useFormModified,kr as useFormProcessing,fo as useFormSubmitted,ua as useHotkey,Yn as useIntersect,qi as useListDrawer,Ir as useListDrawerContext,st as useListQuery,Ub as useListRelationships,xe as useLocale,ae as useModal,fa as useNav,yr as useOperation,Iq as useParams,$W as usePayloadAPI,ao as usePreferences,qp as useResize,kt as useRouteCache,qe as useRouteTransition,AP as useRowLabel,Xd as useScrollInfo,Bq as useSearchParams,wo as useSelection,$t as useServerFunctions,Pr as useStepNav,dl as useTableColumns,uP as useTheme,Fi as useThrottledEffect,N as useTranslation,kv as useUploadControls,Pi as useUploadEdits,Bu as useUploadHandlers,c0 as useUseTitleField,bm as useWatchForm,ya as useWindowInfo,ze as withCondition};
/*! Bundled license information:

scheduler/cjs/scheduler.production.js:
  (**
   * @license React
   * scheduler.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-is/cjs/react-is.production.min.js:
  (** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

is-buffer/index.js:
  (*!
   * Determine if an object is a Buffer
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

focus-trap/dist/focus-trap.esm.js:
  (*!
  * focus-trap 7.5.4
  * @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
  *)
*/
//# sourceMappingURL=index.js.map
