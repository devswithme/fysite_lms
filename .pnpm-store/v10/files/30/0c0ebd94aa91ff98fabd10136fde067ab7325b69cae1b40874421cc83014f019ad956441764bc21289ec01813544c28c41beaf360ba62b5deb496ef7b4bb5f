{"version":3,"file":"renderField.js","names":["getTranslation","createClientField","MissingEditorProp","fieldIsHiddenOrDisabled","RenderServerComponent","FieldDescription","WatchCondition","defaultUIFieldComponentKeys","renderField","id","clientFieldSchemaMap","collectionSlug","data","fieldConfig","fieldSchemaMap","fieldState","formState","indexPath","lastRenderedPath","mockRSCs","operation","parentPath","parentSchemaPath","path","permissions","preferences","readOnly","readOnlyFromProps","renderAllFields","req","schemaPath","siblingData","requiresRender","type","clientField","get","defaultIDType","payload","config","db","field","i18n","importMap","clientProps","customComponents","includes","serverProps","user","value","name","rows","forEach","row","rowIndex","rowLastRenderedPath","rowPath","rowRequiresRender","admin","components","RowLabel","Component","key","rowLabel","labels","singular","String","padStart","rowNumber","blockTypeToMatch","blockType","blockConfig","blocks","blockReferences","find","block","slug","Label","Object","keys","length","description","editor","Error","Field","_jsx","FieldComponent","Description","t","AfterInput","afterInput","BeforeInput","beforeInput"],"sources":["../../../src/forms/fieldSchemasToFormState/renderField.tsx"],"sourcesContent":["import type {\n  ClientComponentProps,\n  ClientField,\n  FieldPaths,\n  FlattenedBlock,\n  ServerComponentProps,\n} from 'payload'\n\nimport { getTranslation } from '@payloadcms/translations'\nimport { createClientField, MissingEditorProp } from 'payload'\nimport { fieldIsHiddenOrDisabled } from 'payload/shared'\n\nimport type { RenderFieldMethod } from './types.js'\n\nimport { RenderServerComponent } from '../../elements/RenderServerComponent/index.js'\n\n// eslint-disable-next-line payload/no-imports-from-exports-dir -- MUST reference the exports dir: https://github.com/payloadcms/payload/issues/12002#issuecomment-2791493587\nimport { FieldDescription, WatchCondition } from '../../exports/client/index.js'\n\nconst defaultUIFieldComponentKeys: Array<'Cell' | 'Description' | 'Field' | 'Filter'> = [\n  'Cell',\n  'Description',\n  'Field',\n  'Filter',\n]\n\nexport const renderField: RenderFieldMethod = ({\n  id,\n  clientFieldSchemaMap,\n  collectionSlug,\n  data,\n  fieldConfig,\n  fieldSchemaMap,\n  fieldState,\n  formState,\n  indexPath,\n  lastRenderedPath,\n  mockRSCs,\n  operation,\n  parentPath,\n  parentSchemaPath,\n  path,\n  permissions,\n  preferences,\n  readOnly: readOnlyFromProps,\n  renderAllFields,\n  req,\n  schemaPath,\n  siblingData,\n}) => {\n  const requiresRender = renderAllFields || !lastRenderedPath || lastRenderedPath !== path\n\n  if (!requiresRender && fieldConfig.type !== 'array' && fieldConfig.type !== 'blocks') {\n    return\n  }\n\n  const clientField = clientFieldSchemaMap\n    ? (clientFieldSchemaMap.get(schemaPath) as ClientField)\n    : createClientField({\n        defaultIDType: req.payload.config.db.defaultIDType,\n        field: fieldConfig,\n        i18n: req.i18n,\n        importMap: req.payload.importMap,\n      })\n\n  const clientProps: ClientComponentProps & Partial<FieldPaths> = {\n    field: clientField,\n    path,\n    permissions,\n    readOnly:\n      readOnlyFromProps === true\n        ? true\n        : typeof permissions === 'boolean'\n          ? !permissions\n          : !permissions?.[operation],\n    schemaPath,\n  }\n\n  if (fieldState?.customComponents) {\n    clientProps.customComponents = fieldState.customComponents\n  }\n\n  // fields with subfields\n  if (['array', 'blocks', 'collapsible', 'group', 'row', 'tabs'].includes(fieldConfig.type)) {\n    clientProps.indexPath = indexPath\n    clientProps.parentPath = parentPath\n    clientProps.parentSchemaPath = parentSchemaPath\n  }\n\n  const serverProps: ServerComponentProps = {\n    id,\n    clientField,\n    clientFieldSchemaMap,\n    data,\n    field: fieldConfig,\n    fieldSchemaMap,\n    permissions,\n    // TODO: Should we pass explicit values? initialValue, value, valid\n    // value and initialValue should be typed\n    collectionSlug,\n    formState,\n    i18n: req.i18n,\n    operation,\n    payload: req.payload,\n    preferences,\n    req,\n    siblingData,\n    user: req.user,\n    value: 'name' in fieldConfig && data?.[fieldConfig.name],\n  }\n\n  switch (fieldConfig.type) {\n    case 'array': {\n      fieldState?.rows?.forEach((row, rowIndex) => {\n        const rowLastRenderedPath = row.lastRenderedPath\n\n        const rowPath = `${path}.${rowIndex}`\n\n        const rowRequiresRender =\n          renderAllFields || !rowLastRenderedPath || rowLastRenderedPath !== rowPath\n\n        if (!rowRequiresRender) {\n          return\n        }\n\n        row.lastRenderedPath = rowPath\n\n        if (fieldConfig.admin?.components && 'RowLabel' in fieldConfig.admin.components) {\n          if (!row.customComponents) {\n            row.customComponents = {}\n          }\n\n          row.customComponents.RowLabel = !mockRSCs\n            ? RenderServerComponent({\n                clientProps,\n                Component: fieldConfig.admin.components.RowLabel,\n                importMap: req.payload.importMap,\n                key: `${rowIndex}`,\n                serverProps: {\n                  ...serverProps,\n                  rowLabel: `${getTranslation(fieldConfig.labels.singular, req.i18n)} ${String(\n                    rowIndex + 1,\n                  ).padStart(2, '0')}`,\n                  rowNumber: rowIndex + 1,\n                },\n              })\n            : 'Mock'\n        }\n      })\n\n      break\n    }\n\n    case 'blocks': {\n      fieldState?.rows?.forEach((row, rowIndex) => {\n        const rowLastRenderedPath = row.lastRenderedPath\n\n        const rowPath = `${path}.${rowIndex}`\n\n        const rowRequiresRender =\n          renderAllFields || !rowLastRenderedPath || rowLastRenderedPath !== rowPath\n\n        if (!rowRequiresRender) {\n          return\n        }\n\n        row.lastRenderedPath = rowPath\n\n        const blockTypeToMatch: string = row.blockType\n\n        const blockConfig =\n          req.payload.blocks[blockTypeToMatch] ??\n          ((fieldConfig.blockReferences ?? fieldConfig.blocks).find(\n            (block) => typeof block !== 'string' && block.slug === blockTypeToMatch,\n          ) as FlattenedBlock | undefined)\n\n        if (blockConfig.admin?.components && 'Label' in blockConfig.admin.components) {\n          if (!fieldState.rows[rowIndex]?.customComponents) {\n            fieldState.rows[rowIndex].customComponents = {}\n          }\n\n          fieldState.rows[rowIndex].customComponents.RowLabel = !mockRSCs\n            ? RenderServerComponent({\n                clientProps,\n                Component: blockConfig.admin.components.Label,\n                importMap: req.payload.importMap,\n                key: `${rowIndex}`,\n                serverProps: {\n                  ...serverProps,\n                  blockType: row.blockType,\n                  rowLabel: `${getTranslation(blockConfig.labels.singular, req.i18n)} ${String(\n                    rowIndex + 1,\n                  ).padStart(2, '0')}`,\n                  rowNumber: rowIndex + 1,\n                },\n              })\n            : 'Mock'\n        }\n      })\n\n      break\n    }\n  }\n\n  if (!requiresRender) {\n    return\n  }\n\n  /**\n   * Set the `lastRenderedPath` equal to the new path of the field, this will prevent it from being rendered again\n   */\n  fieldState.lastRenderedPath = path\n\n  if (fieldIsHiddenOrDisabled(clientField)) {\n    return\n  }\n\n  /**\n   * Only create the `customComponents` object if needed.\n   * This will prevent unnecessary data from being transferred to the client.\n   */\n  if (fieldConfig.admin) {\n    if (\n      (Object.keys(fieldConfig.admin.components || {}).length > 0 ||\n        fieldConfig.type === 'richText' ||\n        ('description' in fieldConfig.admin &&\n          typeof fieldConfig.admin.description === 'function')) &&\n      !fieldState?.customComponents\n    ) {\n      fieldState.customComponents = {}\n    }\n  }\n\n  switch (fieldConfig.type) {\n    case 'richText': {\n      if (!fieldConfig?.editor) {\n        throw new MissingEditorProp(fieldConfig) // while we allow disabling editor functionality, you should not have any richText fields defined if you do not have an editor\n      }\n\n      if (typeof fieldConfig?.editor === 'function') {\n        throw new Error('Attempted to access unsanitized rich text editor.')\n      }\n\n      if (!fieldConfig.admin) {\n        fieldConfig.admin = {}\n      }\n\n      if (!fieldConfig.admin.components) {\n        fieldConfig.admin.components = {}\n      }\n\n      fieldState.customComponents.Field = !mockRSCs ? (\n        <WatchCondition path={path}>\n          {RenderServerComponent({\n            clientProps,\n            Component: fieldConfig.editor.FieldComponent,\n            importMap: req.payload.importMap,\n            serverProps,\n          })}\n        </WatchCondition>\n      ) : (\n        'Mock'\n      )\n\n      break\n    }\n\n    case 'ui': {\n      if (fieldConfig?.admin?.components) {\n        // Render any extra, untyped components\n        for (const key in fieldConfig.admin.components) {\n          if (key in defaultUIFieldComponentKeys) {\n            continue\n          }\n\n          const Component = fieldConfig.admin.components[key]\n\n          fieldState.customComponents[key] = !mockRSCs\n            ? RenderServerComponent({\n                clientProps,\n                Component,\n                importMap: req.payload.importMap,\n                key: `field.admin.components.${key}`,\n                serverProps,\n              })\n            : 'Mock'\n        }\n      }\n      break\n    }\n\n    default: {\n      break\n    }\n  }\n\n  if (fieldConfig.admin) {\n    if (\n      'description' in fieldConfig.admin &&\n      typeof fieldConfig.admin?.description === 'function'\n    ) {\n      fieldState.customComponents.Description = !mockRSCs ? (\n        <FieldDescription\n          description={fieldConfig.admin?.description({\n            i18n: req.i18n,\n            t: req.i18n.t,\n          })}\n          path={path}\n        />\n      ) : (\n        'Mock'\n      )\n    }\n\n    if (fieldConfig.admin?.components) {\n      if ('afterInput' in fieldConfig.admin.components) {\n        fieldState.customComponents.AfterInput = !mockRSCs\n          ? RenderServerComponent({\n              clientProps,\n              Component: fieldConfig.admin.components.afterInput,\n              importMap: req.payload.importMap,\n              key: 'field.admin.components.afterInput',\n              serverProps,\n            })\n          : 'Mock'\n      }\n\n      if ('beforeInput' in fieldConfig.admin.components) {\n        fieldState.customComponents.BeforeInput = !mockRSCs\n          ? RenderServerComponent({\n              clientProps,\n              Component: fieldConfig.admin.components.beforeInput,\n              importMap: req.payload.importMap,\n              key: 'field.admin.components.beforeInput',\n              serverProps,\n            })\n          : 'Mock'\n      }\n\n      if ('Description' in fieldConfig.admin.components) {\n        fieldState.customComponents.Description = !mockRSCs\n          ? RenderServerComponent({\n              clientProps,\n              Component: fieldConfig.admin.components.Description,\n              importMap: req.payload.importMap,\n              key: 'field.admin.components.Description',\n              serverProps,\n            })\n          : 'Mock'\n      }\n\n      if ('Error' in fieldConfig.admin.components) {\n        fieldState.customComponents.Error = !mockRSCs\n          ? RenderServerComponent({\n              clientProps,\n              Component: fieldConfig.admin.components.Error,\n              importMap: req.payload.importMap,\n              key: 'field.admin.components.Error',\n              serverProps,\n            })\n          : 'Mock'\n      }\n\n      if ('Label' in fieldConfig.admin.components) {\n        fieldState.customComponents.Label = !mockRSCs\n          ? RenderServerComponent({\n              clientProps,\n              Component: fieldConfig.admin.components.Label,\n              importMap: req.payload.importMap,\n              key: 'field.admin.components.Label',\n              serverProps,\n            })\n          : 'Mock'\n      }\n\n      if ('Field' in fieldConfig.admin.components) {\n        fieldState.customComponents.Field = !mockRSCs ? (\n          <WatchCondition path={path}>\n            {RenderServerComponent({\n              clientProps,\n              Component: fieldConfig.admin.components.Field,\n              importMap: req.payload.importMap,\n              key: 'field.admin.components.Field',\n              serverProps,\n            })}\n          </WatchCondition>\n        ) : (\n          'Mock'\n        )\n      }\n    }\n  }\n}\n"],"mappings":"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","ignoreList":[]}