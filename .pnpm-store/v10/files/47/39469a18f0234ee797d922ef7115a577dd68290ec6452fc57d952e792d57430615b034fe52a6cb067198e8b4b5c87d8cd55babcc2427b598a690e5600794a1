{"version":3,"sources":["../../../src/resolvers/globals/findOne.ts"],"sourcesContent":["import type { Document, SanitizedGlobalConfig } from 'payload'\n\nimport { findOneOperation, isolateObjectProperty } from 'payload'\n\nimport type { Context } from '../types.js'\n\nexport function findOne(globalConfig: SanitizedGlobalConfig): Document {\n  return async function resolver(_, args, context: Context) {\n    if (args.locale) {\n      context.req.locale = args.locale\n    }\n    if (args.fallbackLocale) {\n      context.req.fallbackLocale = args.fallbackLocale\n    }\n\n    const { slug } = globalConfig\n\n    const options = {\n      slug,\n      depth: 0,\n      draft: args.draft,\n      globalConfig,\n      req: isolateObjectProperty(context.req, 'transactionID'),\n    }\n\n    const result = await findOneOperation(options)\n    return result\n  }\n}\n"],"names":["findOneOperation","isolateObjectProperty","findOne","globalConfig","resolver","_","args","context","locale","req","fallbackLocale","slug","options","depth","draft","result"],"mappings":"AAEA,SAASA,gBAAgB,EAAEC,qBAAqB,QAAQ,UAAS;AAIjE,OAAO,SAASC,QAAQC,YAAmC;IACzD,OAAO,eAAeC,SAASC,CAAC,EAAEC,IAAI,EAAEC,OAAgB;QACtD,IAAID,KAAKE,MAAM,EAAE;YACfD,QAAQE,GAAG,CAACD,MAAM,GAAGF,KAAKE,MAAM;QAClC;QACA,IAAIF,KAAKI,cAAc,EAAE;YACvBH,QAAQE,GAAG,CAACC,cAAc,GAAGJ,KAAKI,cAAc;QAClD;QAEA,MAAM,EAAEC,IAAI,EAAE,GAAGR;QAEjB,MAAMS,UAAU;YACdD;YACAE,OAAO;YACPC,OAAOR,KAAKQ,KAAK;YACjBX;YACAM,KAAKR,sBAAsBM,QAAQE,GAAG,EAAE;QAC1C;QAEA,MAAMM,SAAS,MAAMf,iBAAiBY;QACtC,OAAOG;IACT;AACF"}